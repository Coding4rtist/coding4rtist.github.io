{"version":3,"file":"component---src-pages-index-js-a1da3c5afdedb44d5bce.js","mappings":"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","sources":["webpack://coding4rtist-portfolio/./node_modules/react-icons/lib/iconsManifest.mjs","webpack://coding4rtist-portfolio/./node_modules/react-icons/lib/iconContext.mjs","webpack://coding4rtist-portfolio/./node_modules/react-icons/lib/iconBase.mjs","webpack://coding4rtist-portfolio/../src/image-utils.ts","webpack://coding4rtist-portfolio/../src/components/hooks.ts","webpack://coding4rtist-portfolio/../src/components/layout-wrapper.tsx","webpack://coding4rtist-portfolio/../src/components/picture.tsx","webpack://coding4rtist-portfolio/../src/components/placeholder.tsx","webpack://coding4rtist-portfolio/../src/components/main-image.tsx","webpack://coding4rtist-portfolio/../src/components/gatsby-image.server.tsx","webpack://coding4rtist-portfolio/../src/components/gatsby-image.browser.tsx","webpack://coding4rtist-portfolio/../src/components/static-image.server.tsx","webpack://coding4rtist-portfolio/../src/components/static-image.tsx","webpack://coding4rtist-portfolio/./node_modules/camelcase/index.js","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/render/utils/keys-transform.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/render/dom/parse-transform.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/utils/is-css-variable.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/projection/geometry/conversion.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/utils/mix/number.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/projection/utils/has-transform.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/projection/geometry/delta-apply.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/projection/utils/measure.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/render/utils/keys-position.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-utils/dist/es/clamp.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/value/types/numbers/index.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/value/types/numbers/units.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/value/types/test.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/value/types/dimensions.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/value/types/auto.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-utils/dist/es/is-numerical-string.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/utils/css-variables-conversion.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/keyframes/utils/unit-conversion.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-utils/dist/es/noop.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-utils/dist/es/global-config.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/frameloop/order.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/stats/buffer.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/frameloop/batcher.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/frameloop/render-step.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/frameloop/frame.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/keyframes/KeyframesResolver.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/keyframes/utils/fill-wildcards.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-utils/dist/es/is-zero-value-string.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/keyframes/utils/is-none.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/value/types/utils/sanitize.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/value/types/utils/float-regex.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/value/types/utils/single-color-regex.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/value/types/color/utils.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/value/types/utils/is-nullish.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/value/types/color/rgba.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/value/types/color/hex.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/value/types/color/hsla.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/value/types/color/index.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/value/types/utils/color-regex.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/value/types/complex/index.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/value/types/complex/filter.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/value/types/int.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/value/types/maps/number.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/value/types/maps/transform.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/value/types/maps/defaults.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/value/types/utils/animatable-none.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/keyframes/utils/make-none-animatable.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/keyframes/DOMKeyframesResolver.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/value/utils/is-motion-value.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/frameloop/sync-time.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-utils/dist/es/array.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-utils/dist/es/subscription-manager.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-utils/dist/es/velocity-per-second.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/value/index.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/value/types/utils/find.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/frameloop/microtask.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/motion/features/definitions.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/projection/geometry/models.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/utils/is-browser.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/utils/reduced-motion/state.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/store.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/animation/utils/is-animation-controls.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/utils/is-variant-label.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/utils/variant-props.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/utils/is-controlling-variants.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/utils/resolve-variants.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/VisualElement.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/utils/reduced-motion/index.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/utils/motion-values.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/dom/DOMVisualElement.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/value/types/utils/get-as-type.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/html/utils/build-transform.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/html/utils/build-styles.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/html/utils/render.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/projection/styles/scale-border-radius.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/projection/styles/scale-box-shadow.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/projection/styles/scale-correction.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/motion/utils/is-forced-motion-value.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/html/utils/scrape-motion-values.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/html/HTMLVisualElement.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/dom/utils/camel-to-dash.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/svg/utils/path.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/svg/utils/build-attrs.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/svg/utils/camel-case-attrs.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/svg/utils/is-svg-tag.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/svg/utils/scrape-motion-values.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/svg/SVGVisualElement.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/svg/utils/render.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/svg/lowercase-elements.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/dom/utils/is-svg-component.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/dom/create-visual-element.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/context/LayoutGroupContext.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/context/LazyContext.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/context/MotionConfigContext.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/context/MotionContext/index.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/context/MotionContext/create.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/context/MotionContext/utils.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/html/utils/create-render-state.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/html/use-props.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/svg/utils/create-render-state.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/svg/use-props.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/motion/utils/valid-prop.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/dom/utils/filter-props.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/dom/use-render.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/context/PresenceContext.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/value/utils/resolve-motion-value.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/motion/utils/use-visual-state.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/utils/use-constant.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/html/use-html-visual-state.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/svg/use-svg-visual-state.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/motion/utils/symbol.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/motion/utils/use-motion-ref.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/animation/optimized-appear/data-id.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/context/SwitchLayoutGroupContext.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/utils/is-ref-object.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/utils/use-isomorphic-effect.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/motion/utils/use-visual-element.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/motion/index.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/motion/features/load-features.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/components/create-proxy.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/utils/resolve-dynamic-variants.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/utils/get-value-transition.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/animation/utils/is-keyframes-target.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/utils/setters.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/value/use-will-change/add-will-change.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/value/use-will-change/is.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/animation/optimized-appear/get-appear-id.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/utils/make-animation-instant.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-utils/dist/es/pipe.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-utils/dist/es/time-conversion.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/stats/animation-count.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/value/types/color/hsla-to-rgba.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/utils/mix/immediate.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/utils/mix/color.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/utils/mix/visibility.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/utils/mix/complex.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/utils/mix/index.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/drivers/frame.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/waapi/utils/linear.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/generators/utils/calc-duration.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/generators/utils/velocity.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/generators/spring/defaults.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/generators/spring/find.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/generators/spring/index.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/generators/inertia.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/generators/utils/create-generator-easing.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-utils/dist/es/easing/cubic-bezier.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-utils/dist/es/easing/ease.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-utils/dist/es/easing/modifiers/mirror.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-utils/dist/es/easing/modifiers/reverse.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-utils/dist/es/easing/back.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-utils/dist/es/easing/anticipate.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-utils/dist/es/easing/circ.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-utils/dist/es/easing/utils/is-bezier-definition.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-utils/dist/es/easing/utils/map.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-utils/dist/es/progress.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/utils/interpolate.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/keyframes/offsets/default.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/keyframes/offsets/fill.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/generators/keyframes.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-utils/dist/es/easing/utils/is-easing-array.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/keyframes/offsets/time.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/keyframes/get-final.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/utils/replace-transition-type.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/utils/WithPromise.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/JSAnimation.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-utils/dist/es/memo.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/utils/supports/scroll-timeline.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/utils/supports/flags.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/utils/supports/memo.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/utils/supports/linear-easing.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/waapi/easing/cubic-bezier.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/waapi/easing/supported.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/waapi/easing/map-easing.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/waapi/start-waapi-animation.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/generators/utils/is-generator.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/NativeAnimation.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/waapi/utils/apply-generator.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/render/dom/style-set.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/render/dom/is-css-var.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/waapi/utils/unsupported-easing.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/NativeAnimationExtended.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/utils/is-animatable.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/waapi/supports/waapi.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/AsyncMotionValueAnimation.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/animation/utils/can-animate.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/animation/animators/waapi/utils/get-final-keyframe.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/animation/utils/default-transitions.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/animation/interfaces/motion-value.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/animation/utils/is-transition-defined.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/animation/interfaces/visual-element-target.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/animation/utils/calc-child-stagger.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/animation/interfaces/visual-element-variant.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/utils/shallow-compare.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/utils/get-variant-context.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/utils/animation-state.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/animation/interfaces/visual-element.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/motion/features/Feature.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/motion/features/animation/exit.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/motion/features/animations.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/motion/features/animation/index.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/gestures/drag/state/is-active.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/gestures/press/utils/is-keyboard-accessible.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/events/add-dom-event.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/gestures/utils/is-primary-pointer.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/events/event-info.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/events/add-pointer-event.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/projection/geometry/delta-calc.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/projection/utils/each-axis.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/utils/get-context-window.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/utils/distance.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/gestures/pan/PanSession.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/gestures/drag/utils/constraints.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/gestures/drag/VisualElementDragControls.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/gestures/drag/state/set-active.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/gestures/pan/index.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/projection/node/state.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/motion/features/layout/MeasureLayout.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/components/AnimatePresence/use-presence.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-utils/dist/es/is-object.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/utils/is-svg-element.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/utils/compare-by-depth.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/utils/flat-tree.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/utils/delay.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/projection/animation/mix-values.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/projection/geometry/copy.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/projection/geometry/delta-remove.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/projection/geometry/utils.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/projection/shared/stack.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/projection/node/create-projection-node.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/utils/is-svg-svg-element.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/animation/animate/single-value.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/projection/styles/transform.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/projection/node/DocumentProjectionNode.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/projection/node/HTMLProjectionNode.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/motion/features/drag.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/gestures/drag/index.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/gestures/utils/setup.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/utils/resolve-elements.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/gestures/hover.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/gestures/hover.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/gestures/utils/is-node-or-child.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/gestures/press/utils/state.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/gestures/press/utils/keyboard.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/gestures/press/index.mjs","webpack://coding4rtist-portfolio/./node_modules/motion-dom/dist/es/utils/is-html-element.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/gestures/press.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/motion/features/viewport/observers.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/motion/features/viewport/index.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/motion/features/gestures.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/gestures/focus.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/render/components/motion/feature-bundle.mjs","webpack://coding4rtist-portfolio/./node_modules/framer-motion/dist/es/motion/features/layout.mjs","webpack://coding4rtist-portfolio/./node_modules/clsx/dist/clsx.mjs","webpack://coding4rtist-portfolio/./node_modules/tailwind-merge/dist/bundle-mjs.mjs","webpack://coding4rtist-portfolio/./src/lib/utils.js","webpack://coding4rtist-portfolio/./src/components/ui/BentoCard.js","webpack://coding4rtist-portfolio/./src/images/avatar_small.mp4","webpack://coding4rtist-portfolio/./src/components/ui/Button.js","webpack://coding4rtist-portfolio/./src/lib/constants.js","webpack://coding4rtist-portfolio/./src/components/widgets/AboutWidget.js","webpack://coding4rtist-portfolio/./node_modules/embla-carousel-reactive-utils/esm/embla-carousel-reactive-utils.esm.js","webpack://coding4rtist-portfolio/./node_modules/embla-carousel/esm/embla-carousel.esm.js","webpack://coding4rtist-portfolio/./node_modules/embla-carousel-react/esm/embla-carousel-react.esm.js","webpack://coding4rtist-portfolio/./node_modules/embla-carousel-autoplay/esm/embla-carousel-autoplay.esm.js","webpack://coding4rtist-portfolio/./src/components/widgets/ProjectCarousel.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selector.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selectorAll.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/selectAll.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/array.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/matcher.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/selectChild.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/selectChildren.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/sparse.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/enter.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/data.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/sort.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/namespaces.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/namespace.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/attr.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/window.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/style.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/property.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/classed.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/text.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/html.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/raise.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/lower.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/creator.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/insert.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/remove.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/clone.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/on.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/dispatch.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/index.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/select.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/filter.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/constant.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/exit.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/join.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/merge.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/order.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/call.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/nodes.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/node.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/size.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/empty.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/each.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/append.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/datum.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/selection/iterator.js","webpack://coding4rtist-portfolio/./node_modules/d3-dispatch/src/dispatch.js","webpack://coding4rtist-portfolio/./node_modules/d3-timer/src/timer.js","webpack://coding4rtist-portfolio/./node_modules/d3-timer/src/timeout.js","webpack://coding4rtist-portfolio/./node_modules/d3-transition/src/transition/schedule.js","webpack://coding4rtist-portfolio/./node_modules/d3-interpolate/src/number.js","webpack://coding4rtist-portfolio/./node_modules/d3-interpolate/src/transform/decompose.js","webpack://coding4rtist-portfolio/./node_modules/d3-interpolate/src/transform/parse.js","webpack://coding4rtist-portfolio/./node_modules/d3-interpolate/src/transform/index.js","webpack://coding4rtist-portfolio/./node_modules/d3-transition/src/transition/tween.js","webpack://coding4rtist-portfolio/./node_modules/d3-color/src/define.js","webpack://coding4rtist-portfolio/./node_modules/d3-color/src/color.js","webpack://coding4rtist-portfolio/./node_modules/d3-interpolate/src/basis.js","webpack://coding4rtist-portfolio/./node_modules/d3-interpolate/src/constant.js","webpack://coding4rtist-portfolio/./node_modules/d3-interpolate/src/color.js","webpack://coding4rtist-portfolio/./node_modules/d3-interpolate/src/rgb.js","webpack://coding4rtist-portfolio/./node_modules/d3-interpolate/src/basisClosed.js","webpack://coding4rtist-portfolio/./node_modules/d3-interpolate/src/string.js","webpack://coding4rtist-portfolio/./node_modules/d3-transition/src/transition/interpolate.js","webpack://coding4rtist-portfolio/./node_modules/d3-transition/src/transition/attr.js","webpack://coding4rtist-portfolio/./node_modules/d3-transition/src/transition/attrTween.js","webpack://coding4rtist-portfolio/./node_modules/d3-transition/src/transition/delay.js","webpack://coding4rtist-portfolio/./node_modules/d3-transition/src/transition/duration.js","webpack://coding4rtist-portfolio/./node_modules/d3-transition/src/transition/selection.js","webpack://coding4rtist-portfolio/./node_modules/d3-transition/src/transition/style.js","webpack://coding4rtist-portfolio/./node_modules/d3-transition/src/transition/index.js","webpack://coding4rtist-portfolio/./node_modules/d3-transition/src/transition/select.js","webpack://coding4rtist-portfolio/./node_modules/d3-transition/src/transition/selectAll.js","webpack://coding4rtist-portfolio/./node_modules/d3-transition/src/transition/filter.js","webpack://coding4rtist-portfolio/./node_modules/d3-transition/src/transition/merge.js","webpack://coding4rtist-portfolio/./node_modules/d3-transition/src/transition/transition.js","webpack://coding4rtist-portfolio/./node_modules/d3-transition/src/transition/on.js","webpack://coding4rtist-portfolio/./node_modules/d3-transition/src/transition/styleTween.js","webpack://coding4rtist-portfolio/./node_modules/d3-transition/src/transition/text.js","webpack://coding4rtist-portfolio/./node_modules/d3-transition/src/transition/textTween.js","webpack://coding4rtist-portfolio/./node_modules/d3-transition/src/transition/remove.js","webpack://coding4rtist-portfolio/./node_modules/d3-transition/src/transition/ease.js","webpack://coding4rtist-portfolio/./node_modules/d3-transition/src/transition/easeVarying.js","webpack://coding4rtist-portfolio/./node_modules/d3-transition/src/transition/end.js","webpack://coding4rtist-portfolio/./node_modules/d3-transition/src/selection/transition.js","webpack://coding4rtist-portfolio/./node_modules/d3-ease/src/cubic.js","webpack://coding4rtist-portfolio/./node_modules/d3-transition/src/selection/index.js","webpack://coding4rtist-portfolio/./node_modules/d3-transition/src/selection/interrupt.js","webpack://coding4rtist-portfolio/./node_modules/d3-transition/src/interrupt.js","webpack://coding4rtist-portfolio/./node_modules/d3-brush/src/brush.js","webpack://coding4rtist-portfolio/./node_modules/d3-geo/src/identity.js","webpack://coding4rtist-portfolio/./node_modules/d3-geo/src/stream.js","webpack://coding4rtist-portfolio/./node_modules/d3-array/src/fsum.js","webpack://coding4rtist-portfolio/./node_modules/d3-geo/src/math.js","webpack://coding4rtist-portfolio/./node_modules/d3-geo/src/noop.js","webpack://coding4rtist-portfolio/./node_modules/d3-geo/src/path/area.js","webpack://coding4rtist-portfolio/./node_modules/d3-geo/src/path/bounds.js","webpack://coding4rtist-portfolio/./node_modules/d3-geo/src/path/centroid.js","webpack://coding4rtist-portfolio/./node_modules/d3-geo/src/path/context.js","webpack://coding4rtist-portfolio/./node_modules/d3-geo/src/path/measure.js","webpack://coding4rtist-portfolio/./node_modules/d3-geo/src/path/string.js","webpack://coding4rtist-portfolio/./node_modules/d3-geo/src/clip/buffer.js","webpack://coding4rtist-portfolio/./node_modules/d3-geo/src/pointEqual.js","webpack://coding4rtist-portfolio/./node_modules/d3-geo/src/clip/rejoin.js","webpack://coding4rtist-portfolio/./node_modules/d3-geo/src/cartesian.js","webpack://coding4rtist-portfolio/./node_modules/d3-geo/src/polygonContains.js","webpack://coding4rtist-portfolio/./node_modules/d3-array/src/merge.js","webpack://coding4rtist-portfolio/./node_modules/d3-geo/src/clip/index.js","webpack://coding4rtist-portfolio/./node_modules/d3-geo/src/clip/antimeridian.js","webpack://coding4rtist-portfolio/./node_modules/d3-geo/src/circle.js","webpack://coding4rtist-portfolio/./node_modules/d3-geo/src/clip/rectangle.js","webpack://coding4rtist-portfolio/./node_modules/d3-geo/src/clip/line.js","webpack://coding4rtist-portfolio/./node_modules/d3-geo/src/compose.js","webpack://coding4rtist-portfolio/./node_modules/d3-geo/src/rotation.js","webpack://coding4rtist-portfolio/./node_modules/d3-geo/src/transform.js","webpack://coding4rtist-portfolio/./node_modules/d3-geo/src/projection/fit.js","webpack://coding4rtist-portfolio/./node_modules/d3-geo/src/projection/resample.js","webpack://coding4rtist-portfolio/./node_modules/d3-geo/src/projection/index.js","webpack://coding4rtist-portfolio/./node_modules/d3-geo/src/projection/azimuthal.js","webpack://coding4rtist-portfolio/./node_modules/d3-geo/src/clip/circle.js","webpack://coding4rtist-portfolio/./node_modules/d3-geo/src/projection/orthographic.js","webpack://coding4rtist-portfolio/./node_modules/d3-selection/src/select.js","webpack://coding4rtist-portfolio/./node_modules/d3-zoom/src/transform.js","webpack://coding4rtist-portfolio/./src/components/widgets/GlobeWidget.js","webpack://coding4rtist-portfolio/./node_modules/d3-geo/src/path/index.js","webpack://coding4rtist-portfolio/./src/components/widgets/TimelineWidget.js","webpack://coding4rtist-portfolio/./src/components/widgets/NowWidget.js","webpack://coding4rtist-portfolio/./src/pages/index.js","webpack://coding4rtist-portfolio/./src/layouts/Layout.js","webpack://coding4rtist-portfolio/./src/components/Seo.js"],"sourcesContent":["export var IconsManifest = [\n  {\n    \"id\": \"ci\",\n    \"name\": \"Circum Icons\",\n    \"projectUrl\": \"https://circumicons.com/\",\n    \"license\": \"MPL-2.0 license\",\n    \"licenseUrl\": \"https://github.com/Klarr-Agency/Circum-Icons/blob/main/LICENSE\"\n  },\n  {\n    \"id\": \"fa\",\n    \"name\": \"Font Awesome 5\",\n    \"projectUrl\": \"https://fontawesome.com/\",\n    \"license\": \"CC BY 4.0 License\",\n    \"licenseUrl\": \"https://creativecommons.org/licenses/by/4.0/\"\n  },\n  {\n    \"id\": \"fa6\",\n    \"name\": \"Font Awesome 6\",\n    \"projectUrl\": \"https://fontawesome.com/\",\n    \"license\": \"CC BY 4.0 License\",\n    \"licenseUrl\": \"https://creativecommons.org/licenses/by/4.0/\"\n  },\n  {\n    \"id\": \"io\",\n    \"name\": \"Ionicons 4\",\n    \"projectUrl\": \"https://ionicons.com/\",\n    \"license\": \"MIT\",\n    \"licenseUrl\": \"https://github.com/ionic-team/ionicons/blob/master/LICENSE\"\n  },\n  {\n    \"id\": \"io5\",\n    \"name\": \"Ionicons 5\",\n    \"projectUrl\": \"https://ionicons.com/\",\n    \"license\": \"MIT\",\n    \"licenseUrl\": \"https://github.com/ionic-team/ionicons/blob/master/LICENSE\"\n  },\n  {\n    \"id\": \"md\",\n    \"name\": \"Material Design icons\",\n    \"projectUrl\": \"http://google.github.io/material-design-icons/\",\n    \"license\": \"Apache License Version 2.0\",\n    \"licenseUrl\": \"https://github.com/google/material-design-icons/blob/master/LICENSE\"\n  },\n  {\n    \"id\": \"ti\",\n    \"name\": \"Typicons\",\n    \"projectUrl\": \"http://s-ings.com/typicons/\",\n    \"license\": \"CC BY-SA 3.0\",\n    \"licenseUrl\": \"https://creativecommons.org/licenses/by-sa/3.0/\"\n  },\n  {\n    \"id\": \"go\",\n    \"name\": \"Github Octicons icons\",\n    \"projectUrl\": \"https://octicons.github.com/\",\n    \"license\": \"MIT\",\n    \"licenseUrl\": \"https://github.com/primer/octicons/blob/master/LICENSE\"\n  },\n  {\n    \"id\": \"fi\",\n    \"name\": \"Feather\",\n    \"projectUrl\": \"https://feathericons.com/\",\n    \"license\": \"MIT\",\n    \"licenseUrl\": \"https://github.com/feathericons/feather/blob/master/LICENSE\"\n  },\n  {\n    \"id\": \"lu\",\n    \"name\": \"Lucide\",\n    \"projectUrl\": \"https://lucide.dev/\",\n    \"license\": \"ISC\",\n    \"licenseUrl\": \"https://github.com/lucide-icons/lucide/blob/main/LICENSE\"\n  },\n  {\n    \"id\": \"gi\",\n    \"name\": \"Game Icons\",\n    \"projectUrl\": \"https://game-icons.net/\",\n    \"license\": \"CC BY 3.0\",\n    \"licenseUrl\": \"https://creativecommons.org/licenses/by/3.0/\"\n  },\n  {\n    \"id\": \"wi\",\n    \"name\": \"Weather Icons\",\n    \"projectUrl\": \"https://erikflowers.github.io/weather-icons/\",\n    \"license\": \"SIL OFL 1.1\",\n    \"licenseUrl\": \"http://scripts.sil.org/OFL\"\n  },\n  {\n    \"id\": \"di\",\n    \"name\": \"Devicons\",\n    \"projectUrl\": \"https://vorillaz.github.io/devicons/\",\n    \"license\": \"MIT\",\n    \"licenseUrl\": \"https://opensource.org/licenses/MIT\"\n  },\n  {\n    \"id\": \"ai\",\n    \"name\": \"Ant Design Icons\",\n    \"projectUrl\": \"https://github.com/ant-design/ant-design-icons\",\n    \"license\": \"MIT\",\n    \"licenseUrl\": \"https://opensource.org/licenses/MIT\"\n  },\n  {\n    \"id\": \"bs\",\n    \"name\": \"Bootstrap Icons\",\n    \"projectUrl\": \"https://github.com/twbs/icons\",\n    \"license\": \"MIT\",\n    \"licenseUrl\": \"https://opensource.org/licenses/MIT\"\n  },\n  {\n    \"id\": \"ri\",\n    \"name\": \"Remix Icon\",\n    \"projectUrl\": \"https://github.com/Remix-Design/RemixIcon\",\n    \"license\": \"Apache License Version 2.0\",\n    \"licenseUrl\": \"http://www.apache.org/licenses/\"\n  },\n  {\n    \"id\": \"fc\",\n    \"name\": \"Flat Color Icons\",\n    \"projectUrl\": \"https://github.com/icons8/flat-color-icons\",\n    \"license\": \"MIT\",\n    \"licenseUrl\": \"https://opensource.org/licenses/MIT\"\n  },\n  {\n    \"id\": \"gr\",\n    \"name\": \"Grommet-Icons\",\n    \"projectUrl\": \"https://github.com/grommet/grommet-icons\",\n    \"license\": \"Apache License Version 2.0\",\n    \"licenseUrl\": \"http://www.apache.org/licenses/\"\n  },\n  {\n    \"id\": \"hi\",\n    \"name\": \"Heroicons\",\n    \"projectUrl\": \"https://github.com/tailwindlabs/heroicons\",\n    \"license\": \"MIT\",\n    \"licenseUrl\": \"https://opensource.org/licenses/MIT\"\n  },\n  {\n    \"id\": \"hi2\",\n    \"name\": \"Heroicons 2\",\n    \"projectUrl\": \"https://github.com/tailwindlabs/heroicons\",\n    \"license\": \"MIT\",\n    \"licenseUrl\": \"https://opensource.org/licenses/MIT\"\n  },\n  {\n    \"id\": \"si\",\n    \"name\": \"Simple Icons\",\n    \"projectUrl\": \"https://simpleicons.org/\",\n    \"license\": \"CC0 1.0 Universal\",\n    \"licenseUrl\": \"https://creativecommons.org/publicdomain/zero/1.0/\"\n  },\n  {\n    \"id\": \"sl\",\n    \"name\": \"Simple Line Icons\",\n    \"projectUrl\": \"https://thesabbir.github.io/simple-line-icons/\",\n    \"license\": \"MIT\",\n    \"licenseUrl\": \"https://opensource.org/licenses/MIT\"\n  },\n  {\n    \"id\": \"im\",\n    \"name\": \"IcoMoon Free\",\n    \"projectUrl\": \"https://github.com/Keyamoon/IcoMoon-Free\",\n    \"license\": \"CC BY 4.0 License\",\n    \"licenseUrl\": \"https://github.com/Keyamoon/IcoMoon-Free/blob/master/License.txt\"\n  },\n  {\n    \"id\": \"bi\",\n    \"name\": \"BoxIcons\",\n    \"projectUrl\": \"https://github.com/atisawd/boxicons\",\n    \"license\": \"MIT\",\n    \"licenseUrl\": \"https://github.com/atisawd/boxicons/blob/master/LICENSE\"\n  },\n  {\n    \"id\": \"cg\",\n    \"name\": \"css.gg\",\n    \"projectUrl\": \"https://github.com/astrit/css.gg\",\n    \"license\": \"MIT\",\n    \"licenseUrl\": \"https://opensource.org/licenses/MIT\"\n  },\n  {\n    \"id\": \"vsc\",\n    \"name\": \"VS Code Icons\",\n    \"projectUrl\": \"https://github.com/microsoft/vscode-codicons\",\n    \"license\": \"CC BY 4.0\",\n    \"licenseUrl\": \"https://creativecommons.org/licenses/by/4.0/\"\n  },\n  {\n    \"id\": \"tb\",\n    \"name\": \"Tabler Icons\",\n    \"projectUrl\": \"https://github.com/tabler/tabler-icons\",\n    \"license\": \"MIT\",\n    \"licenseUrl\": \"https://opensource.org/licenses/MIT\"\n  },\n  {\n    \"id\": \"tfi\",\n    \"name\": \"Themify Icons\",\n    \"projectUrl\": \"https://github.com/lykmapipo/themify-icons\",\n    \"license\": \"MIT\",\n    \"licenseUrl\": \"https://github.com/thecreation/standard-icons/blob/master/modules/themify-icons/LICENSE\"\n  },\n  {\n    \"id\": \"rx\",\n    \"name\": \"Radix Icons\",\n    \"projectUrl\": \"https://icons.radix-ui.com\",\n    \"license\": \"MIT\",\n    \"licenseUrl\": \"https://github.com/radix-ui/icons/blob/master/LICENSE\"\n  },\n  {\n    \"id\": \"pi\",\n    \"name\": \"Phosphor Icons\",\n    \"projectUrl\": \"https://github.com/phosphor-icons/core\",\n    \"license\": \"MIT\",\n    \"licenseUrl\": \"https://github.com/phosphor-icons/core/blob/main/LICENSE\"\n  },\n  {\n    \"id\": \"lia\",\n    \"name\": \"Icons8 Line Awesome\",\n    \"projectUrl\": \"https://icons8.com/line-awesome\",\n    \"license\": \"MIT\",\n    \"licenseUrl\": \"https://github.com/icons8/line-awesome/blob/master/LICENSE.md\"\n  }\n]","import React from \"react\";\nexport var DefaultContext = {\n  color: undefined,\n  size: undefined,\n  className: undefined,\n  style: undefined,\n  attr: undefined\n};\nexport var IconContext = React.createContext && /*#__PURE__*/React.createContext(DefaultContext);","var _excluded = [\"attr\", \"size\", \"title\"];\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } } return target; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport React from \"react\";\nimport { IconContext, DefaultContext } from \"./iconContext.mjs\";\nfunction Tree2Element(tree) {\n  return tree && tree.map((node, i) => /*#__PURE__*/React.createElement(node.tag, _objectSpread({\n    key: i\n  }, node.attr), Tree2Element(node.child)));\n}\nexport function GenIcon(data) {\n  return props => /*#__PURE__*/React.createElement(IconBase, _extends({\n    attr: _objectSpread({}, data.attr)\n  }, props), Tree2Element(data.child));\n}\nexport function IconBase(props) {\n  var elem = conf => {\n    var {\n        attr,\n        size,\n        title\n      } = props,\n      svgProps = _objectWithoutProperties(props, _excluded);\n    var computedSize = size || conf.size || \"1em\";\n    var className;\n    if (conf.className) className = conf.className;\n    if (props.className) className = (className ? className + \" \" : \"\") + props.className;\n    return /*#__PURE__*/React.createElement(\"svg\", _extends({\n      stroke: \"currentColor\",\n      fill: \"currentColor\",\n      strokeWidth: \"0\"\n    }, conf.attr, attr, svgProps, {\n      className: className,\n      style: _objectSpread(_objectSpread({\n        color: props.color || conf.color\n      }, conf.style), props.style),\n      height: computedSize,\n      width: computedSize,\n      xmlns: \"http://www.w3.org/2000/svg\"\n    }), title && /*#__PURE__*/React.createElement(\"title\", null, title), props.children);\n  };\n  return IconContext !== undefined ? /*#__PURE__*/React.createElement(IconContext.Consumer, null, conf => elem(conf)) : elem(DefaultContext);\n}","import camelCase from \"camelcase\"\nimport type { IGatsbyImageData } from \"./index\"\n\nconst DEFAULT_PIXEL_DENSITIES = [0.25, 0.5, 1, 2]\nexport const DEFAULT_BREAKPOINTS = [750, 1080, 1366, 1920]\nexport const EVERY_BREAKPOINT = [\n  320, 654, 768, 1024, 1366, 1600, 1920, 2048, 2560, 3440, 3840, 4096,\n]\nconst DEFAULT_FLUID_WIDTH = 800\nconst DEFAULT_FIXED_WIDTH = 800\nconst DEFAULT_ASPECT_RATIO = 4 / 3\n\nexport type Fit = \"cover\" | \"fill\" | \"inside\" | \"outside\" | \"contain\"\n\nexport type Layout = \"fixed\" | \"fullWidth\" | \"constrained\"\nexport type ImageFormat = \"jpg\" | \"png\" | \"webp\" | \"avif\" | \"auto\" | \"\"\n\n/**\n * The minimal required reporter, as we don't want to import it from gatsby-cli\n */\nexport interface IReporter {\n  warn(message: string): void\n}\n\nexport interface ISharpGatsbyImageArgs {\n  layout?: Layout\n  formats?: Array<ImageFormat>\n  placeholder?: \"tracedSVG\" | \"dominantColor\" | \"blurred\" | \"none\"\n  tracedSVGOptions?: Record<string, unknown>\n  width?: number\n  height?: number\n  aspectRatio?: number\n  sizes?: string\n  quality?: number\n  transformOptions?: {\n    fit?: Fit\n    cropFocus?: number | string\n    duotone?: {\n      highlight: string\n      shadow: string\n      opacity?: number\n    }\n    grayscale?: boolean\n    rotate?: number\n    trim?: number\n  }\n  jpgOptions?: Record<string, unknown>\n  pngOptions?: Record<string, unknown>\n  webpOptions?: Record<string, unknown>\n  avifOptions?: Record<string, unknown>\n  blurredOptions?: { width?: number; toFormat?: ImageFormat }\n  breakpoints?: Array<number>\n  outputPixelDensities?: Array<number>\n  backgroundColor?: string\n}\n\nexport interface IImageSizeArgs {\n  width?: number\n  height?: number\n  layout?: Layout\n  filename: string\n  outputPixelDensities?: Array<number>\n  breakpoints?: Array<number>\n  fit?: Fit\n  reporter?: IReporter\n  sourceMetadata: { width: number; height: number }\n}\n\nexport interface IImageSizes {\n  sizes: Array<number>\n  presentationWidth: number\n  presentationHeight: number\n  aspectRatio: number\n  unscaledWidth: number\n}\n\nexport interface IImage {\n  src: string\n  width: number\n  height: number\n  format: ImageFormat\n}\n\nexport interface IGatsbyImageHelperArgs {\n  pluginName: string\n  generateImageSource: (\n    filename: string,\n    width: number,\n    height: number,\n    format: ImageFormat,\n    fit?: Fit,\n    options?: Record<string, unknown>\n  ) => IImage\n  layout?: Layout\n  formats?: Array<ImageFormat>\n  filename: string\n  placeholderURL?: string\n  width?: number\n  height?: number\n  sizes?: string\n  reporter?: IReporter\n  sourceMetadata?: { width: number; height: number; format: ImageFormat }\n  fit?: Fit\n  options?: Record<string, unknown>\n  breakpoints?: Array<number>\n  backgroundColor?: string\n  aspectRatio?: number\n}\n\nconst warn = (message: string): void => console.warn(message)\n\nconst sortNumeric = (a: number, b: number): number => a - b\n\nexport const getSizes = (width: number, layout: Layout): string | undefined => {\n  switch (layout) {\n    // If screen is wider than the max size, image width is the max size,\n    // otherwise it's the width of the screen\n    case `constrained`:\n      return `(min-width: ${width}px) ${width}px, 100vw`\n\n    // Image is always the same width, whatever the size of the screen\n    case `fixed`:\n      return `${width}px`\n\n    // Image is always the width of the screen\n    case `fullWidth`:\n      return `100vw`\n\n    default:\n      return undefined\n  }\n}\n\nexport const getSrcSet = (images: Array<IImage>): string =>\n  images.map(image => `${image.src} ${image.width}w`).join(`,\\n`)\n\nexport function formatFromFilename(filename: string): ImageFormat | undefined {\n  const dot = filename.lastIndexOf(`.`)\n  if (dot !== -1) {\n    const ext = filename.slice(dot + 1)\n    if (ext === `jpeg`) {\n      return `jpg`\n    }\n    if (ext.length === 3 || ext.length === 4) {\n      return ext as ImageFormat\n    }\n  }\n  return undefined\n}\n\nexport function setDefaultDimensions(\n  args: IGatsbyImageHelperArgs\n): IGatsbyImageHelperArgs {\n  let {\n    layout = `constrained`,\n    width,\n    height,\n    sourceMetadata,\n    breakpoints,\n    aspectRatio,\n    formats = [`auto`, `webp`],\n  } = args\n  formats = formats.map(format => format.toLowerCase() as ImageFormat)\n  layout = camelCase(layout) as Layout\n\n  if (width && height) {\n    return { ...args, formats, layout, aspectRatio: width / height }\n  }\n  if (sourceMetadata.width && sourceMetadata.height && !aspectRatio) {\n    aspectRatio = sourceMetadata.width / sourceMetadata.height\n  }\n\n  if (layout === `fullWidth`) {\n    width = width || sourceMetadata.width || breakpoints[breakpoints.length - 1]\n    height = height || Math.round(width / (aspectRatio || DEFAULT_ASPECT_RATIO))\n  } else {\n    if (!width) {\n      if (height && aspectRatio) {\n        width = height * aspectRatio\n      } else if (sourceMetadata.width) {\n        width = sourceMetadata.width\n      } else if (height) {\n        width = Math.round(height / DEFAULT_ASPECT_RATIO)\n      } else {\n        width = DEFAULT_FIXED_WIDTH\n      }\n    }\n\n    if (aspectRatio && !height) {\n      height = Math.round(width / aspectRatio)\n    } else if (!aspectRatio) {\n      aspectRatio = width / height\n    }\n  }\n  return { ...args, width, height, aspectRatio, layout, formats }\n}\n\n/**\n * Use this for getting an image for the blurred placeholder. This ensures the\n * aspect ratio and crop match the main image\n */\nexport function getLowResolutionImageURL(\n  args: IGatsbyImageHelperArgs,\n  width = 20\n): string {\n  args = setDefaultDimensions(args)\n  const { generateImageSource, filename, aspectRatio } = args\n  return generateImageSource(\n    filename,\n    width,\n    Math.round(width / aspectRatio),\n    args.sourceMetadata.format || `jpg`,\n    args.fit,\n    args.options\n  )?.src\n}\n\nexport function generateImageData(\n  args: IGatsbyImageHelperArgs\n): IGatsbyImageData {\n  args = setDefaultDimensions(args)\n\n  let {\n    pluginName,\n    sourceMetadata,\n    generateImageSource,\n    layout,\n    fit,\n    options,\n    width,\n    height,\n    filename,\n    reporter = { warn },\n    backgroundColor,\n    placeholderURL,\n  } = args\n\n  if (!pluginName) {\n    reporter.warn(\n      `[gatsby-plugin-image] \"generateImageData\" was not passed a plugin name`\n    )\n  }\n\n  if (typeof generateImageSource !== `function`) {\n    throw new Error(`generateImageSource must be a function`)\n  }\n\n  if (!sourceMetadata || (!sourceMetadata.width && !sourceMetadata.height)) {\n    // No metadata means we let the CDN handle max size etc, aspect ratio etc\n    sourceMetadata = {\n      width,\n      height,\n      format: sourceMetadata?.format || formatFromFilename(filename) || `auto`,\n    }\n  } else if (!sourceMetadata.format) {\n    sourceMetadata.format = formatFromFilename(filename)\n  }\n\n  const formats = new Set<ImageFormat>(args.formats)\n\n  if (formats.size === 0 || formats.has(`auto`) || formats.has(``)) {\n    formats.delete(`auto`)\n    formats.delete(``)\n    formats.add(sourceMetadata.format)\n  }\n\n  if (formats.has(`jpg`) && formats.has(`png`)) {\n    reporter.warn(\n      `[${pluginName}] Specifying both 'jpg' and 'png' formats is not supported. Using 'auto' instead`\n    )\n    if (sourceMetadata.format === `jpg`) {\n      formats.delete(`png`)\n    } else {\n      formats.delete(`jpg`)\n    }\n  }\n\n  const imageSizes = calculateImageSizes({ ...args, sourceMetadata })\n\n  const result: IGatsbyImageData[\"images\"] = {\n    sources: [],\n  }\n\n  let sizes = args.sizes\n  if (!sizes) {\n    sizes = getSizes(imageSizes.presentationWidth, layout)\n  }\n\n  formats.forEach(format => {\n    const images = imageSizes.sizes\n      .map(size => {\n        const imageSrc = generateImageSource(\n          filename,\n          size,\n          Math.round(size / imageSizes.aspectRatio),\n          format,\n          fit,\n          options\n        )\n        if (\n          !imageSrc?.width ||\n          !imageSrc.height ||\n          !imageSrc.src ||\n          !imageSrc.format\n        ) {\n          reporter.warn(\n            `[${pluginName}] The resolver for image ${filename} returned an invalid value.`\n          )\n          return undefined\n        }\n        return imageSrc\n      })\n      .filter(Boolean)\n\n    if (format === `jpg` || format === `png` || format === `auto`) {\n      const unscaled =\n        images.find(img => img.width === imageSizes.unscaledWidth) || images[0]\n\n      if (unscaled) {\n        result.fallback = {\n          src: unscaled.src,\n          srcSet: getSrcSet(images),\n          sizes,\n        }\n      }\n    } else {\n      result.sources?.push({\n        srcSet: getSrcSet(images),\n        sizes,\n        type: `image/${format}`,\n      })\n    }\n  })\n\n  const imageProps: Partial<IGatsbyImageData> = {\n    images: result,\n    layout,\n    backgroundColor,\n  }\n\n  if (placeholderURL) {\n    imageProps.placeholder = { fallback: placeholderURL }\n  }\n\n  switch (layout) {\n    case `fixed`:\n      imageProps.width = imageSizes.presentationWidth\n      imageProps.height = imageSizes.presentationHeight\n      break\n\n    case `fullWidth`:\n      imageProps.width = 1\n      imageProps.height = 1 / imageSizes.aspectRatio\n      break\n\n    case `constrained`:\n      imageProps.width = args.width || imageSizes.presentationWidth || 1\n      imageProps.height = (imageProps.width || 1) / imageSizes.aspectRatio\n  }\n\n  return imageProps as IGatsbyImageData\n}\n\nconst dedupeAndSortDensities = (values: Array<number>): Array<number> =>\n  Array.from(new Set([1, ...values])).sort(sortNumeric)\n\nexport function calculateImageSizes(args: IImageSizeArgs): IImageSizes {\n  const {\n    width,\n    height,\n    filename,\n    layout = `constrained`,\n    sourceMetadata: imgDimensions,\n    reporter = { warn },\n    breakpoints = DEFAULT_BREAKPOINTS,\n  } = args\n\n  // check that all dimensions provided are positive\n  const userDimensions = { width, height }\n  const erroneousUserDimensions = Object.entries(userDimensions).filter(\n    ([_, size]) => typeof size === `number` && size < 1\n  )\n  if (erroneousUserDimensions.length) {\n    throw new Error(\n      `Specified dimensions for images must be positive numbers (> 0). Problem dimensions you have are ${erroneousUserDimensions\n        .map(dim => dim.join(`: `))\n        .join(`, `)}`\n    )\n  }\n\n  if (layout === `fixed`) {\n    return fixedImageSizes(args)\n  } else if (layout === `constrained`) {\n    return responsiveImageSizes(args)\n  } else if (layout === `fullWidth`) {\n    return responsiveImageSizes({ breakpoints, ...args })\n  } else {\n    reporter.warn(\n      `No valid layout was provided for the image at ${filename}. Valid image layouts are fixed, fullWidth, and constrained. Found ${layout}`\n    )\n    return {\n      sizes: [imgDimensions.width],\n      presentationWidth: imgDimensions.width,\n      presentationHeight: imgDimensions.height,\n      aspectRatio: imgDimensions.width / imgDimensions.height,\n      unscaledWidth: imgDimensions.width,\n    }\n  }\n}\nexport function fixedImageSizes({\n  filename,\n  sourceMetadata: imgDimensions,\n  width,\n  height,\n  fit = `cover`,\n  outputPixelDensities = DEFAULT_PIXEL_DENSITIES,\n  reporter = { warn },\n}: IImageSizeArgs): IImageSizes {\n  let aspectRatio = imgDimensions.width / imgDimensions.height\n  // Sort, dedupe and ensure there's a 1\n  const densities = dedupeAndSortDensities(outputPixelDensities)\n\n  // If both are provided then we need to check the fit\n  if (width && height) {\n    const calculated = getDimensionsAndAspectRatio(imgDimensions, {\n      width,\n      height,\n      fit,\n    })\n    width = calculated.width\n    height = calculated.height\n    aspectRatio = calculated.aspectRatio\n  }\n\n  if (!width) {\n    if (!height) {\n      width = DEFAULT_FIXED_WIDTH\n    } else {\n      width = Math.round(height * aspectRatio)\n    }\n  } else if (!height) {\n    height = Math.round(width / aspectRatio)\n  }\n\n  const originalWidth = width // will use this for presentationWidth, don't want to lose it\n  const isTopSizeOverriden =\n    imgDimensions.width < width || imgDimensions.height < (height as number)\n\n  // If the image is smaller than requested, warn the user that it's being processed as such\n  // print out this message with the necessary information before we overwrite it for sizing\n  if (isTopSizeOverriden) {\n    const fixedDimension = imgDimensions.width < width ? `width` : `height`\n    reporter.warn(`\nThe requested ${fixedDimension} \"${\n      fixedDimension === `width` ? width : height\n    }px\" for the image ${filename} was larger than the actual image ${fixedDimension} of ${\n      imgDimensions[fixedDimension]\n    }px. If possible, replace the current image with a larger one.`)\n\n    if (fixedDimension === `width`) {\n      width = imgDimensions.width\n      height = Math.round(width / aspectRatio)\n    } else {\n      height = imgDimensions.height\n      width = height * aspectRatio\n    }\n  }\n\n  const sizes = densities\n    .filter(size => size >= 1) // remove smaller densities because fixed images don't need them\n    .map(density => Math.round(density * (width as number)))\n    .filter(size => size <= imgDimensions.width)\n\n  return {\n    sizes,\n    aspectRatio,\n    presentationWidth: originalWidth,\n    presentationHeight: Math.round(originalWidth / aspectRatio),\n    unscaledWidth: width,\n  }\n}\n\nexport function responsiveImageSizes({\n  sourceMetadata: imgDimensions,\n  width,\n  height,\n  fit = `cover`,\n  outputPixelDensities = DEFAULT_PIXEL_DENSITIES,\n  breakpoints,\n  layout,\n}: IImageSizeArgs): IImageSizes {\n  let sizes\n  let aspectRatio = imgDimensions.width / imgDimensions.height\n  // Sort, dedupe and ensure there's a 1\n  const densities = dedupeAndSortDensities(outputPixelDensities)\n\n  // If both are provided then we need to check the fit\n  if (width && height) {\n    const calculated = getDimensionsAndAspectRatio(imgDimensions, {\n      width,\n      height,\n      fit,\n    })\n    width = calculated.width\n    height = calculated.height\n    aspectRatio = calculated.aspectRatio\n  }\n\n  // Case 1: width of height were passed in, make sure it isn't larger than the actual image\n  width = width && Math.min(width, imgDimensions.width)\n  height = height && Math.min(height, imgDimensions.height)\n\n  // Case 2: neither width or height were passed in, use default size\n  if (!width && !height) {\n    width = Math.min(DEFAULT_FLUID_WIDTH, imgDimensions.width)\n    height = width / aspectRatio\n  }\n\n  // if it still hasn't been found, calculate width from the derived height.\n  // TS isn't smart enough to realise the type for height has been narrowed here\n  if (!width) {\n    width = (height as number) * aspectRatio\n  }\n\n  const originalWidth = width\n  const isTopSizeOverriden =\n    imgDimensions.width < width || imgDimensions.height < (height as number)\n  if (isTopSizeOverriden) {\n    width = imgDimensions.width\n    height = imgDimensions.height\n  }\n\n  width = Math.round(width)\n\n  if (breakpoints?.length > 0) {\n    sizes = breakpoints.filter(size => size <= imgDimensions.width)\n\n    // If a larger breakpoint has been filtered-out, add the actual image width instead\n    if (\n      sizes.length < breakpoints.length &&\n      !sizes.includes(imgDimensions.width)\n    ) {\n      sizes.push(imgDimensions.width)\n    }\n  } else {\n    sizes = densities.map(density => Math.round(density * (width as number)))\n    sizes = sizes.filter(size => size <= imgDimensions.width)\n  }\n\n  // ensure that the size passed in is included in the final output\n  if (layout === `constrained` && !sizes.includes(width)) {\n    sizes.push(width)\n  }\n  sizes = sizes.sort(sortNumeric)\n  return {\n    sizes,\n    aspectRatio,\n    presentationWidth: originalWidth,\n    presentationHeight: Math.round(originalWidth / aspectRatio),\n    unscaledWidth: width,\n  }\n}\n\nexport function getDimensionsAndAspectRatio(\n  dimensions,\n  options\n): { width: number; height: number; aspectRatio: number } {\n  // Calculate the eventual width/height of the image.\n  const imageAspectRatio = dimensions.width / dimensions.height\n\n  let width = options.width\n  let height = options.height\n\n  switch (options.fit) {\n    case `fill`: {\n      width = options.width ? options.width : dimensions.width\n      height = options.height ? options.height : dimensions.height\n      break\n    }\n    case `inside`: {\n      const widthOption = options.width\n        ? options.width\n        : Number.MAX_SAFE_INTEGER\n      const heightOption = options.height\n        ? options.height\n        : Number.MAX_SAFE_INTEGER\n\n      width = Math.min(widthOption, Math.round(heightOption * imageAspectRatio))\n      height = Math.min(\n        heightOption,\n        Math.round(widthOption / imageAspectRatio)\n      )\n      break\n    }\n    case `outside`: {\n      const widthOption = options.width ? options.width : 0\n      const heightOption = options.height ? options.height : 0\n\n      width = Math.max(widthOption, Math.round(heightOption * imageAspectRatio))\n      height = Math.max(\n        heightOption,\n        Math.round(widthOption / imageAspectRatio)\n      )\n      break\n    }\n\n    default: {\n      if (options.width && !options.height) {\n        width = options.width\n        height = Math.round(options.width / imageAspectRatio)\n      }\n\n      if (options.height && !options.width) {\n        width = Math.round(options.height * imageAspectRatio)\n        height = options.height\n      }\n    }\n  }\n\n  return {\n    width,\n    height,\n    aspectRatio: width / height,\n  }\n}\n","/* global GATSBY___IMAGE */\nimport { generateImageData, EVERY_BREAKPOINT } from \"../image-utils\"\nimport type { CSSProperties, HTMLAttributes, ImgHTMLAttributes } from \"react\"\nimport type { Node } from \"gatsby\"\nimport type { PlaceholderProps } from \"./placeholder\"\nimport type { MainImageProps } from \"./main-image\"\nimport type { IGatsbyImageData } from \"./gatsby-image.browser\"\nimport type {\n  IGatsbyImageHelperArgs,\n  Layout,\n  IImage,\n  ImageFormat,\n} from \"../image-utils\"\n\n// Native lazy-loading support: https://addyosmani.com/blog/lazy-loading/\nexport const hasNativeLazyLoadSupport = (): boolean =>\n  typeof HTMLImageElement !== `undefined` &&\n  `loading` in HTMLImageElement.prototype\n\nexport function gatsbyImageIsInstalled(): boolean {\n  return typeof GATSBY___IMAGE !== `undefined` && GATSBY___IMAGE\n}\n\nexport type IGatsbyImageDataParent<T = never> = T & {\n  gatsbyImageData: IGatsbyImageData\n}\nexport type IGatsbyImageParent<T = never> = T & {\n  gatsbyImage: IGatsbyImageData\n}\nexport type FileNode = Partial<Node> & {\n  childImageSharp?: IGatsbyImageDataParent<Partial<Node>>\n}\n\nconst isGatsbyImageData = (\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  node: IGatsbyImageData | any\n): node is IGatsbyImageData =>\n  //  check for a deep prop to be sure this is a valid gatsbyImageData object\n  Boolean(node?.images?.fallback?.src)\n\nconst isGatsbyImageDataParent = <T>(\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  node: IGatsbyImageDataParent<T> | any\n): node is IGatsbyImageDataParent<T> => Boolean(node?.gatsbyImageData)\n\nconst isGatsbyImageParent = <T>(\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  node: IGatsbyImageParent<T> | any\n): node is IGatsbyImageParent<T> => Boolean(node?.gatsbyImage)\n\nexport type ImageDataLike =\n  | FileNode\n  | IGatsbyImageDataParent\n  | IGatsbyImageParent\n  | IGatsbyImageData\n\nexport const getImage = (\n  node: ImageDataLike | null\n): IGatsbyImageData | undefined => {\n  // This checks both for gatsbyImageData and gatsbyImage\n  if (isGatsbyImageData(node)) {\n    return node\n  }\n  // gatsbyImageData GraphQL field\n  if (isGatsbyImageDataParent(node)) {\n    return node.gatsbyImageData\n  }\n  // gatsbyImage GraphQL field for Gatsby's Image CDN service\n  if (isGatsbyImageParent(node)) {\n    return node.gatsbyImage\n  }\n  return node?.childImageSharp?.gatsbyImageData\n}\n\nexport const getSrc = (node: ImageDataLike): string | undefined =>\n  getImage(node)?.images?.fallback?.src\n\nexport const getSrcSet = (node: ImageDataLike): string | undefined =>\n  getImage(node)?.images?.fallback?.srcSet\n\nexport function getWrapperProps(\n  width: number,\n  height: number,\n  layout: Layout\n): Pick<HTMLAttributes<HTMLElement>, \"className\" | \"style\"> & {\n  \"data-gatsby-image-wrapper\": string\n} {\n  const wrapperStyle: CSSProperties = {}\n\n  let className = `gatsby-image-wrapper`\n\n  // If the plugin isn't installed we need to apply the styles inline\n  if (!gatsbyImageIsInstalled()) {\n    wrapperStyle.position = `relative`\n    wrapperStyle.overflow = `hidden`\n  }\n\n  if (layout === `fixed`) {\n    wrapperStyle.width = width\n    wrapperStyle.height = height\n  } else if (layout === `constrained`) {\n    if (!gatsbyImageIsInstalled()) {\n      wrapperStyle.display = `inline-block`\n      wrapperStyle.verticalAlign = `top`\n    }\n    className = `gatsby-image-wrapper gatsby-image-wrapper-constrained`\n  }\n\n  return {\n    className,\n    \"data-gatsby-image-wrapper\": ``,\n    style: wrapperStyle,\n  }\n}\n\nexport interface IUrlBuilderArgs<OptionsType> {\n  width: number\n  height: number\n  baseUrl: string\n  format: ImageFormat\n  options: OptionsType\n}\nexport interface IGetImageDataArgs<OptionsType = Record<string, unknown>> {\n  baseUrl: string\n  /**\n   * For constrained and fixed images, the size of the image element\n   */\n  width?: number\n  height?: number\n  /**\n   * If available, pass the source image width and height\n   */\n  sourceWidth?: number\n  sourceHeight?: number\n  /**\n   * If only one dimension is passed, then this will be used to calculate the other.\n   */\n  aspectRatio?: number\n  layout?: Layout\n  /**\n   * Returns a URL based on the passed arguments. Should be a pure function\n   */\n  urlBuilder: (args: IUrlBuilderArgs<OptionsType>) => string\n\n  /**\n   * Should be a data URI\n   */\n  placeholderURL?: string\n  backgroundColor?: string\n  /**\n   * Used in error messages etc\n   */\n  pluginName?: string\n\n  /**\n   * If you do not support auto-format, pass an array of image types here\n   */\n  formats?: Array<ImageFormat>\n\n  breakpoints?: Array<number>\n\n  /**\n   * Passed to the urlBuilder function\n   */\n  options?: OptionsType\n}\n\n/**\n * Use this hook to generate gatsby-plugin-image data in the browser.\n */\nexport function getImageData<OptionsType>({\n  baseUrl,\n  urlBuilder,\n  sourceWidth,\n  sourceHeight,\n  pluginName = `getImageData`,\n  formats = [`auto`],\n  breakpoints,\n  options,\n  ...props\n}: IGetImageDataArgs<OptionsType>): IGatsbyImageData {\n  if (\n    !breakpoints?.length &&\n    (props.layout === `fullWidth` || (props.layout as string) === `FULL_WIDTH`)\n  ) {\n    breakpoints = EVERY_BREAKPOINT\n  }\n  const generateImageSource = (\n    baseUrl: string,\n    width: number,\n    height?: number,\n    format?: ImageFormat\n  ): IImage => {\n    return {\n      width,\n      height,\n      format,\n      src: urlBuilder({ baseUrl, width, height, options, format }),\n    }\n  }\n\n  const sourceMetadata: IGatsbyImageHelperArgs[\"sourceMetadata\"] = {\n    width: sourceWidth,\n    height: sourceHeight,\n    format: `auto`,\n  }\n\n  const args: IGatsbyImageHelperArgs = {\n    ...props,\n    pluginName,\n    generateImageSource,\n    filename: baseUrl,\n    formats,\n    breakpoints,\n    sourceMetadata,\n  }\n  return generateImageData(args)\n}\n\nexport function getMainProps(\n  isLoading: boolean,\n  isLoaded: boolean,\n  images: IGatsbyImageData[\"images\"],\n  loading?: \"eager\" | \"lazy\",\n  style: CSSProperties = {}\n): Partial<MainImageProps> {\n  // fallback when it's not configured in gatsby-config.\n  if (!gatsbyImageIsInstalled()) {\n    style = {\n      height: `100%`,\n      left: 0,\n      position: `absolute`,\n      top: 0,\n      transform: `translateZ(0)`,\n      transition: `opacity 250ms linear`,\n      width: `100%`,\n      willChange: `opacity`,\n      ...style,\n    }\n  }\n\n  const result = {\n    ...images,\n    loading,\n    shouldLoad: isLoading,\n    \"data-main-image\": ``,\n    style: {\n      ...style,\n      opacity: isLoaded ? 1 : 0,\n    },\n  }\n\n  return result\n}\n\nexport type PlaceholderImageAttrs = ImgHTMLAttributes<HTMLImageElement> &\n  Pick<PlaceholderProps, \"sources\" | \"fallback\"> & {\n    \"data-placeholder-image\"?: string\n  }\n\nexport function getPlaceholderProps(\n  placeholder: PlaceholderImageAttrs | undefined,\n  isLoaded: boolean,\n  layout: Layout,\n  width?: number,\n  height?: number,\n  backgroundColor?: string,\n  objectFit?: CSSProperties[\"objectFit\"],\n  objectPosition?: CSSProperties[\"objectPosition\"]\n): PlaceholderImageAttrs {\n  const wrapperStyle: CSSProperties = {}\n\n  if (backgroundColor) {\n    wrapperStyle.backgroundColor = backgroundColor\n\n    if (layout === `fixed`) {\n      wrapperStyle.width = width\n      wrapperStyle.height = height\n      wrapperStyle.backgroundColor = backgroundColor\n      wrapperStyle.position = `relative`\n    } else if (layout === `constrained`) {\n      wrapperStyle.position = `absolute`\n      wrapperStyle.top = 0\n      wrapperStyle.left = 0\n      wrapperStyle.bottom = 0\n      wrapperStyle.right = 0\n    } else if (layout === `fullWidth`) {\n      wrapperStyle.position = `absolute`\n      wrapperStyle.top = 0\n      wrapperStyle.left = 0\n      wrapperStyle.bottom = 0\n      wrapperStyle.right = 0\n    }\n  }\n\n  if (objectFit) {\n    wrapperStyle.objectFit = objectFit\n  }\n\n  if (objectPosition) {\n    wrapperStyle.objectPosition = objectPosition\n  }\n  const result: PlaceholderImageAttrs = {\n    ...placeholder,\n    \"aria-hidden\": true,\n    \"data-placeholder-image\": ``,\n    style: {\n      opacity: isLoaded ? 0 : 1,\n      transition: `opacity 500ms linear`,\n      ...wrapperStyle,\n    },\n  }\n\n  // fallback when it's not configured in gatsby-config.\n  if (!gatsbyImageIsInstalled()) {\n    result.style = {\n      height: `100%`,\n      left: 0,\n      position: `absolute`,\n      top: 0,\n      width: `100%`,\n    }\n  }\n\n  return result\n}\n\nexport interface IArtDirectedImage {\n  media: string\n  image: IGatsbyImageData\n}\n\n/**\n * Generate a Gatsby image data object with multiple, art-directed images that display at different\n * resolutions.\n *\n * @param defaultImage The image displayed when no media query matches.\n * It is also used for all other settings applied to the image, such as width, height and layout.\n * You should pass a className to the component with media queries to adjust the size of the container,\n * as this cannot be adjusted automatically.\n * @param artDirected Array of objects which each contains a `media` string which is a media query\n * such as `(min-width: 320px)`, and the image object to use when that query matches.\n */\nexport function withArtDirection(\n  defaultImage: IGatsbyImageData,\n  artDirected: Array<IArtDirectedImage>\n): IGatsbyImageData {\n  const { images, placeholder, ...props } = defaultImage\n  const output: IGatsbyImageData = {\n    ...props,\n    images: {\n      ...images,\n      sources: [],\n    },\n    placeholder: placeholder && {\n      ...placeholder,\n      sources: [],\n    },\n  }\n\n  artDirected.forEach(({ media, image }) => {\n    if (!media) {\n      if (process.env.NODE_ENV === `development`) {\n        console.warn(\n          \"[gatsby-plugin-image] All art-directed images passed to must have a value set for `media`. Skipping.\"\n        )\n      }\n      return\n    }\n\n    if (\n      image.layout !== defaultImage.layout &&\n      process.env.NODE_ENV === `development`\n    ) {\n      console.warn(\n        `[gatsby-plugin-image] Mismatched image layout: expected \"${defaultImage.layout}\" but received \"${image.layout}\". All art-directed images use the same layout as the default image`\n      )\n    }\n\n    output.images.sources.push(\n      ...image.images.sources.map(source => {\n        return { ...source, media }\n      }),\n      {\n        media,\n        srcSet: image.images.fallback.srcSet,\n      }\n    )\n\n    if (!output.placeholder) {\n      return\n    }\n\n    output.placeholder.sources.push({\n      media,\n      srcSet: image.placeholder.fallback,\n    })\n  })\n  output.images.sources.push(...images.sources)\n  if (placeholder?.sources) {\n    output.placeholder?.sources.push(...placeholder.sources)\n  }\n  return output\n}\n","import React, { Fragment, FunctionComponent, PropsWithChildren } from \"react\"\nimport terserMacro from \"../../macros/terser.macro\"\nimport { Layout } from \"../image-utils\"\n\nexport interface ILayoutWrapperProps {\n  layout: Layout\n  width: number\n  height: number\n}\n\nconst NativeScriptLoading: FunctionComponent = () => (\n  <script\n    type=\"module\"\n    dangerouslySetInnerHTML={{\n      __html: terserMacro`\nconst hasNativeLazyLoadSupport = typeof HTMLImageElement !== \"undefined\" && \"loading\" in HTMLImageElement.prototype;\nif (hasNativeLazyLoadSupport) {\n  const gatsbyImages = document.querySelectorAll('img[data-main-image]');\n  for (let mainImage of gatsbyImages) {\n    if (mainImage.dataset.src) {\n      mainImage.setAttribute('src', mainImage.dataset.src)\n      mainImage.removeAttribute('data-src')\n    }\n    if (mainImage.dataset.srcset) {\n      mainImage.setAttribute('srcset', mainImage.dataset.srcset)\n      mainImage.removeAttribute('data-srcset')\n    }\n\n    const sources = mainImage.parentNode.querySelectorAll('source[data-srcset]');\n    for (let source of sources) {\n      source.setAttribute('srcset', source.dataset.srcset)\n      source.removeAttribute('data-srcset')\n    }\n\n    if (mainImage.complete) {\n      mainImage.style.opacity = 1;\n\n      // also hide the placeholder\n      mainImage.parentNode.parentNode.querySelector('[data-placeholder-image]').style.opacity = 0;\n    }\n  }\n}\n`,\n    }}\n  />\n)\n\nexport function getSizer(\n  layout: Layout,\n  width: number,\n  height: number\n): string {\n  let sizer = ``\n  if (layout === `fullWidth`) {\n    sizer = `<div aria-hidden=\"true\" style=\"padding-top: ${\n      (height / width) * 100\n    }%;\"></div>`\n  }\n\n  if (layout === `constrained`) {\n    sizer = `<div style=\"max-width: ${width}px; display: block;\"><img alt=\"\" role=\"presentation\" aria-hidden=\"true\" src=\"data:image/svg+xml;charset=utf-8,%3Csvg%20height='${height}'%20width='${width}'%20xmlns='http://www.w3.org/2000/svg'%20version='1.1'%3E%3C/svg%3E\" style=\"max-width: 100%; display: block; position: static;\"></div>`\n  }\n\n  return sizer\n}\n\nconst Sizer: FunctionComponent<ILayoutWrapperProps> = function Sizer({\n  layout,\n  width,\n  height,\n}) {\n  if (layout === `fullWidth`) {\n    return (\n      <div aria-hidden style={{ paddingTop: `${(height / width) * 100}%` }} />\n    )\n  }\n\n  if (layout === `constrained`) {\n    return (\n      <div style={{ maxWidth: width, display: `block` }}>\n        <img\n          alt=\"\"\n          role=\"presentation\"\n          aria-hidden=\"true\"\n          src={`data:image/svg+xml;charset=utf-8,%3Csvg%20height='${height}'%20width='${width}'%20xmlns='http://www.w3.org/2000/svg'%20version='1.1'%3E%3C/svg%3E`}\n          style={{\n            maxWidth: `100%`,\n            display: `block`,\n            position: `static`,\n          }}\n        />\n      </div>\n    )\n  }\n\n  return null\n}\n\nexport const LayoutWrapper: FunctionComponent<\n  PropsWithChildren<ILayoutWrapperProps>\n> = function LayoutWrapper({ children, ...props }) {\n  return (\n    <Fragment>\n      <Sizer {...props} />\n      {children}\n\n      {SERVER ? <NativeScriptLoading /> : null}\n    </Fragment>\n  )\n}\n","import React, { FunctionComponent, ImgHTMLAttributes } from \"react\"\nimport * as PropTypes from \"prop-types\"\n\nexport interface IResponsiveImageProps {\n  sizes?: string\n  srcSet: string\n}\n\nexport type SourceProps = IResponsiveImageProps &\n  (\n    | {\n        media: string\n        type?: string\n      }\n    | {\n        media?: string\n        type: string\n      }\n  )\n\ntype FallbackProps = { src: string } & Partial<IResponsiveImageProps>\n\ntype ImageProps = ImgHTMLAttributes<HTMLImageElement> & {\n  src: string\n  alt: string\n  shouldLoad: boolean\n}\n\nexport type PictureProps = ImgHTMLAttributes<HTMLImageElement> & {\n  fallback?: FallbackProps\n  sources?: Array<SourceProps>\n  alt: string\n  shouldLoad?: boolean\n}\n\nconst Image: FunctionComponent<ImageProps> = function Image({\n  src,\n  srcSet,\n  loading,\n  alt = ``,\n  shouldLoad,\n  ...props\n}) {\n  return (\n    <img\n      {...props}\n      decoding=\"async\"\n      loading={loading}\n      src={shouldLoad ? src : undefined}\n      data-src={!shouldLoad ? src : undefined}\n      srcSet={shouldLoad ? srcSet : undefined}\n      data-srcset={!shouldLoad ? srcSet : undefined}\n      alt={alt}\n    />\n  )\n}\n\nexport const Picture: React.FC<PictureProps> = function Picture({\n  fallback,\n  sources = [],\n  shouldLoad = true,\n  ...props\n}) {\n  const sizes = props.sizes || fallback?.sizes\n  const fallbackImage = (\n    <Image {...props} {...fallback} sizes={sizes} shouldLoad={shouldLoad} />\n  )\n\n  if (!sources.length) {\n    return fallbackImage\n  }\n\n  return (\n    <picture>\n      {sources.map(({ media, srcSet, type }) => (\n        <source\n          key={`${media}-${type}-${srcSet}`}\n          type={type}\n          media={media}\n          srcSet={shouldLoad ? srcSet : undefined}\n          data-srcset={!shouldLoad ? srcSet : undefined}\n          sizes={sizes}\n        />\n      ))}\n      {fallbackImage}\n    </picture>\n  )\n}\n\nImage.propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  sizes: PropTypes.string,\n  srcSet: PropTypes.string,\n  shouldLoad: PropTypes.bool,\n}\n\nPicture.displayName = `Picture`\nPicture.propTypes = {\n  alt: PropTypes.string.isRequired,\n  shouldLoad: PropTypes.bool,\n  fallback: PropTypes.exact({\n    src: PropTypes.string.isRequired,\n    srcSet: PropTypes.string,\n    sizes: PropTypes.string,\n  }),\n  sources: PropTypes.arrayOf(\n    PropTypes.oneOfType([\n      PropTypes.exact({\n        media: PropTypes.string.isRequired,\n        type: PropTypes.string,\n        sizes: PropTypes.string,\n        srcSet: PropTypes.string.isRequired,\n      }),\n      PropTypes.exact({\n        media: PropTypes.string,\n        type: PropTypes.string.isRequired,\n        sizes: PropTypes.string,\n        srcSet: PropTypes.string.isRequired,\n      }),\n    ])\n  ),\n}\n","import React, { FunctionComponent, ImgHTMLAttributes } from \"react\"\nimport * as PropTypes from \"prop-types\"\nimport { Picture, SourceProps } from \"./picture\"\n\nexport type PlaceholderProps = ImgHTMLAttributes<HTMLImageElement> & {\n  fallback?: string\n  sources?: Array<SourceProps>\n}\n\nexport const Placeholder: FunctionComponent<PlaceholderProps> =\n  function Placeholder({ fallback, ...props }) {\n    if (fallback) {\n      return (\n        <Picture\n          {...props}\n          fallback={{\n            src: fallback,\n          }}\n          aria-hidden\n          alt=\"\"\n        />\n      )\n    } else {\n      return <div {...props}></div>\n    }\n  }\n\nPlaceholder.displayName = `Placeholder`\nPlaceholder.propTypes = {\n  fallback: PropTypes.string,\n  sources: Picture.propTypes?.sources,\n  alt: function (props, propName, componentName): Error | null {\n    if (!props[propName]) {\n      return null\n    }\n\n    return new Error(\n      `Invalid prop \\`${propName}\\` supplied to \\`${componentName}\\`. Validation failed.`\n    )\n  },\n}\n","import React from \"react\"\nimport { Picture, PictureProps } from \"./picture\"\n\nexport type MainImageProps = PictureProps\n\nexport const MainImage: React.FC<PictureProps> = function MainImage(props) {\n  return (\n    <>\n      <Picture {...props} />\n      <noscript>\n        <Picture {...props} shouldLoad={true} />\n      </noscript>\n    </>\n  )\n}\n\nMainImage.displayName = `MainImage`\nMainImage.propTypes = Picture.propTypes\n","import React from \"react\"\nimport { getWrapperProps, getMainProps, getPlaceholderProps } from \"./hooks\"\nimport { Placeholder } from \"./placeholder\"\nimport { MainImage, MainImageProps } from \"./main-image\"\nimport { LayoutWrapper } from \"./layout-wrapper\"\nimport PropTypes from \"prop-types\"\nimport type { FunctionComponent, WeakValidationMap } from \"react\"\nimport type { GatsbyImageProps, IGatsbyImageData } from \"./gatsby-image.browser\"\n\nconst removeNewLines = (str: string): string => str.replace(/\\n/g, ``)\n\nexport const GatsbyImage: FunctionComponent<GatsbyImageProps> =\n  function GatsbyImage({\n    as = `div`,\n    className,\n    class: preactClass,\n    style,\n    image,\n    loading = `lazy`,\n    imgClassName,\n    imgStyle,\n    backgroundColor,\n    objectFit,\n    objectPosition,\n    ...props\n  }) {\n    if (!image) {\n      console.warn(`[gatsby-plugin-image] Missing image prop`)\n      return null\n    }\n\n    if (preactClass) {\n      className = preactClass\n    }\n\n    imgStyle = {\n      objectFit,\n      objectPosition,\n      backgroundColor,\n      ...imgStyle,\n    }\n\n    const {\n      width,\n      height,\n      layout,\n      images,\n      placeholder,\n      backgroundColor: placeholderBackgroundColor,\n    } = image\n\n    const {\n      style: wStyle,\n      className: wClass,\n      ...wrapperProps\n    } = getWrapperProps(width, height, layout)\n\n    const cleanedImages: IGatsbyImageData[\"images\"] = {\n      fallback: undefined,\n      sources: [],\n    }\n    if (images.fallback) {\n      cleanedImages.fallback = {\n        ...images.fallback,\n        srcSet: images.fallback.srcSet\n          ? removeNewLines(images.fallback.srcSet)\n          : undefined,\n      }\n    }\n\n    if (images.sources) {\n      cleanedImages.sources = images.sources.map(source => {\n        return {\n          ...source,\n          srcSet: removeNewLines(source.srcSet),\n        }\n      })\n    }\n\n    return React.createElement(\n      as,\n      {\n        ...wrapperProps,\n        style: {\n          ...wStyle,\n          ...style,\n          backgroundColor,\n        },\n        className: `${wClass}${className ? ` ${className}` : ``}`,\n      },\n      <LayoutWrapper layout={layout} width={width} height={height}>\n        <Placeholder\n          {...getPlaceholderProps(\n            placeholder,\n            false,\n            layout,\n            width,\n            height,\n            placeholderBackgroundColor,\n            objectFit,\n            objectPosition\n          )}\n        />\n\n        <MainImage\n          data-gatsby-image-ssr=\"\"\n          className={imgClassName}\n          {...(props as Omit<\n            MainImageProps,\n            \"images\" | \"fallback\" | \"onError\" | \"onLoad\"\n          >)}\n          // When eager is set we want to start the isLoading state on true (we want to load the img without react)\n          {...getMainProps(\n            loading === `eager`,\n            false,\n            cleanedImages,\n            loading,\n            imgStyle\n          )}\n        />\n      </LayoutWrapper>\n    )\n  }\n\nexport const altValidator: PropTypes.Validator<string> = (\n  props: GatsbyImageProps,\n  propName,\n  componentName,\n  ...rest\n): Error | undefined => {\n  if (!props.alt && props.alt !== ``) {\n    return new Error(\n      `The \"alt\" prop is required in ${componentName}. If the image is purely presentational then pass an empty string: e.g. alt=\"\". Learn more: https://a11y-style-guide.com/style-guide/section-media.html`\n    )\n  }\n\n  return PropTypes.string(props, propName, componentName, ...rest)\n}\n\nexport const propTypes = {\n  image: PropTypes.object.isRequired,\n  alt: altValidator,\n} as WeakValidationMap<GatsbyImageProps>\n","import {\n  createElement,\n  memo,\n  useMemo,\n  useEffect,\n  useLayoutEffect,\n  useRef,\n} from \"react\"\nimport {\n  getWrapperProps,\n  gatsbyImageIsInstalled,\n  hasNativeLazyLoadSupport,\n} from \"./hooks\"\nimport { getSizer } from \"./layout-wrapper\"\nimport { propTypes } from \"./gatsby-image.server\"\nimport type {\n  FC,\n  ElementType,\n  FunctionComponent,\n  ImgHTMLAttributes,\n  CSSProperties,\n  ReactEventHandler,\n} from \"react\"\nimport type { renderImageToString } from \"./lazy-hydrate\"\nimport type { PlaceholderProps } from \"./placeholder\"\nimport type { MainImageProps } from \"./main-image\"\nimport type { Layout } from \"../image-utils\"\n\nconst imageCache = new Set<string>()\nlet renderImageToStringPromise\nlet renderImage: typeof renderImageToString | undefined\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport interface GatsbyImageProps\n  extends Omit<\n    ImgHTMLAttributes<HTMLImageElement>,\n    \"placeholder\" | \"onLoad\" | \"src\" | \"srcSet\" | \"width\" | \"height\"\n  > {\n  alt: string\n  as?: ElementType\n  className?: string\n  class?: string\n  imgClassName?: string\n  image: IGatsbyImageData\n  imgStyle?: CSSProperties\n  backgroundColor?: string\n  objectFit?: CSSProperties[\"objectFit\"]\n  objectPosition?: CSSProperties[\"objectPosition\"]\n  onLoad?: (props: { wasCached: boolean }) => void\n  onError?: ReactEventHandler<HTMLImageElement>\n  onStartLoad?: (props: { wasCached: boolean }) => void\n}\n\nexport interface IGatsbyImageData {\n  layout: Layout\n  width: number\n  height: number\n  backgroundColor?: string\n  images: Pick<MainImageProps, \"sources\" | \"fallback\">\n  placeholder?: Pick<PlaceholderProps, \"sources\" | \"fallback\">\n}\n\nconst GatsbyImageHydrator: FC<GatsbyImageProps> = function GatsbyImageHydrator({\n  as = `div`,\n  image,\n  style,\n  backgroundColor,\n  className,\n  class: preactClass,\n  onStartLoad,\n  onLoad,\n  onError,\n  ...props\n}) {\n  const { width, height, layout } = image\n  const {\n    style: wStyle,\n    className: wClass,\n    ...wrapperProps\n  } = getWrapperProps(width, height, layout)\n  const root = useRef<HTMLElement>()\n  const cacheKey = useMemo(() => JSON.stringify(image.images), [image.images])\n\n  // Preact uses class instead of className so we need to check for both\n  if (preactClass) {\n    className = preactClass\n  }\n\n  const sizer = getSizer(layout, width, height)\n\n  useEffect(() => {\n    if (!renderImageToStringPromise) {\n      renderImageToStringPromise = import(`./lazy-hydrate`).then(\n        ({ renderImageToString, swapPlaceholderImage }) => {\n          renderImage = renderImageToString\n\n          return {\n            renderImageToString,\n            swapPlaceholderImage,\n          }\n        }\n      )\n    }\n\n    // The plugin image component is a bit special where if it's server-side rendered, we add extra script tags to support lazy-loading without\n    // In this case we stop hydration but fire the correct events.\n    const ssrImage = root.current.querySelector(\n      `[data-gatsby-image-ssr]`\n    ) as HTMLImageElement\n    if (ssrImage && hasNativeLazyLoadSupport()) {\n      if (ssrImage.complete) {\n        // Trigger onStartload and onLoad events\n        onStartLoad?.({\n          wasCached: true,\n        })\n        onLoad?.({\n          wasCached: true,\n        })\n\n        // remove ssr key for state updates but add delay to not fight with native code snippt of gatsby-ssr\n        setTimeout(() => {\n          ssrImage.removeAttribute(`data-gatsby-image-ssr`)\n        }, 0)\n      } else {\n        onStartLoad?.({\n          wasCached: true,\n        })\n\n        ssrImage.addEventListener(`load`, function onLoadListener() {\n          ssrImage.removeEventListener(`load`, onLoadListener)\n\n          onLoad?.({\n            wasCached: true,\n          })\n          // remove ssr key for state updates but add delay to not fight with native code snippt of gatsby-ssr\n          setTimeout(() => {\n            ssrImage.removeAttribute(`data-gatsby-image-ssr`)\n          }, 0)\n        })\n      }\n\n      imageCache.add(cacheKey)\n\n      return\n    }\n\n    if (renderImage && imageCache.has(cacheKey)) {\n      return\n    }\n\n    let animationFrame\n    let cleanupCallback\n    renderImageToStringPromise.then(\n      ({ renderImageToString, swapPlaceholderImage }) => {\n        if (!root.current) {\n          return\n        }\n\n        root.current.innerHTML = renderImageToString({\n          isLoading: true,\n          isLoaded: imageCache.has(cacheKey),\n          image,\n          ...props,\n        })\n\n        if (!imageCache.has(cacheKey)) {\n          animationFrame = requestAnimationFrame(() => {\n            if (root.current) {\n              cleanupCallback = swapPlaceholderImage(\n                root.current,\n                cacheKey,\n                imageCache,\n                style,\n                onStartLoad,\n                onLoad,\n                onError\n              )\n            }\n          })\n        }\n      }\n    )\n\n    // eslint-disable-next-line consistent-return\n    return (): void => {\n      if (animationFrame) {\n        cancelAnimationFrame(animationFrame)\n      }\n      if (cleanupCallback) {\n        cleanupCallback()\n      }\n    }\n  }, [image])\n\n  // useLayoutEffect is ran before React commits to the DOM. This allows us to make sure our HTML is using our cached image version\n  useLayoutEffect(() => {\n    if (imageCache.has(cacheKey) && renderImage) {\n      root.current.innerHTML = renderImage({\n        isLoading: imageCache.has(cacheKey),\n        isLoaded: imageCache.has(cacheKey),\n        image,\n        ...props,\n      })\n\n      // Trigger onStartload and onLoad events\n      onStartLoad?.({\n        wasCached: true,\n      })\n      onLoad?.({\n        wasCached: true,\n      })\n    }\n  }, [image])\n\n  // By keeping all props equal React will keep the component in the DOM\n  return createElement(as, {\n    ...wrapperProps,\n    style: {\n      ...wStyle,\n      ...style,\n      backgroundColor,\n    },\n    className: `${wClass}${className ? ` ${className}` : ``}`,\n    ref: root,\n    dangerouslySetInnerHTML: {\n      __html: sizer,\n    },\n    suppressHydrationWarning: true,\n  })\n}\n\nexport const GatsbyImage: FunctionComponent<GatsbyImageProps> = memo(\n  function GatsbyImage(props) {\n    if (!props.image) {\n      if (process.env.NODE_ENV === `development`) {\n        console.warn(`[gatsby-plugin-image] Missing image prop`)\n      }\n\n      return null\n    }\n\n    if (!gatsbyImageIsInstalled() && process.env.NODE_ENV === `development`) {\n      console.warn(\n        `[gatsby-plugin-image] You're missing out on some cool performance features. Please add \"gatsby-plugin-image\" to your gatsby-config.js`\n      )\n    }\n\n    return createElement(GatsbyImageHydrator, props)\n  }\n)\n\nGatsbyImage.propTypes = propTypes\nGatsbyImage.displayName = `GatsbyImage`\n","import React, { FunctionComponent, ReactElement } from \"react\"\nimport {\n  altValidator,\n  GatsbyImage as GatsbyImageServer,\n} from \"./gatsby-image.server\"\nimport { GatsbyImageProps, IGatsbyImageData } from \"./gatsby-image.browser\"\nimport PropTypes from \"prop-types\"\nimport { ISharpGatsbyImageArgs } from \"../image-utils\"\n\nexport interface IStaticImageProps\n  extends Omit<GatsbyImageProps, \"image\">,\n    Omit<ISharpGatsbyImageArgs, \"backgroundColor\"> {\n  src: string\n  filename?: string\n}\n\n// These values are added by Babel. Do not add them manually\ninterface IPrivateProps {\n  __imageData?: IGatsbyImageData\n  __error?: string\n}\n\nexport function _getStaticImage(\n  GatsbyImage: FunctionComponent<GatsbyImageProps>\n): React.FC<IStaticImageProps & IPrivateProps> {\n  return function StaticImage({\n    src,\n    __imageData: imageData,\n    __error,\n    // We extract these because they're not meant to be passed-down to GatsbyImage\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    width,\n    height,\n    aspectRatio,\n    tracedSVGOptions,\n    placeholder,\n    formats,\n    quality,\n    transformOptions,\n    jpgOptions,\n    pngOptions,\n    webpOptions,\n    avifOptions,\n    blurredOptions,\n    breakpoints,\n    outputPixelDensities,\n    /* eslint-enable @typescript-eslint/no-unused-vars */\n    ...props\n  }): ReactElement {\n    if (__error) {\n      console.warn(__error)\n    }\n\n    if (imageData) {\n      return <GatsbyImage image={imageData} {...props} />\n    }\n    console.warn(`Image not loaded`, src)\n    if (!__error && process.env.NODE_ENV === `development`) {\n      console.warn(\n        `Please ensure that \"gatsby-plugin-image\" is included in the plugins array in gatsby-config.js, and that your version of gatsby is at least 2.24.78`\n      )\n    }\n    return null\n  }\n}\n\nconst StaticImage: React.FC<IStaticImageProps & IPrivateProps> =\n  _getStaticImage(GatsbyImageServer)\n\nconst checkDimensionProps: PropTypes.Validator<number> = (\n  props: IStaticImageProps & IPrivateProps,\n  propName: keyof IStaticImageProps & IPrivateProps,\n  ...rest\n) => {\n  if (\n    props.layout === `fullWidth` &&\n    (propName === `width` || propName === `height`) &&\n    props[propName]\n  ) {\n    return new Error(\n      `\"${propName}\" ${props[propName]} may not be passed when layout is fullWidth.`\n    )\n  }\n  return PropTypes.number(props, propName, ...rest)\n}\n\nconst validLayouts = new Set([`fixed`, `fullWidth`, `constrained`])\n\nexport const propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: altValidator,\n  width: checkDimensionProps,\n  height: checkDimensionProps,\n  sizes: PropTypes.string,\n  layout: (props: IStaticImageProps & IPrivateProps): Error | undefined => {\n    if (props.layout === undefined) {\n      return undefined\n    }\n    if (validLayouts.has(props.layout)) {\n      return undefined\n    }\n\n    return new Error(\n      `Invalid value ${props.layout}\" provided for prop \"layout\". Defaulting to \"constrained\". Valid values are \"fixed\", \"fullWidth\" or \"constrained\".`\n    )\n  },\n}\n\nStaticImage.displayName = `StaticImage`\nStaticImage.propTypes = propTypes\n\nexport { StaticImage }\n","import {\n  GatsbyImage as GatsbyImageBrowser,\n  IGatsbyImageData,\n} from \"./gatsby-image.browser\"\nimport React from \"react\"\nimport {\n  _getStaticImage,\n  propTypes,\n  IStaticImageProps,\n} from \"./static-image.server\"\n// These values are added by Babel. Do not add them manually\ninterface IPrivateProps {\n  __imageData?: IGatsbyImageData\n  __error?: string\n}\n\nconst StaticImage: React.FC<IStaticImageProps & IPrivateProps> =\n  _getStaticImage(GatsbyImageBrowser)\n\nStaticImage.displayName = `StaticImage`\nStaticImage.propTypes = propTypes\n\nexport { StaticImage }\n","'use strict';\n\nconst UPPERCASE = /[\\p{Lu}]/u;\nconst LOWERCASE = /[\\p{Ll}]/u;\nconst LEADING_CAPITAL = /^[\\p{Lu}](?![\\p{Lu}])/gu;\nconst IDENTIFIER = /([\\p{Alpha}\\p{N}_]|$)/u;\nconst SEPARATORS = /[_.\\- ]+/;\n\nconst LEADING_SEPARATORS = new RegExp('^' + SEPARATORS.source);\nconst SEPARATORS_AND_IDENTIFIER = new RegExp(SEPARATORS.source + IDENTIFIER.source, 'gu');\nconst NUMBERS_AND_IDENTIFIER = new RegExp('\\\\d+' + IDENTIFIER.source, 'gu');\n\nconst preserveCamelCase = (string, toLowerCase, toUpperCase) => {\n\tlet isLastCharLower = false;\n\tlet isLastCharUpper = false;\n\tlet isLastLastCharUpper = false;\n\n\tfor (let i = 0; i < string.length; i++) {\n\t\tconst character = string[i];\n\n\t\tif (isLastCharLower && UPPERCASE.test(character)) {\n\t\t\tstring = string.slice(0, i) + '-' + string.slice(i);\n\t\t\tisLastCharLower = false;\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = true;\n\t\t\ti++;\n\t\t} else if (isLastCharUpper && isLastLastCharUpper && LOWERCASE.test(character)) {\n\t\t\tstring = string.slice(0, i - 1) + '-' + string.slice(i - 1);\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = false;\n\t\t\tisLastCharLower = true;\n\t\t} else {\n\t\t\tisLastCharLower = toLowerCase(character) === character && toUpperCase(character) !== character;\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = toUpperCase(character) === character && toLowerCase(character) !== character;\n\t\t}\n\t}\n\n\treturn string;\n};\n\nconst preserveConsecutiveUppercase = (input, toLowerCase) => {\n\tLEADING_CAPITAL.lastIndex = 0;\n\n\treturn input.replace(LEADING_CAPITAL, m1 => toLowerCase(m1));\n};\n\nconst postProcess = (input, toUpperCase) => {\n\tSEPARATORS_AND_IDENTIFIER.lastIndex = 0;\n\tNUMBERS_AND_IDENTIFIER.lastIndex = 0;\n\n\treturn input.replace(SEPARATORS_AND_IDENTIFIER, (_, identifier) => toUpperCase(identifier))\n\t\t.replace(NUMBERS_AND_IDENTIFIER, m => toUpperCase(m));\n};\n\nconst camelCase = (input, options) => {\n\tif (!(typeof input === 'string' || Array.isArray(input))) {\n\t\tthrow new TypeError('Expected the input to be `string | string[]`');\n\t}\n\n\toptions = {\n\t\tpascalCase: false,\n\t\tpreserveConsecutiveUppercase: false,\n\t\t...options\n\t};\n\n\tif (Array.isArray(input)) {\n\t\tinput = input.map(x => x.trim())\n\t\t\t.filter(x => x.length)\n\t\t\t.join('-');\n\t} else {\n\t\tinput = input.trim();\n\t}\n\n\tif (input.length === 0) {\n\t\treturn '';\n\t}\n\n\tconst toLowerCase = options.locale === false ?\n\t\tstring => string.toLowerCase() :\n\t\tstring => string.toLocaleLowerCase(options.locale);\n\tconst toUpperCase = options.locale === false ?\n\t\tstring => string.toUpperCase() :\n\t\tstring => string.toLocaleUpperCase(options.locale);\n\n\tif (input.length === 1) {\n\t\treturn options.pascalCase ? toUpperCase(input) : toLowerCase(input);\n\t}\n\n\tconst hasUpperCase = input !== toLowerCase(input);\n\n\tif (hasUpperCase) {\n\t\tinput = preserveCamelCase(input, toLowerCase, toUpperCase);\n\t}\n\n\tinput = input.replace(LEADING_SEPARATORS, '');\n\n\tif (options.preserveConsecutiveUppercase) {\n\t\tinput = preserveConsecutiveUppercase(input, toLowerCase);\n\t} else {\n\t\tinput = toLowerCase(input);\n\t}\n\n\tif (options.pascalCase) {\n\t\tinput = toUpperCase(input.charAt(0)) + input.slice(1);\n\t}\n\n\treturn postProcess(input, toUpperCase);\n};\n\nmodule.exports = camelCase;\n// TODO: Remove this for the next major release\nmodule.exports.default = camelCase;\n","/**\n * Generate a list of every possible transform key.\n */\nconst transformPropOrder = [\n    \"transformPerspective\",\n    \"x\",\n    \"y\",\n    \"z\",\n    \"translateX\",\n    \"translateY\",\n    \"translateZ\",\n    \"scale\",\n    \"scaleX\",\n    \"scaleY\",\n    \"rotate\",\n    \"rotateX\",\n    \"rotateY\",\n    \"rotateZ\",\n    \"skew\",\n    \"skewX\",\n    \"skewY\",\n];\n/**\n * A quick lookup for transform props.\n */\nconst transformProps = /*@__PURE__*/ (() => new Set(transformPropOrder))();\n\nexport { transformPropOrder, transformProps };\n","const radToDeg = (rad) => (rad * 180) / Math.PI;\nconst rotate = (v) => {\n    const angle = radToDeg(Math.atan2(v[1], v[0]));\n    return rebaseAngle(angle);\n};\nconst matrix2dParsers = {\n    x: 4,\n    y: 5,\n    translateX: 4,\n    translateY: 5,\n    scaleX: 0,\n    scaleY: 3,\n    scale: (v) => (Math.abs(v[0]) + Math.abs(v[3])) / 2,\n    rotate,\n    rotateZ: rotate,\n    skewX: (v) => radToDeg(Math.atan(v[1])),\n    skewY: (v) => radToDeg(Math.atan(v[2])),\n    skew: (v) => (Math.abs(v[1]) + Math.abs(v[2])) / 2,\n};\nconst rebaseAngle = (angle) => {\n    angle = angle % 360;\n    if (angle < 0)\n        angle += 360;\n    return angle;\n};\nconst rotateZ = rotate;\nconst scaleX = (v) => Math.sqrt(v[0] * v[0] + v[1] * v[1]);\nconst scaleY = (v) => Math.sqrt(v[4] * v[4] + v[5] * v[5]);\nconst matrix3dParsers = {\n    x: 12,\n    y: 13,\n    z: 14,\n    translateX: 12,\n    translateY: 13,\n    translateZ: 14,\n    scaleX,\n    scaleY,\n    scale: (v) => (scaleX(v) + scaleY(v)) / 2,\n    rotateX: (v) => rebaseAngle(radToDeg(Math.atan2(v[6], v[5]))),\n    rotateY: (v) => rebaseAngle(radToDeg(Math.atan2(-v[2], v[0]))),\n    rotateZ,\n    rotate: rotateZ,\n    skewX: (v) => radToDeg(Math.atan(v[4])),\n    skewY: (v) => radToDeg(Math.atan(v[1])),\n    skew: (v) => (Math.abs(v[1]) + Math.abs(v[4])) / 2,\n};\nfunction defaultTransformValue(name) {\n    return name.includes(\"scale\") ? 1 : 0;\n}\nfunction parseValueFromTransform(transform, name) {\n    if (!transform || transform === \"none\") {\n        return defaultTransformValue(name);\n    }\n    const matrix3dMatch = transform.match(/^matrix3d\\(([-\\d.e\\s,]+)\\)$/u);\n    let parsers;\n    let match;\n    if (matrix3dMatch) {\n        parsers = matrix3dParsers;\n        match = matrix3dMatch;\n    }\n    else {\n        const matrix2dMatch = transform.match(/^matrix\\(([-\\d.e\\s,]+)\\)$/u);\n        parsers = matrix2dParsers;\n        match = matrix2dMatch;\n    }\n    if (!match) {\n        return defaultTransformValue(name);\n    }\n    const valueParser = parsers[name];\n    const values = match[1].split(\",\").map(convertTransformToNumber);\n    return typeof valueParser === \"function\"\n        ? valueParser(values)\n        : values[valueParser];\n}\nconst readTransformValue = (instance, name) => {\n    const { transform = \"none\" } = getComputedStyle(instance);\n    return parseValueFromTransform(transform, name);\n};\nfunction convertTransformToNumber(value) {\n    return parseFloat(value.trim());\n}\n\nexport { defaultTransformValue, parseValueFromTransform, readTransformValue };\n","const checkStringStartsWith = (token) => (key) => typeof key === \"string\" && key.startsWith(token);\nconst isCSSVariableName = \n/*@__PURE__*/ checkStringStartsWith(\"--\");\nconst startsAsVariableToken = \n/*@__PURE__*/ checkStringStartsWith(\"var(--\");\nconst isCSSVariableToken = (value) => {\n    const startsWithToken = startsAsVariableToken(value);\n    if (!startsWithToken)\n        return false;\n    // Ensure any comments are stripped from the value as this can harm performance of the regex.\n    return singleCssVariableRegex.test(value.split(\"/*\")[0].trim());\n};\nconst singleCssVariableRegex = /var\\(--(?:[\\w-]+\\s*|[\\w-]+\\s*,(?:\\s*[^)(\\s]|\\s*\\((?:[^)(]|\\([^)(]*\\))*\\))+\\s*)\\)$/iu;\n/**\n * Check if a value contains a CSS variable anywhere (e.g. inside calc()).\n * Unlike isCSSVariableToken which checks if the value IS a var() token,\n * this checks if the value CONTAINS var() somewhere in the string.\n */\nfunction containsCSSVariable(value) {\n    if (typeof value !== \"string\")\n        return false;\n    // Strip comments to avoid false positives\n    return value.split(\"/*\")[0].includes(\"var(--\");\n}\n\nexport { containsCSSVariable, isCSSVariableName, isCSSVariableToken };\n","/**\n * Bounding boxes tend to be defined as top, left, right, bottom. For various operations\n * it's easier to consider each axis individually. This function returns a bounding box\n * as a map of single-axis min/max values.\n */\nfunction convertBoundingBoxToBox({ top, left, right, bottom, }) {\n    return {\n        x: { min: left, max: right },\n        y: { min: top, max: bottom },\n    };\n}\nfunction convertBoxToBoundingBox({ x, y }) {\n    return { top: y.min, right: x.max, bottom: y.max, left: x.min };\n}\n/**\n * Applies a TransformPoint function to a bounding box. TransformPoint is usually a function\n * provided by Framer to allow measured points to be corrected for device scaling. This is used\n * when measuring DOM elements and DOM event points.\n */\nfunction transformBoxPoints(point, transformPoint) {\n    if (!transformPoint)\n        return point;\n    const topLeft = transformPoint({ x: point.left, y: point.top });\n    const bottomRight = transformPoint({ x: point.right, y: point.bottom });\n    return {\n        top: topLeft.y,\n        left: topLeft.x,\n        bottom: bottomRight.y,\n        right: bottomRight.x,\n    };\n}\n\nexport { convertBoundingBoxToBox, convertBoxToBoundingBox, transformBoxPoints };\n//# sourceMappingURL=conversion.mjs.map\n","/*\n  Value in range from progress\n\n  Given a lower limit and an upper limit, we return the value within\n  that range as expressed by progress (usually a number from 0 to 1)\n\n  So progress = 0.5 would change\n\n  from -------- to\n\n  to\n\n  from ---- to\n\n  E.g. from = 10, to = 20, progress = 0.5 => 15\n\n  @param [number]: Lower limit of range\n  @param [number]: Upper limit of range\n  @param [number]: The progress between lower and upper limits expressed 0-1\n  @return [number]: Value as calculated from progress within range (not limited within range)\n*/\nconst mixNumber = (from, to, progress) => {\n    return from + (to - from) * progress;\n};\n\nexport { mixNumber };\n","function isIdentityScale(scale) {\n    return scale === undefined || scale === 1;\n}\nfunction hasScale({ scale, scaleX, scaleY }) {\n    return (!isIdentityScale(scale) ||\n        !isIdentityScale(scaleX) ||\n        !isIdentityScale(scaleY));\n}\nfunction hasTransform(values) {\n    return (hasScale(values) ||\n        has2DTranslate(values) ||\n        values.z ||\n        values.rotate ||\n        values.rotateX ||\n        values.rotateY ||\n        values.skewX ||\n        values.skewY);\n}\nfunction has2DTranslate(values) {\n    return is2DTranslate(values.x) || is2DTranslate(values.y);\n}\nfunction is2DTranslate(value) {\n    return value && value !== \"0%\";\n}\n\nexport { has2DTranslate, hasScale, hasTransform };\n//# sourceMappingURL=has-transform.mjs.map\n","import { mixNumber } from 'motion-dom';\nimport { hasTransform } from '../utils/has-transform.mjs';\n\n/**\n * Scales a point based on a factor and an originPoint\n */\nfunction scalePoint(point, scale, originPoint) {\n    const distanceFromOrigin = point - originPoint;\n    const scaled = scale * distanceFromOrigin;\n    return originPoint + scaled;\n}\n/**\n * Applies a translate/scale delta to a point\n */\nfunction applyPointDelta(point, translate, scale, originPoint, boxScale) {\n    if (boxScale !== undefined) {\n        point = scalePoint(point, boxScale, originPoint);\n    }\n    return scalePoint(point, scale, originPoint) + translate;\n}\n/**\n * Applies a translate/scale delta to an axis\n */\nfunction applyAxisDelta(axis, translate = 0, scale = 1, originPoint, boxScale) {\n    axis.min = applyPointDelta(axis.min, translate, scale, originPoint, boxScale);\n    axis.max = applyPointDelta(axis.max, translate, scale, originPoint, boxScale);\n}\n/**\n * Applies a translate/scale delta to a box\n */\nfunction applyBoxDelta(box, { x, y }) {\n    applyAxisDelta(box.x, x.translate, x.scale, x.originPoint);\n    applyAxisDelta(box.y, y.translate, y.scale, y.originPoint);\n}\nconst TREE_SCALE_SNAP_MIN = 0.999999999999;\nconst TREE_SCALE_SNAP_MAX = 1.0000000000001;\n/**\n * Apply a tree of deltas to a box. We do this to calculate the effect of all the transforms\n * in a tree upon our box before then calculating how to project it into our desired viewport-relative box\n *\n * This is the final nested loop within updateLayoutDelta for future refactoring\n */\nfunction applyTreeDeltas(box, treeScale, treePath, isSharedTransition = false) {\n    const treeLength = treePath.length;\n    if (!treeLength)\n        return;\n    // Reset the treeScale\n    treeScale.x = treeScale.y = 1;\n    let node;\n    let delta;\n    for (let i = 0; i < treeLength; i++) {\n        node = treePath[i];\n        delta = node.projectionDelta;\n        /**\n         * TODO: Prefer to remove this, but currently we have motion components with\n         * display: contents in Framer.\n         */\n        const { visualElement } = node.options;\n        if (visualElement &&\n            visualElement.props.style &&\n            visualElement.props.style.display === \"contents\") {\n            continue;\n        }\n        if (isSharedTransition &&\n            node.options.layoutScroll &&\n            node.scroll &&\n            node !== node.root) {\n            transformBox(box, {\n                x: -node.scroll.offset.x,\n                y: -node.scroll.offset.y,\n            });\n        }\n        if (delta) {\n            // Incoporate each ancestor's scale into a cumulative treeScale for this component\n            treeScale.x *= delta.x.scale;\n            treeScale.y *= delta.y.scale;\n            // Apply each ancestor's calculated delta into this component's recorded layout box\n            applyBoxDelta(box, delta);\n        }\n        if (isSharedTransition && hasTransform(node.latestValues)) {\n            transformBox(box, node.latestValues);\n        }\n    }\n    /**\n     * Snap tree scale back to 1 if it's within a non-perceivable threshold.\n     * This will help reduce useless scales getting rendered.\n     */\n    if (treeScale.x < TREE_SCALE_SNAP_MAX &&\n        treeScale.x > TREE_SCALE_SNAP_MIN) {\n        treeScale.x = 1.0;\n    }\n    if (treeScale.y < TREE_SCALE_SNAP_MAX &&\n        treeScale.y > TREE_SCALE_SNAP_MIN) {\n        treeScale.y = 1.0;\n    }\n}\nfunction translateAxis(axis, distance) {\n    axis.min = axis.min + distance;\n    axis.max = axis.max + distance;\n}\n/**\n * Apply a transform to an axis from the latest resolved motion values.\n * This function basically acts as a bridge between a flat motion value map\n * and applyAxisDelta\n */\nfunction transformAxis(axis, axisTranslate, axisScale, boxScale, axisOrigin = 0.5) {\n    const originPoint = mixNumber(axis.min, axis.max, axisOrigin);\n    // Apply the axis delta to the final axis\n    applyAxisDelta(axis, axisTranslate, axisScale, originPoint, boxScale);\n}\n/**\n * Apply a transform to a box from the latest resolved motion values.\n */\nfunction transformBox(box, transform) {\n    transformAxis(box.x, transform.x, transform.scaleX, transform.scale, transform.originX);\n    transformAxis(box.y, transform.y, transform.scaleY, transform.scale, transform.originY);\n}\n\nexport { applyAxisDelta, applyBoxDelta, applyPointDelta, applyTreeDeltas, scalePoint, transformAxis, transformBox, translateAxis };\n//# sourceMappingURL=delta-apply.mjs.map\n","import { convertBoundingBoxToBox, transformBoxPoints } from '../geometry/conversion.mjs';\nimport { translateAxis } from '../geometry/delta-apply.mjs';\n\nfunction measureViewportBox(instance, transformPoint) {\n    return convertBoundingBoxToBox(transformBoxPoints(instance.getBoundingClientRect(), transformPoint));\n}\nfunction measurePageBox(element, rootProjectionNode, transformPagePoint) {\n    const viewportBox = measureViewportBox(element, transformPagePoint);\n    const { scroll } = rootProjectionNode;\n    if (scroll) {\n        translateAxis(viewportBox.x, scroll.offset.x);\n        translateAxis(viewportBox.y, scroll.offset.y);\n    }\n    return viewportBox;\n}\n\nexport { measurePageBox, measureViewportBox };\n//# sourceMappingURL=measure.mjs.map\n","import { transformPropOrder } from './keys-transform.mjs';\n\nconst positionalKeys = new Set([\n    \"width\",\n    \"height\",\n    \"top\",\n    \"left\",\n    \"right\",\n    \"bottom\",\n    ...transformPropOrder,\n]);\n\nexport { positionalKeys };\n","const clamp = (min, max, v) => {\n    if (v > max)\n        return max;\n    if (v < min)\n        return min;\n    return v;\n};\n\nexport { clamp };\n","import { clamp } from 'motion-utils';\n\nconst number = {\n    test: (v) => typeof v === \"number\",\n    parse: parseFloat,\n    transform: (v) => v,\n};\nconst alpha = {\n    ...number,\n    transform: (v) => clamp(0, 1, v),\n};\nconst scale = {\n    ...number,\n    default: 1,\n};\n\nexport { alpha, number, scale };\n","/*#__NO_SIDE_EFFECTS__*/\nconst createUnitType = (unit) => ({\n    test: (v) => typeof v === \"string\" && v.endsWith(unit) && v.split(\" \").length === 1,\n    parse: parseFloat,\n    transform: (v) => `${v}${unit}`,\n});\nconst degrees = /*@__PURE__*/ createUnitType(\"deg\");\nconst percent = /*@__PURE__*/ createUnitType(\"%\");\nconst px = /*@__PURE__*/ createUnitType(\"px\");\nconst vh = /*@__PURE__*/ createUnitType(\"vh\");\nconst vw = /*@__PURE__*/ createUnitType(\"vw\");\nconst progressPercentage = /*@__PURE__*/ (() => ({\n    ...percent,\n    parse: (v) => percent.parse(v) / 100,\n    transform: (v) => percent.transform(v * 100),\n}))();\n\nexport { degrees, percent, progressPercentage, px, vh, vw };\n","/**\n * Tests a provided value against a ValueType\n */\nconst testValueType = (v) => (type) => type.test(v);\n\nexport { testValueType };\n","import { auto } from './auto.mjs';\nimport { number } from './numbers/index.mjs';\nimport { px, percent, degrees, vw, vh } from './numbers/units.mjs';\nimport { testValueType } from './test.mjs';\n\n/**\n * A list of value types commonly used for dimensions\n */\nconst dimensionValueTypes = [number, px, percent, degrees, vw, vh, auto];\n/**\n * Tests a dimensional value against the list of dimension ValueTypes\n */\nconst findDimensionValueType = (v) => dimensionValueTypes.find(testValueType(v));\n\nexport { dimensionValueTypes, findDimensionValueType };\n","/**\n * ValueType for \"auto\"\n */\nconst auto = {\n    test: (v) => v === \"auto\",\n    parse: (v) => v,\n};\n\nexport { auto };\n","/**\n * Check if value is a numerical string, ie a string that is purely a number eg \"100\" or \"-100.1\"\n */\nconst isNumericalString = (v) => /^-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)$/u.test(v);\n\nexport { isNumericalString };\n","import { invariant, isNumericalString } from 'motion-utils';\nimport { isCSSVariableToken } from './is-css-variable.mjs';\n\n/**\n * Parse Framer's special CSS variable format into a CSS token and a fallback.\n *\n * ```\n * `var(--foo, #fff)` => [`--foo`, '#fff']\n * ```\n *\n * @param current\n */\nconst splitCSSVariableRegex = \n// eslint-disable-next-line redos-detector/no-unsafe-regex -- false positive, as it can match a lot of words\n/^var\\(--(?:([\\w-]+)|([\\w-]+), ?([a-zA-Z\\d ()%#.,-]+))\\)/u;\nfunction parseCSSVariable(current) {\n    const match = splitCSSVariableRegex.exec(current);\n    if (!match)\n        return [,];\n    const [, token1, token2, fallback] = match;\n    return [`--${token1 ?? token2}`, fallback];\n}\nconst maxDepth = 4;\nfunction getVariableValue(current, element, depth = 1) {\n    invariant(depth <= maxDepth, `Max CSS variable fallback depth detected in property \"${current}\". This may indicate a circular fallback dependency.`, \"max-css-var-depth\");\n    const [token, fallback] = parseCSSVariable(current);\n    // No CSS variable detected\n    if (!token)\n        return;\n    // Attempt to read this CSS variable off the element\n    const resolved = window.getComputedStyle(element).getPropertyValue(token);\n    if (resolved) {\n        const trimmed = resolved.trim();\n        return isNumericalString(trimmed) ? parseFloat(trimmed) : trimmed;\n    }\n    return isCSSVariableToken(fallback)\n        ? getVariableValue(fallback, element, depth + 1)\n        : fallback;\n}\n\nexport { getVariableValue, parseCSSVariable };\n","import { parseValueFromTransform } from '../../../render/dom/parse-transform.mjs';\nimport { transformPropOrder } from '../../../render/utils/keys-transform.mjs';\nimport { number } from '../../../value/types/numbers/index.mjs';\nimport { px } from '../../../value/types/numbers/units.mjs';\n\nconst isNumOrPxType = (v) => v === number || v === px;\nconst transformKeys = new Set([\"x\", \"y\", \"z\"]);\nconst nonTranslationalTransformKeys = transformPropOrder.filter((key) => !transformKeys.has(key));\nfunction removeNonTranslationalTransform(visualElement) {\n    const removedTransforms = [];\n    nonTranslationalTransformKeys.forEach((key) => {\n        const value = visualElement.getValue(key);\n        if (value !== undefined) {\n            removedTransforms.push([key, value.get()]);\n            value.set(key.startsWith(\"scale\") ? 1 : 0);\n        }\n    });\n    return removedTransforms;\n}\nconst positionalValues = {\n    // Dimensions\n    width: ({ x }, { paddingLeft = \"0\", paddingRight = \"0\" }) => x.max - x.min - parseFloat(paddingLeft) - parseFloat(paddingRight),\n    height: ({ y }, { paddingTop = \"0\", paddingBottom = \"0\" }) => y.max - y.min - parseFloat(paddingTop) - parseFloat(paddingBottom),\n    top: (_bbox, { top }) => parseFloat(top),\n    left: (_bbox, { left }) => parseFloat(left),\n    bottom: ({ y }, { top }) => parseFloat(top) + (y.max - y.min),\n    right: ({ x }, { left }) => parseFloat(left) + (x.max - x.min),\n    // Transform\n    x: (_bbox, { transform }) => parseValueFromTransform(transform, \"x\"),\n    y: (_bbox, { transform }) => parseValueFromTransform(transform, \"y\"),\n};\n// Alias translate longform names\npositionalValues.translateX = positionalValues.x;\npositionalValues.translateY = positionalValues.y;\n\nexport { isNumOrPxType, positionalValues, removeNonTranslationalTransform };\n","/*#__NO_SIDE_EFFECTS__*/\nconst noop = (any) => any;\n\nexport { noop };\n","const MotionGlobalConfig = {};\n\nexport { MotionGlobalConfig };\n","const stepsOrder = [\n    \"setup\", // Compute\n    \"read\", // Read\n    \"resolveKeyframes\", // Write/Read/Write/Read\n    \"preUpdate\", // Compute\n    \"update\", // Compute\n    \"preRender\", // Compute\n    \"render\", // Write\n    \"postRender\", // Compute\n];\n\nexport { stepsOrder };\n","const statsBuffer = {\n    value: null,\n    addProjectionMetrics: null,\n};\n\nexport { statsBuffer };\n","import { MotionGlobalConfig } from 'motion-utils';\nimport { stepsOrder } from './order.mjs';\nimport { createRenderStep } from './render-step.mjs';\n\nconst maxElapsed = 40;\nfunction createRenderBatcher(scheduleNextBatch, allowKeepAlive) {\n    let runNextFrame = false;\n    let useDefaultElapsed = true;\n    const state = {\n        delta: 0.0,\n        timestamp: 0.0,\n        isProcessing: false,\n    };\n    const flagRunNextFrame = () => (runNextFrame = true);\n    const steps = stepsOrder.reduce((acc, key) => {\n        acc[key] = createRenderStep(flagRunNextFrame, allowKeepAlive ? key : undefined);\n        return acc;\n    }, {});\n    const { setup, read, resolveKeyframes, preUpdate, update, preRender, render, postRender, } = steps;\n    const processBatch = () => {\n        const timestamp = MotionGlobalConfig.useManualTiming\n            ? state.timestamp\n            : performance.now();\n        runNextFrame = false;\n        if (!MotionGlobalConfig.useManualTiming) {\n            state.delta = useDefaultElapsed\n                ? 1000 / 60\n                : Math.max(Math.min(timestamp - state.timestamp, maxElapsed), 1);\n        }\n        state.timestamp = timestamp;\n        state.isProcessing = true;\n        // Unrolled render loop for better per-frame performance\n        setup.process(state);\n        read.process(state);\n        resolveKeyframes.process(state);\n        preUpdate.process(state);\n        update.process(state);\n        preRender.process(state);\n        render.process(state);\n        postRender.process(state);\n        state.isProcessing = false;\n        if (runNextFrame && allowKeepAlive) {\n            useDefaultElapsed = false;\n            scheduleNextBatch(processBatch);\n        }\n    };\n    const wake = () => {\n        runNextFrame = true;\n        useDefaultElapsed = true;\n        if (!state.isProcessing) {\n            scheduleNextBatch(processBatch);\n        }\n    };\n    const schedule = stepsOrder.reduce((acc, key) => {\n        const step = steps[key];\n        acc[key] = (process, keepAlive = false, immediate = false) => {\n            if (!runNextFrame)\n                wake();\n            return step.schedule(process, keepAlive, immediate);\n        };\n        return acc;\n    }, {});\n    const cancel = (process) => {\n        for (let i = 0; i < stepsOrder.length; i++) {\n            steps[stepsOrder[i]].cancel(process);\n        }\n    };\n    return { schedule, cancel, state, steps };\n}\n\nexport { createRenderBatcher };\n","import { statsBuffer } from '../stats/buffer.mjs';\n\nfunction createRenderStep(runNextFrame, stepName) {\n    /**\n     * We create and reuse two queues, one to queue jobs for the current frame\n     * and one for the next. We reuse to avoid triggering GC after x frames.\n     */\n    let thisFrame = new Set();\n    let nextFrame = new Set();\n    /**\n     * Track whether we're currently processing jobs in this step. This way\n     * we can decide whether to schedule new jobs for this frame or next.\n     */\n    let isProcessing = false;\n    let flushNextFrame = false;\n    /**\n     * A set of processes which were marked keepAlive when scheduled.\n     */\n    const toKeepAlive = new WeakSet();\n    let latestFrameData = {\n        delta: 0.0,\n        timestamp: 0.0,\n        isProcessing: false,\n    };\n    let numCalls = 0;\n    function triggerCallback(callback) {\n        if (toKeepAlive.has(callback)) {\n            step.schedule(callback);\n            runNextFrame();\n        }\n        numCalls++;\n        callback(latestFrameData);\n    }\n    const step = {\n        /**\n         * Schedule a process to run on the next frame.\n         */\n        schedule: (callback, keepAlive = false, immediate = false) => {\n            const addToCurrentFrame = immediate && isProcessing;\n            const queue = addToCurrentFrame ? thisFrame : nextFrame;\n            if (keepAlive)\n                toKeepAlive.add(callback);\n            if (!queue.has(callback))\n                queue.add(callback);\n            return callback;\n        },\n        /**\n         * Cancel the provided callback from running on the next frame.\n         */\n        cancel: (callback) => {\n            nextFrame.delete(callback);\n            toKeepAlive.delete(callback);\n        },\n        /**\n         * Execute all schedule callbacks.\n         */\n        process: (frameData) => {\n            latestFrameData = frameData;\n            /**\n             * If we're already processing we've probably been triggered by a flushSync\n             * inside an existing process. Instead of executing, mark flushNextFrame\n             * as true and ensure we flush the following frame at the end of this one.\n             */\n            if (isProcessing) {\n                flushNextFrame = true;\n                return;\n            }\n            isProcessing = true;\n            [thisFrame, nextFrame] = [nextFrame, thisFrame];\n            // Execute this frame\n            thisFrame.forEach(triggerCallback);\n            /**\n             * If we're recording stats then\n             */\n            if (stepName && statsBuffer.value) {\n                statsBuffer.value.frameloop[stepName].push(numCalls);\n            }\n            numCalls = 0;\n            // Clear the frame so no callbacks remain. This is to avoid\n            // memory leaks should this render step not run for a while.\n            thisFrame.clear();\n            isProcessing = false;\n            if (flushNextFrame) {\n                flushNextFrame = false;\n                step.process(frameData);\n            }\n        },\n    };\n    return step;\n}\n\nexport { createRenderStep };\n","import { noop } from 'motion-utils';\nimport { createRenderBatcher } from './batcher.mjs';\n\nconst { schedule: frame, cancel: cancelFrame, state: frameData, steps: frameSteps, } = /* @__PURE__ */ createRenderBatcher(typeof requestAnimationFrame !== \"undefined\" ? requestAnimationFrame : noop, true);\n\nexport { cancelFrame, frame, frameData, frameSteps };\n","import { fillWildcards } from './utils/fill-wildcards.mjs';\nimport { removeNonTranslationalTransform } from './utils/unit-conversion.mjs';\nimport { frame } from '../../frameloop/frame.mjs';\n\nconst toResolve = new Set();\nlet isScheduled = false;\nlet anyNeedsMeasurement = false;\nlet isForced = false;\nfunction measureAllKeyframes() {\n    if (anyNeedsMeasurement) {\n        const resolversToMeasure = Array.from(toResolve).filter((resolver) => resolver.needsMeasurement);\n        const elementsToMeasure = new Set(resolversToMeasure.map((resolver) => resolver.element));\n        const transformsToRestore = new Map();\n        /**\n         * Write pass\n         * If we're measuring elements we want to remove bounding box-changing transforms.\n         */\n        elementsToMeasure.forEach((element) => {\n            const removedTransforms = removeNonTranslationalTransform(element);\n            if (!removedTransforms.length)\n                return;\n            transformsToRestore.set(element, removedTransforms);\n            element.render();\n        });\n        // Read\n        resolversToMeasure.forEach((resolver) => resolver.measureInitialState());\n        // Write\n        elementsToMeasure.forEach((element) => {\n            element.render();\n            const restore = transformsToRestore.get(element);\n            if (restore) {\n                restore.forEach(([key, value]) => {\n                    element.getValue(key)?.set(value);\n                });\n            }\n        });\n        // Read\n        resolversToMeasure.forEach((resolver) => resolver.measureEndState());\n        // Write\n        resolversToMeasure.forEach((resolver) => {\n            if (resolver.suspendedScrollY !== undefined) {\n                window.scrollTo(0, resolver.suspendedScrollY);\n            }\n        });\n    }\n    anyNeedsMeasurement = false;\n    isScheduled = false;\n    toResolve.forEach((resolver) => resolver.complete(isForced));\n    toResolve.clear();\n}\nfunction readAllKeyframes() {\n    toResolve.forEach((resolver) => {\n        resolver.readKeyframes();\n        if (resolver.needsMeasurement) {\n            anyNeedsMeasurement = true;\n        }\n    });\n}\nfunction flushKeyframeResolvers() {\n    isForced = true;\n    readAllKeyframes();\n    measureAllKeyframes();\n    isForced = false;\n}\nclass KeyframeResolver {\n    constructor(unresolvedKeyframes, onComplete, name, motionValue, element, isAsync = false) {\n        this.state = \"pending\";\n        /**\n         * Track whether this resolver is async. If it is, it'll be added to the\n         * resolver queue and flushed in the next frame. Resolvers that aren't going\n         * to trigger read/write thrashing don't need to be async.\n         */\n        this.isAsync = false;\n        /**\n         * Track whether this resolver needs to perform a measurement\n         * to resolve its keyframes.\n         */\n        this.needsMeasurement = false;\n        this.unresolvedKeyframes = [...unresolvedKeyframes];\n        this.onComplete = onComplete;\n        this.name = name;\n        this.motionValue = motionValue;\n        this.element = element;\n        this.isAsync = isAsync;\n    }\n    scheduleResolve() {\n        this.state = \"scheduled\";\n        if (this.isAsync) {\n            toResolve.add(this);\n            if (!isScheduled) {\n                isScheduled = true;\n                frame.read(readAllKeyframes);\n                frame.resolveKeyframes(measureAllKeyframes);\n            }\n        }\n        else {\n            this.readKeyframes();\n            this.complete();\n        }\n    }\n    readKeyframes() {\n        const { unresolvedKeyframes, name, element, motionValue } = this;\n        // If initial keyframe is null we need to read it from the DOM\n        if (unresolvedKeyframes[0] === null) {\n            const currentValue = motionValue?.get();\n            // TODO: This doesn't work if the final keyframe is a wildcard\n            const finalKeyframe = unresolvedKeyframes[unresolvedKeyframes.length - 1];\n            if (currentValue !== undefined) {\n                unresolvedKeyframes[0] = currentValue;\n            }\n            else if (element && name) {\n                const valueAsRead = element.readValue(name, finalKeyframe);\n                if (valueAsRead !== undefined && valueAsRead !== null) {\n                    unresolvedKeyframes[0] = valueAsRead;\n                }\n            }\n            if (unresolvedKeyframes[0] === undefined) {\n                unresolvedKeyframes[0] = finalKeyframe;\n            }\n            if (motionValue && currentValue === undefined) {\n                motionValue.set(unresolvedKeyframes[0]);\n            }\n        }\n        fillWildcards(unresolvedKeyframes);\n    }\n    setFinalKeyframe() { }\n    measureInitialState() { }\n    renderEndStyles() { }\n    measureEndState() { }\n    complete(isForcedComplete = false) {\n        this.state = \"complete\";\n        this.onComplete(this.unresolvedKeyframes, this.finalKeyframe, isForcedComplete);\n        toResolve.delete(this);\n    }\n    cancel() {\n        if (this.state === \"scheduled\") {\n            toResolve.delete(this);\n            this.state = \"pending\";\n        }\n    }\n    resume() {\n        if (this.state === \"pending\")\n            this.scheduleResolve();\n    }\n}\n\nexport { KeyframeResolver, flushKeyframeResolvers };\n","function fillWildcards(keyframes) {\n    for (let i = 1; i < keyframes.length; i++) {\n        keyframes[i] ?? (keyframes[i] = keyframes[i - 1]);\n    }\n}\n\nexport { fillWildcards };\n","/**\n * Check if the value is a zero value string like \"0px\" or \"0%\"\n */\nconst isZeroValueString = (v) => /^0[^.\\s]+$/u.test(v);\n\nexport { isZeroValueString };\n","import { isZeroValueString } from 'motion-utils';\n\nfunction isNone(value) {\n    if (typeof value === \"number\") {\n        return value === 0;\n    }\n    else if (value !== null) {\n        return value === \"none\" || value === \"0\" || isZeroValueString(value);\n    }\n    else {\n        return true;\n    }\n}\n\nexport { isNone };\n","// If this number is a decimal, make it just five decimal places\n// to avoid exponents\nconst sanitize = (v) => Math.round(v * 100000) / 100000;\n\nexport { sanitize };\n","const floatRegex = /-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)/gu;\n\nexport { floatRegex };\n","const singleColorRegex = /^(?:#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\))$/iu;\n\nexport { singleColorRegex };\n","import { floatRegex } from '../utils/float-regex.mjs';\nimport { isNullish } from '../utils/is-nullish.mjs';\nimport { singleColorRegex } from '../utils/single-color-regex.mjs';\n\n/**\n * Returns true if the provided string is a color, ie rgba(0,0,0,0) or #000,\n * but false if a number or multiple colors\n */\nconst isColorString = (type, testProp) => (v) => {\n    return Boolean((typeof v === \"string\" &&\n        singleColorRegex.test(v) &&\n        v.startsWith(type)) ||\n        (testProp &&\n            !isNullish(v) &&\n            Object.prototype.hasOwnProperty.call(v, testProp)));\n};\nconst splitColor = (aName, bName, cName) => (v) => {\n    if (typeof v !== \"string\")\n        return v;\n    const [a, b, c, alpha] = v.match(floatRegex);\n    return {\n        [aName]: parseFloat(a),\n        [bName]: parseFloat(b),\n        [cName]: parseFloat(c),\n        alpha: alpha !== undefined ? parseFloat(alpha) : 1,\n    };\n};\n\nexport { isColorString, splitColor };\n","function isNullish(v) {\n    return v == null;\n}\n\nexport { isNullish };\n","import { clamp } from 'motion-utils';\nimport { number, alpha } from '../numbers/index.mjs';\nimport { sanitize } from '../utils/sanitize.mjs';\nimport { isColorString, splitColor } from './utils.mjs';\n\nconst clampRgbUnit = (v) => clamp(0, 255, v);\nconst rgbUnit = {\n    ...number,\n    transform: (v) => Math.round(clampRgbUnit(v)),\n};\nconst rgba = {\n    test: /*@__PURE__*/ isColorString(\"rgb\", \"red\"),\n    parse: /*@__PURE__*/ splitColor(\"red\", \"green\", \"blue\"),\n    transform: ({ red, green, blue, alpha: alpha$1 = 1 }) => \"rgba(\" +\n        rgbUnit.transform(red) +\n        \", \" +\n        rgbUnit.transform(green) +\n        \", \" +\n        rgbUnit.transform(blue) +\n        \", \" +\n        sanitize(alpha.transform(alpha$1)) +\n        \")\",\n};\n\nexport { rgbUnit, rgba };\n","import { rgba } from './rgba.mjs';\nimport { isColorString } from './utils.mjs';\n\nfunction parseHex(v) {\n    let r = \"\";\n    let g = \"\";\n    let b = \"\";\n    let a = \"\";\n    // If we have 6 characters, ie #FF0000\n    if (v.length > 5) {\n        r = v.substring(1, 3);\n        g = v.substring(3, 5);\n        b = v.substring(5, 7);\n        a = v.substring(7, 9);\n        // Or we have 3 characters, ie #F00\n    }\n    else {\n        r = v.substring(1, 2);\n        g = v.substring(2, 3);\n        b = v.substring(3, 4);\n        a = v.substring(4, 5);\n        r += r;\n        g += g;\n        b += b;\n        a += a;\n    }\n    return {\n        red: parseInt(r, 16),\n        green: parseInt(g, 16),\n        blue: parseInt(b, 16),\n        alpha: a ? parseInt(a, 16) / 255 : 1,\n    };\n}\nconst hex = {\n    test: /*@__PURE__*/ isColorString(\"#\"),\n    parse: parseHex,\n    transform: rgba.transform,\n};\n\nexport { hex };\n","import { alpha } from '../numbers/index.mjs';\nimport { percent } from '../numbers/units.mjs';\nimport { sanitize } from '../utils/sanitize.mjs';\nimport { isColorString, splitColor } from './utils.mjs';\n\nconst hsla = {\n    test: /*@__PURE__*/ isColorString(\"hsl\", \"hue\"),\n    parse: /*@__PURE__*/ splitColor(\"hue\", \"saturation\", \"lightness\"),\n    transform: ({ hue, saturation, lightness, alpha: alpha$1 = 1 }) => {\n        return (\"hsla(\" +\n            Math.round(hue) +\n            \", \" +\n            percent.transform(sanitize(saturation)) +\n            \", \" +\n            percent.transform(sanitize(lightness)) +\n            \", \" +\n            sanitize(alpha.transform(alpha$1)) +\n            \")\");\n    },\n};\n\nexport { hsla };\n","import { hex } from './hex.mjs';\nimport { hsla } from './hsla.mjs';\nimport { rgba } from './rgba.mjs';\n\nconst color = {\n    test: (v) => rgba.test(v) || hex.test(v) || hsla.test(v),\n    parse: (v) => {\n        if (rgba.test(v)) {\n            return rgba.parse(v);\n        }\n        else if (hsla.test(v)) {\n            return hsla.parse(v);\n        }\n        else {\n            return hex.parse(v);\n        }\n    },\n    transform: (v) => {\n        return typeof v === \"string\"\n            ? v\n            : v.hasOwnProperty(\"red\")\n                ? rgba.transform(v)\n                : hsla.transform(v);\n    },\n    getAnimatableNone: (v) => {\n        const parsed = color.parse(v);\n        parsed.alpha = 0;\n        return color.transform(parsed);\n    },\n};\n\nexport { color };\n","const colorRegex = /(?:#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\))/giu;\n\nexport { colorRegex };\n","import { color } from '../color/index.mjs';\nimport { colorRegex } from '../utils/color-regex.mjs';\nimport { floatRegex } from '../utils/float-regex.mjs';\nimport { sanitize } from '../utils/sanitize.mjs';\n\nfunction test(v) {\n    return (isNaN(v) &&\n        typeof v === \"string\" &&\n        (v.match(floatRegex)?.length || 0) +\n            (v.match(colorRegex)?.length || 0) >\n            0);\n}\nconst NUMBER_TOKEN = \"number\";\nconst COLOR_TOKEN = \"color\";\nconst VAR_TOKEN = \"var\";\nconst VAR_FUNCTION_TOKEN = \"var(\";\nconst SPLIT_TOKEN = \"${}\";\n// this regex consists of the `singleCssVariableRegex|rgbHSLValueRegex|digitRegex`\nconst complexRegex = /var\\s*\\(\\s*--(?:[\\w-]+\\s*|[\\w-]+\\s*,(?:\\s*[^)(\\s]|\\s*\\((?:[^)(]|\\([^)(]*\\))*\\))+\\s*)\\)|#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\)|-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)/giu;\nfunction analyseComplexValue(value) {\n    const originalValue = value.toString();\n    const values = [];\n    const indexes = {\n        color: [],\n        number: [],\n        var: [],\n    };\n    const types = [];\n    let i = 0;\n    const tokenised = originalValue.replace(complexRegex, (parsedValue) => {\n        if (color.test(parsedValue)) {\n            indexes.color.push(i);\n            types.push(COLOR_TOKEN);\n            values.push(color.parse(parsedValue));\n        }\n        else if (parsedValue.startsWith(VAR_FUNCTION_TOKEN)) {\n            indexes.var.push(i);\n            types.push(VAR_TOKEN);\n            values.push(parsedValue);\n        }\n        else {\n            indexes.number.push(i);\n            types.push(NUMBER_TOKEN);\n            values.push(parseFloat(parsedValue));\n        }\n        ++i;\n        return SPLIT_TOKEN;\n    });\n    const split = tokenised.split(SPLIT_TOKEN);\n    return { values, split, indexes, types };\n}\nfunction parseComplexValue(v) {\n    return analyseComplexValue(v).values;\n}\nfunction createTransformer(source) {\n    const { split, types } = analyseComplexValue(source);\n    const numSections = split.length;\n    return (v) => {\n        let output = \"\";\n        for (let i = 0; i < numSections; i++) {\n            output += split[i];\n            if (v[i] !== undefined) {\n                const type = types[i];\n                if (type === NUMBER_TOKEN) {\n                    output += sanitize(v[i]);\n                }\n                else if (type === COLOR_TOKEN) {\n                    output += color.transform(v[i]);\n                }\n                else {\n                    output += v[i];\n                }\n            }\n        }\n        return output;\n    };\n}\nconst convertNumbersToZero = (v) => typeof v === \"number\" ? 0 : color.test(v) ? color.getAnimatableNone(v) : v;\nfunction getAnimatableNone(v) {\n    const parsed = parseComplexValue(v);\n    const transformer = createTransformer(v);\n    return transformer(parsed.map(convertNumbersToZero));\n}\nconst complex = {\n    test,\n    parse: parseComplexValue,\n    createTransformer,\n    getAnimatableNone,\n};\n\nexport { analyseComplexValue, complex };\n","import { complex } from './index.mjs';\nimport { floatRegex } from '../utils/float-regex.mjs';\n\n/**\n * Properties that should default to 1 or 100%\n */\nconst maxDefaults = new Set([\"brightness\", \"contrast\", \"saturate\", \"opacity\"]);\nfunction applyDefaultFilter(v) {\n    const [name, value] = v.slice(0, -1).split(\"(\");\n    if (name === \"drop-shadow\")\n        return v;\n    const [number] = value.match(floatRegex) || [];\n    if (!number)\n        return v;\n    const unit = value.replace(number, \"\");\n    let defaultValue = maxDefaults.has(name) ? 1 : 0;\n    if (number !== value)\n        defaultValue *= 100;\n    return name + \"(\" + defaultValue + unit + \")\";\n}\nconst functionRegex = /\\b([a-z-]*)\\(.*?\\)/gu;\nconst filter = {\n    ...complex,\n    getAnimatableNone: (v) => {\n        const functions = v.match(functionRegex);\n        return functions ? functions.map(applyDefaultFilter).join(\" \") : v;\n    },\n};\n\nexport { filter };\n","import { number } from './numbers/index.mjs';\n\nconst int = {\n    ...number,\n    transform: Math.round,\n};\n\nexport { int };\n","import { int } from '../int.mjs';\nimport { alpha } from '../numbers/index.mjs';\nimport { px } from '../numbers/units.mjs';\nimport { transformValueTypes } from './transform.mjs';\n\nconst numberValueTypes = {\n    // Border props\n    borderWidth: px,\n    borderTopWidth: px,\n    borderRightWidth: px,\n    borderBottomWidth: px,\n    borderLeftWidth: px,\n    borderRadius: px,\n    radius: px,\n    borderTopLeftRadius: px,\n    borderTopRightRadius: px,\n    borderBottomRightRadius: px,\n    borderBottomLeftRadius: px,\n    // Positioning props\n    width: px,\n    maxWidth: px,\n    height: px,\n    maxHeight: px,\n    top: px,\n    right: px,\n    bottom: px,\n    left: px,\n    inset: px,\n    insetBlock: px,\n    insetBlockStart: px,\n    insetBlockEnd: px,\n    insetInline: px,\n    insetInlineStart: px,\n    insetInlineEnd: px,\n    // Spacing props\n    padding: px,\n    paddingTop: px,\n    paddingRight: px,\n    paddingBottom: px,\n    paddingLeft: px,\n    paddingBlock: px,\n    paddingBlockStart: px,\n    paddingBlockEnd: px,\n    paddingInline: px,\n    paddingInlineStart: px,\n    paddingInlineEnd: px,\n    margin: px,\n    marginTop: px,\n    marginRight: px,\n    marginBottom: px,\n    marginLeft: px,\n    marginBlock: px,\n    marginBlockStart: px,\n    marginBlockEnd: px,\n    marginInline: px,\n    marginInlineStart: px,\n    marginInlineEnd: px,\n    // Misc\n    backgroundPositionX: px,\n    backgroundPositionY: px,\n    ...transformValueTypes,\n    zIndex: int,\n    // SVG\n    fillOpacity: alpha,\n    strokeOpacity: alpha,\n    numOctaves: int,\n};\n\nexport { numberValueTypes };\n","import { scale, alpha } from '../numbers/index.mjs';\nimport { degrees, px, progressPercentage } from '../numbers/units.mjs';\n\nconst transformValueTypes = {\n    rotate: degrees,\n    rotateX: degrees,\n    rotateY: degrees,\n    rotateZ: degrees,\n    scale,\n    scaleX: scale,\n    scaleY: scale,\n    scaleZ: scale,\n    skew: degrees,\n    skewX: degrees,\n    skewY: degrees,\n    distance: px,\n    translateX: px,\n    translateY: px,\n    translateZ: px,\n    x: px,\n    y: px,\n    z: px,\n    perspective: px,\n    transformPerspective: px,\n    opacity: alpha,\n    originX: progressPercentage,\n    originY: progressPercentage,\n    originZ: px,\n};\n\nexport { transformValueTypes };\n","import { color } from '../color/index.mjs';\nimport { filter } from '../complex/filter.mjs';\nimport { numberValueTypes } from './number.mjs';\n\n/**\n * A map of default value types for common values\n */\nconst defaultValueTypes = {\n    ...numberValueTypes,\n    // Color props\n    color,\n    backgroundColor: color,\n    outlineColor: color,\n    fill: color,\n    stroke: color,\n    // Border props\n    borderColor: color,\n    borderTopColor: color,\n    borderRightColor: color,\n    borderBottomColor: color,\n    borderLeftColor: color,\n    filter,\n    WebkitFilter: filter,\n};\n/**\n * Gets the default ValueType for the provided value key\n */\nconst getDefaultValueType = (key) => defaultValueTypes[key];\n\nexport { defaultValueTypes, getDefaultValueType };\n","import { complex } from '../complex/index.mjs';\nimport { filter } from '../complex/filter.mjs';\nimport { getDefaultValueType } from '../maps/defaults.mjs';\n\nfunction getAnimatableNone(key, value) {\n    let defaultValueType = getDefaultValueType(key);\n    if (defaultValueType !== filter)\n        defaultValueType = complex;\n    // If value is not recognised as animatable, ie \"none\", create an animatable version origin based on the target\n    return defaultValueType.getAnimatableNone\n        ? defaultValueType.getAnimatableNone(value)\n        : undefined;\n}\n\nexport { getAnimatableNone };\n","import { analyseComplexValue } from '../../../value/types/complex/index.mjs';\nimport { getAnimatableNone } from '../../../value/types/utils/animatable-none.mjs';\n\n/**\n * If we encounter keyframes like \"none\" or \"0\" and we also have keyframes like\n * \"#fff\" or \"200px 200px\" we want to find a keyframe to serve as a template for\n * the \"none\" keyframes. In this case \"#fff\" or \"200px 200px\" - then these get turned into\n * zero equivalents, i.e. \"#fff0\" or \"0px 0px\".\n */\nconst invalidTemplates = new Set([\"auto\", \"none\", \"0\"]);\nfunction makeNoneKeyframesAnimatable(unresolvedKeyframes, noneKeyframeIndexes, name) {\n    let i = 0;\n    let animatableTemplate = undefined;\n    while (i < unresolvedKeyframes.length && !animatableTemplate) {\n        const keyframe = unresolvedKeyframes[i];\n        if (typeof keyframe === \"string\" &&\n            !invalidTemplates.has(keyframe) &&\n            analyseComplexValue(keyframe).values.length) {\n            animatableTemplate = unresolvedKeyframes[i];\n        }\n        i++;\n    }\n    if (animatableTemplate && name) {\n        for (const noneIndex of noneKeyframeIndexes) {\n            unresolvedKeyframes[noneIndex] = getAnimatableNone(name, animatableTemplate);\n        }\n    }\n}\n\nexport { makeNoneKeyframesAnimatable };\n","import { positionalKeys } from '../../render/utils/keys-position.mjs';\nimport { findDimensionValueType } from '../../value/types/dimensions.mjs';\nimport { getVariableValue } from '../utils/css-variables-conversion.mjs';\nimport { isCSSVariableToken, containsCSSVariable } from '../utils/is-css-variable.mjs';\nimport { KeyframeResolver } from './KeyframesResolver.mjs';\nimport { isNone } from './utils/is-none.mjs';\nimport { makeNoneKeyframesAnimatable } from './utils/make-none-animatable.mjs';\nimport { positionalValues, isNumOrPxType } from './utils/unit-conversion.mjs';\n\nclass DOMKeyframesResolver extends KeyframeResolver {\n    constructor(unresolvedKeyframes, onComplete, name, motionValue, element) {\n        super(unresolvedKeyframes, onComplete, name, motionValue, element, true);\n    }\n    readKeyframes() {\n        const { unresolvedKeyframes, element, name } = this;\n        if (!element || !element.current)\n            return;\n        super.readKeyframes();\n        /**\n         * If any keyframe is a CSS variable, we need to find its value by sampling the element\n         */\n        for (let i = 0; i < unresolvedKeyframes.length; i++) {\n            let keyframe = unresolvedKeyframes[i];\n            if (typeof keyframe === \"string\") {\n                keyframe = keyframe.trim();\n                if (isCSSVariableToken(keyframe)) {\n                    const resolved = getVariableValue(keyframe, element.current);\n                    if (resolved !== undefined) {\n                        unresolvedKeyframes[i] = resolved;\n                    }\n                    if (i === unresolvedKeyframes.length - 1) {\n                        this.finalKeyframe = keyframe;\n                    }\n                }\n            }\n        }\n        /**\n         * Resolve \"none\" values. We do this potentially twice - once before and once after measuring keyframes.\n         * This could be seen as inefficient but it's a trade-off to avoid measurements in more situations, which\n         * have a far bigger performance impact.\n         */\n        this.resolveNoneKeyframes();\n        /**\n         * Check to see if unit type has changed. If so schedule jobs that will\n         * temporarily set styles to the destination keyframes.\n         * Skip if we have more than two keyframes or this isn't a positional value.\n         * TODO: We can throw if there are multiple keyframes and the value type changes.\n         */\n        if (!positionalKeys.has(name) || unresolvedKeyframes.length !== 2) {\n            return;\n        }\n        const [origin, target] = unresolvedKeyframes;\n        const originType = findDimensionValueType(origin);\n        const targetType = findDimensionValueType(target);\n        /**\n         * If one keyframe contains embedded CSS variables (e.g. in calc()) and the other\n         * doesn't, we need to measure to convert to pixels. This handles GitHub issue #3410.\n         */\n        const originHasVar = containsCSSVariable(origin);\n        const targetHasVar = containsCSSVariable(target);\n        if (originHasVar !== targetHasVar && positionalValues[name]) {\n            this.needsMeasurement = true;\n            return;\n        }\n        /**\n         * Either we don't recognise these value types or we can animate between them.\n         */\n        if (originType === targetType)\n            return;\n        /**\n         * If both values are numbers or pixels, we can animate between them by\n         * converting them to numbers.\n         */\n        if (isNumOrPxType(originType) && isNumOrPxType(targetType)) {\n            for (let i = 0; i < unresolvedKeyframes.length; i++) {\n                const value = unresolvedKeyframes[i];\n                if (typeof value === \"string\") {\n                    unresolvedKeyframes[i] = parseFloat(value);\n                }\n            }\n        }\n        else if (positionalValues[name]) {\n            /**\n             * Else, the only way to resolve this is by measuring the element.\n             */\n            this.needsMeasurement = true;\n        }\n    }\n    resolveNoneKeyframes() {\n        const { unresolvedKeyframes, name } = this;\n        const noneKeyframeIndexes = [];\n        for (let i = 0; i < unresolvedKeyframes.length; i++) {\n            if (unresolvedKeyframes[i] === null ||\n                isNone(unresolvedKeyframes[i])) {\n                noneKeyframeIndexes.push(i);\n            }\n        }\n        if (noneKeyframeIndexes.length) {\n            makeNoneKeyframesAnimatable(unresolvedKeyframes, noneKeyframeIndexes, name);\n        }\n    }\n    measureInitialState() {\n        const { element, unresolvedKeyframes, name } = this;\n        if (!element || !element.current)\n            return;\n        if (name === \"height\") {\n            this.suspendedScrollY = window.pageYOffset;\n        }\n        this.measuredOrigin = positionalValues[name](element.measureViewportBox(), window.getComputedStyle(element.current));\n        unresolvedKeyframes[0] = this.measuredOrigin;\n        // Set final key frame to measure after next render\n        const measureKeyframe = unresolvedKeyframes[unresolvedKeyframes.length - 1];\n        if (measureKeyframe !== undefined) {\n            element.getValue(name, measureKeyframe).jump(measureKeyframe, false);\n        }\n    }\n    measureEndState() {\n        const { element, name, unresolvedKeyframes } = this;\n        if (!element || !element.current)\n            return;\n        const value = element.getValue(name);\n        value && value.jump(this.measuredOrigin, false);\n        const finalKeyframeIndex = unresolvedKeyframes.length - 1;\n        const finalKeyframe = unresolvedKeyframes[finalKeyframeIndex];\n        unresolvedKeyframes[finalKeyframeIndex] = positionalValues[name](element.measureViewportBox(), window.getComputedStyle(element.current));\n        if (finalKeyframe !== null && this.finalKeyframe === undefined) {\n            this.finalKeyframe = finalKeyframe;\n        }\n        // If we removed transform values, reapply them before the next render\n        if (this.removedTransforms?.length) {\n            this.removedTransforms.forEach(([unsetTransformName, unsetTransformValue]) => {\n                element\n                    .getValue(unsetTransformName)\n                    .set(unsetTransformValue);\n            });\n        }\n        this.resolveNoneKeyframes();\n    }\n}\n\nexport { DOMKeyframesResolver };\n","const isMotionValue = (value) => Boolean(value && value.getVelocity);\n\nexport { isMotionValue };\n","import { MotionGlobalConfig } from 'motion-utils';\nimport { frameData } from './frame.mjs';\n\nlet now;\nfunction clearTime() {\n    now = undefined;\n}\n/**\n * An eventloop-synchronous alternative to performance.now().\n *\n * Ensures that time measurements remain consistent within a synchronous context.\n * Usually calling performance.now() twice within the same synchronous context\n * will return different values which isn't useful for animations when we're usually\n * trying to sync animations to the same frame.\n */\nconst time = {\n    now: () => {\n        if (now === undefined) {\n            time.set(frameData.isProcessing || MotionGlobalConfig.useManualTiming\n                ? frameData.timestamp\n                : performance.now());\n        }\n        return now;\n    },\n    set: (newTime) => {\n        now = newTime;\n        queueMicrotask(clearTime);\n    },\n};\n\nexport { time };\n","function addUniqueItem(arr, item) {\n    if (arr.indexOf(item) === -1)\n        arr.push(item);\n}\nfunction removeItem(arr, item) {\n    const index = arr.indexOf(item);\n    if (index > -1)\n        arr.splice(index, 1);\n}\n// Adapted from array-move\nfunction moveItem([...arr], fromIndex, toIndex) {\n    const startIndex = fromIndex < 0 ? arr.length + fromIndex : fromIndex;\n    if (startIndex >= 0 && startIndex < arr.length) {\n        const endIndex = toIndex < 0 ? arr.length + toIndex : toIndex;\n        const [item] = arr.splice(fromIndex, 1);\n        arr.splice(endIndex, 0, item);\n    }\n    return arr;\n}\n\nexport { addUniqueItem, moveItem, removeItem };\n","import { addUniqueItem, removeItem } from './array.mjs';\n\nclass SubscriptionManager {\n    constructor() {\n        this.subscriptions = [];\n    }\n    add(handler) {\n        addUniqueItem(this.subscriptions, handler);\n        return () => removeItem(this.subscriptions, handler);\n    }\n    notify(a, b, c) {\n        const numSubscriptions = this.subscriptions.length;\n        if (!numSubscriptions)\n            return;\n        if (numSubscriptions === 1) {\n            /**\n             * If there's only a single handler we can just call it without invoking a loop.\n             */\n            this.subscriptions[0](a, b, c);\n        }\n        else {\n            for (let i = 0; i < numSubscriptions; i++) {\n                /**\n                 * Check whether the handler exists before firing as it's possible\n                 * the subscriptions were modified during this loop running.\n                 */\n                const handler = this.subscriptions[i];\n                handler && handler(a, b, c);\n            }\n        }\n    }\n    getSize() {\n        return this.subscriptions.length;\n    }\n    clear() {\n        this.subscriptions.length = 0;\n    }\n}\n\nexport { SubscriptionManager };\n","/*\n  Convert velocity into velocity per second\n\n  @param [number]: Unit per frame\n  @param [number]: Frame duration in ms\n*/\nfunction velocityPerSecond(velocity, frameDuration) {\n    return frameDuration ? velocity * (1000 / frameDuration) : 0;\n}\n\nexport { velocityPerSecond };\n","import { warnOnce, SubscriptionManager, velocityPerSecond } from 'motion-utils';\nimport { time } from '../frameloop/sync-time.mjs';\nimport { frame } from '../frameloop/frame.mjs';\n\n/**\n * Maximum time between the value of two frames, beyond which we\n * assume the velocity has since been 0.\n */\nconst MAX_VELOCITY_DELTA = 30;\nconst isFloat = (value) => {\n    return !isNaN(parseFloat(value));\n};\nconst collectMotionValues = {\n    current: undefined,\n};\n/**\n * `MotionValue` is used to track the state and velocity of motion values.\n *\n * @public\n */\nclass MotionValue {\n    /**\n     * @param init - The initiating value\n     * @param config - Optional configuration options\n     *\n     * -  `transformer`: A function to transform incoming values with.\n     */\n    constructor(init, options = {}) {\n        /**\n         * Tracks whether this value can output a velocity. Currently this is only true\n         * if the value is numerical, but we might be able to widen the scope here and support\n         * other value types.\n         *\n         * @internal\n         */\n        this.canTrackVelocity = null;\n        /**\n         * An object containing a SubscriptionManager for each active event.\n         */\n        this.events = {};\n        this.updateAndNotify = (v) => {\n            const currentTime = time.now();\n            /**\n             * If we're updating the value during another frame or eventloop\n             * than the previous frame, then the we set the previous frame value\n             * to current.\n             */\n            if (this.updatedAt !== currentTime) {\n                this.setPrevFrameValue();\n            }\n            this.prev = this.current;\n            this.setCurrent(v);\n            // Update update subscribers\n            if (this.current !== this.prev) {\n                this.events.change?.notify(this.current);\n                if (this.dependents) {\n                    for (const dependent of this.dependents) {\n                        dependent.dirty();\n                    }\n                }\n            }\n        };\n        this.hasAnimated = false;\n        this.setCurrent(init);\n        this.owner = options.owner;\n    }\n    setCurrent(current) {\n        this.current = current;\n        this.updatedAt = time.now();\n        if (this.canTrackVelocity === null && current !== undefined) {\n            this.canTrackVelocity = isFloat(this.current);\n        }\n    }\n    setPrevFrameValue(prevFrameValue = this.current) {\n        this.prevFrameValue = prevFrameValue;\n        this.prevUpdatedAt = this.updatedAt;\n    }\n    /**\n     * Adds a function that will be notified when the `MotionValue` is updated.\n     *\n     * It returns a function that, when called, will cancel the subscription.\n     *\n     * When calling `onChange` inside a React component, it should be wrapped with the\n     * `useEffect` hook. As it returns an unsubscribe function, this should be returned\n     * from the `useEffect` function to ensure you don't add duplicate subscribers..\n     *\n     * ```jsx\n     * export const MyComponent = () => {\n     *   const x = useMotionValue(0)\n     *   const y = useMotionValue(0)\n     *   const opacity = useMotionValue(1)\n     *\n     *   useEffect(() => {\n     *     function updateOpacity() {\n     *       const maxXY = Math.max(x.get(), y.get())\n     *       const newOpacity = transform(maxXY, [0, 100], [1, 0])\n     *       opacity.set(newOpacity)\n     *     }\n     *\n     *     const unsubscribeX = x.on(\"change\", updateOpacity)\n     *     const unsubscribeY = y.on(\"change\", updateOpacity)\n     *\n     *     return () => {\n     *       unsubscribeX()\n     *       unsubscribeY()\n     *     }\n     *   }, [])\n     *\n     *   return <motion.div style={{ x }} />\n     * }\n     * ```\n     *\n     * @param subscriber - A function that receives the latest value.\n     * @returns A function that, when called, will cancel this subscription.\n     *\n     * @deprecated\n     */\n    onChange(subscription) {\n        if (process.env.NODE_ENV !== \"production\") {\n            warnOnce(false, `value.onChange(callback) is deprecated. Switch to value.on(\"change\", callback).`);\n        }\n        return this.on(\"change\", subscription);\n    }\n    on(eventName, callback) {\n        if (!this.events[eventName]) {\n            this.events[eventName] = new SubscriptionManager();\n        }\n        const unsubscribe = this.events[eventName].add(callback);\n        if (eventName === \"change\") {\n            return () => {\n                unsubscribe();\n                /**\n                 * If we have no more change listeners by the start\n                 * of the next frame, stop active animations.\n                 */\n                frame.read(() => {\n                    if (!this.events.change.getSize()) {\n                        this.stop();\n                    }\n                });\n            };\n        }\n        return unsubscribe;\n    }\n    clearListeners() {\n        for (const eventManagers in this.events) {\n            this.events[eventManagers].clear();\n        }\n    }\n    /**\n     * Attaches a passive effect to the `MotionValue`.\n     */\n    attach(passiveEffect, stopPassiveEffect) {\n        this.passiveEffect = passiveEffect;\n        this.stopPassiveEffect = stopPassiveEffect;\n    }\n    /**\n     * Sets the state of the `MotionValue`.\n     *\n     * @remarks\n     *\n     * ```jsx\n     * const x = useMotionValue(0)\n     * x.set(10)\n     * ```\n     *\n     * @param latest - Latest value to set.\n     * @param render - Whether to notify render subscribers. Defaults to `true`\n     *\n     * @public\n     */\n    set(v) {\n        if (!this.passiveEffect) {\n            this.updateAndNotify(v);\n        }\n        else {\n            this.passiveEffect(v, this.updateAndNotify);\n        }\n    }\n    setWithVelocity(prev, current, delta) {\n        this.set(current);\n        this.prev = undefined;\n        this.prevFrameValue = prev;\n        this.prevUpdatedAt = this.updatedAt - delta;\n    }\n    /**\n     * Set the state of the `MotionValue`, stopping any active animations,\n     * effects, and resets velocity to `0`.\n     */\n    jump(v, endAnimation = true) {\n        this.updateAndNotify(v);\n        this.prev = v;\n        this.prevUpdatedAt = this.prevFrameValue = undefined;\n        endAnimation && this.stop();\n        if (this.stopPassiveEffect)\n            this.stopPassiveEffect();\n    }\n    dirty() {\n        this.events.change?.notify(this.current);\n    }\n    addDependent(dependent) {\n        if (!this.dependents) {\n            this.dependents = new Set();\n        }\n        this.dependents.add(dependent);\n    }\n    removeDependent(dependent) {\n        if (this.dependents) {\n            this.dependents.delete(dependent);\n        }\n    }\n    /**\n     * Returns the latest state of `MotionValue`\n     *\n     * @returns - The latest state of `MotionValue`\n     *\n     * @public\n     */\n    get() {\n        if (collectMotionValues.current) {\n            collectMotionValues.current.push(this);\n        }\n        return this.current;\n    }\n    /**\n     * @public\n     */\n    getPrevious() {\n        return this.prev;\n    }\n    /**\n     * Returns the latest velocity of `MotionValue`\n     *\n     * @returns - The latest velocity of `MotionValue`. Returns `0` if the state is non-numerical.\n     *\n     * @public\n     */\n    getVelocity() {\n        const currentTime = time.now();\n        if (!this.canTrackVelocity ||\n            this.prevFrameValue === undefined ||\n            currentTime - this.updatedAt > MAX_VELOCITY_DELTA) {\n            return 0;\n        }\n        const delta = Math.min(this.updatedAt - this.prevUpdatedAt, MAX_VELOCITY_DELTA);\n        // Casts because of parseFloat's poor typing\n        return velocityPerSecond(parseFloat(this.current) -\n            parseFloat(this.prevFrameValue), delta);\n    }\n    /**\n     * Registers a new animation to control this `MotionValue`. Only one\n     * animation can drive a `MotionValue` at one time.\n     *\n     * ```jsx\n     * value.start()\n     * ```\n     *\n     * @param animation - A function that starts the provided animation\n     */\n    start(startAnimation) {\n        this.stop();\n        return new Promise((resolve) => {\n            this.hasAnimated = true;\n            this.animation = startAnimation(resolve);\n            if (this.events.animationStart) {\n                this.events.animationStart.notify();\n            }\n        }).then(() => {\n            if (this.events.animationComplete) {\n                this.events.animationComplete.notify();\n            }\n            this.clearAnimation();\n        });\n    }\n    /**\n     * Stop the currently active animation.\n     *\n     * @public\n     */\n    stop() {\n        if (this.animation) {\n            this.animation.stop();\n            if (this.events.animationCancel) {\n                this.events.animationCancel.notify();\n            }\n        }\n        this.clearAnimation();\n    }\n    /**\n     * Returns `true` if this value is currently animating.\n     *\n     * @public\n     */\n    isAnimating() {\n        return !!this.animation;\n    }\n    clearAnimation() {\n        delete this.animation;\n    }\n    /**\n     * Destroy and clean up subscribers to this `MotionValue`.\n     *\n     * The `MotionValue` hooks like `useMotionValue` and `useTransform` automatically\n     * handle the lifecycle of the returned `MotionValue`, so this method is only necessary if you've manually\n     * created a `MotionValue` via the `motionValue` function.\n     *\n     * @public\n     */\n    destroy() {\n        this.dependents?.clear();\n        this.events.destroy?.notify();\n        this.clearListeners();\n        this.stop();\n        if (this.stopPassiveEffect) {\n            this.stopPassiveEffect();\n        }\n    }\n}\nfunction motionValue(init, options) {\n    return new MotionValue(init, options);\n}\n\nexport { MotionValue, collectMotionValues, motionValue };\n","import { color } from '../color/index.mjs';\nimport { complex } from '../complex/index.mjs';\nimport { dimensionValueTypes } from '../dimensions.mjs';\nimport { testValueType } from '../test.mjs';\n\n/**\n * A list of all ValueTypes\n */\nconst valueTypes = [...dimensionValueTypes, color, complex];\n/**\n * Tests a value against the list of ValueTypes\n */\nconst findValueType = (v) => valueTypes.find(testValueType(v));\n\nexport { findValueType };\n","import { createRenderBatcher } from './batcher.mjs';\n\nconst { schedule: microtask, cancel: cancelMicrotask } = \n/* @__PURE__ */ createRenderBatcher(queueMicrotask, false);\n\nexport { cancelMicrotask, microtask };\n","const featureProps = {\n    animation: [\n        \"animate\",\n        \"variants\",\n        \"whileHover\",\n        \"whileTap\",\n        \"exit\",\n        \"whileInView\",\n        \"whileFocus\",\n        \"whileDrag\",\n    ],\n    exit: [\"exit\"],\n    drag: [\"drag\", \"dragControls\"],\n    focus: [\"whileFocus\"],\n    hover: [\"whileHover\", \"onHoverStart\", \"onHoverEnd\"],\n    tap: [\"whileTap\", \"onTap\", \"onTapStart\", \"onTapCancel\"],\n    pan: [\"onPan\", \"onPanStart\", \"onPanSessionStart\", \"onPanEnd\"],\n    inView: [\"whileInView\", \"onViewportEnter\", \"onViewportLeave\"],\n    layout: [\"layout\", \"layoutId\"],\n};\nconst featureDefinitions = {};\nfor (const key in featureProps) {\n    featureDefinitions[key] = {\n        isEnabled: (props) => featureProps[key].some((name) => !!props[name]),\n    };\n}\n\nexport { featureDefinitions };\n//# sourceMappingURL=definitions.mjs.map\n","const createAxisDelta = () => ({\n    translate: 0,\n    scale: 1,\n    origin: 0,\n    originPoint: 0,\n});\nconst createDelta = () => ({\n    x: createAxisDelta(),\n    y: createAxisDelta(),\n});\nconst createAxis = () => ({ min: 0, max: 0 });\nconst createBox = () => ({\n    x: createAxis(),\n    y: createAxis(),\n});\n\nexport { createAxis, createAxisDelta, createBox, createDelta };\n//# sourceMappingURL=models.mjs.map\n","const isBrowser = typeof window !== \"undefined\";\n\nexport { isBrowser };\n//# sourceMappingURL=is-browser.mjs.map\n","// Does this device prefer reduced motion? Returns `null` server-side.\nconst prefersReducedMotion = { current: null };\nconst hasReducedMotionListener = { current: false };\n\nexport { hasReducedMotionListener, prefersReducedMotion };\n//# sourceMappingURL=state.mjs.map\n","const visualElementStore = new WeakMap();\n\nexport { visualElementStore };\n//# sourceMappingURL=store.mjs.map\n","function isAnimationControls(v) {\n    return (v !== null &&\n        typeof v === \"object\" &&\n        typeof v.start === \"function\");\n}\n\nexport { isAnimationControls };\n//# sourceMappingURL=is-animation-controls.mjs.map\n","/**\n * Decides if the supplied variable is variant label\n */\nfunction isVariantLabel(v) {\n    return typeof v === \"string\" || Array.isArray(v);\n}\n\nexport { isVariantLabel };\n//# sourceMappingURL=is-variant-label.mjs.map\n","const variantPriorityOrder = [\n    \"animate\",\n    \"whileInView\",\n    \"whileFocus\",\n    \"whileHover\",\n    \"whileTap\",\n    \"whileDrag\",\n    \"exit\",\n];\nconst variantProps = [\"initial\", ...variantPriorityOrder];\n\nexport { variantPriorityOrder, variantProps };\n//# sourceMappingURL=variant-props.mjs.map\n","import { isAnimationControls } from '../../animation/utils/is-animation-controls.mjs';\nimport { isVariantLabel } from './is-variant-label.mjs';\nimport { variantProps } from './variant-props.mjs';\n\nfunction isControllingVariants(props) {\n    return (isAnimationControls(props.animate) ||\n        variantProps.some((name) => isVariantLabel(props[name])));\n}\nfunction isVariantNode(props) {\n    return Boolean(isControllingVariants(props) || props.variants);\n}\n\nexport { isControllingVariants, isVariantNode };\n//# sourceMappingURL=is-controlling-variants.mjs.map\n","function getValueState(visualElement) {\n    const state = [{}, {}];\n    visualElement?.values.forEach((value, key) => {\n        state[0][key] = value.get();\n        state[1][key] = value.getVelocity();\n    });\n    return state;\n}\nfunction resolveVariantFromProps(props, definition, custom, visualElement) {\n    /**\n     * If the variant definition is a function, resolve.\n     */\n    if (typeof definition === \"function\") {\n        const [current, velocity] = getValueState(visualElement);\n        definition = definition(custom !== undefined ? custom : props.custom, current, velocity);\n    }\n    /**\n     * If the variant definition is a variant label, or\n     * the function returned a variant label, resolve.\n     */\n    if (typeof definition === \"string\") {\n        definition = props.variants && props.variants[definition];\n    }\n    /**\n     * At this point we've resolved both functions and variant labels,\n     * but the resolved variant label might itself have been a function.\n     * If so, resolve. This can only have returned a valid target object.\n     */\n    if (typeof definition === \"function\") {\n        const [current, velocity] = getValueState(visualElement);\n        definition = definition(custom !== undefined ? custom : props.custom, current, velocity);\n    }\n    return definition;\n}\n\nexport { resolveVariantFromProps };\n//# sourceMappingURL=resolve-variants.mjs.map\n","import { KeyframeResolver, time, frame, isMotionValue, cancelFrame, transformProps, motionValue, findValueType, complex, getAnimatableNone, microtask } from 'motion-dom';\nimport { warnOnce, isNumericalString, isZeroValueString, SubscriptionManager } from 'motion-utils';\nimport { featureDefinitions } from '../motion/features/definitions.mjs';\nimport { createBox } from '../projection/geometry/models.mjs';\nimport { initPrefersReducedMotion } from '../utils/reduced-motion/index.mjs';\nimport { hasReducedMotionListener, prefersReducedMotion } from '../utils/reduced-motion/state.mjs';\nimport { visualElementStore } from './store.mjs';\nimport { isControllingVariants, isVariantNode } from './utils/is-controlling-variants.mjs';\nimport { updateMotionValuesFromProps } from './utils/motion-values.mjs';\nimport { resolveVariantFromProps } from './utils/resolve-variants.mjs';\n\nconst propEventHandlers = [\n    \"AnimationStart\",\n    \"AnimationComplete\",\n    \"Update\",\n    \"BeforeLayoutMeasure\",\n    \"LayoutMeasure\",\n    \"LayoutAnimationStart\",\n    \"LayoutAnimationComplete\",\n];\n/**\n * A VisualElement is an imperative abstraction around UI elements such as\n * HTMLElement, SVGElement, Three.Object3D etc.\n */\nclass VisualElement {\n    /**\n     * This method takes React props and returns found MotionValues. For example, HTML\n     * MotionValues will be found within the style prop, whereas for Three.js within attribute arrays.\n     *\n     * This isn't an abstract method as it needs calling in the constructor, but it is\n     * intended to be one.\n     */\n    scrapeMotionValuesFromProps(_props, _prevProps, _visualElement) {\n        return {};\n    }\n    constructor({ parent, props, presenceContext, reducedMotionConfig, blockInitialAnimation, visualState, }, options = {}) {\n        /**\n         * A reference to the current underlying Instance, e.g. a HTMLElement\n         * or Three.Mesh etc.\n         */\n        this.current = null;\n        /**\n         * A set containing references to this VisualElement's children.\n         */\n        this.children = new Set();\n        /**\n         * Determine what role this visual element should take in the variant tree.\n         */\n        this.isVariantNode = false;\n        this.isControllingVariants = false;\n        /**\n         * Decides whether this VisualElement should animate in reduced motion\n         * mode.\n         *\n         * TODO: This is currently set on every individual VisualElement but feels\n         * like it could be set globally.\n         */\n        this.shouldReduceMotion = null;\n        /**\n         * A map of all motion values attached to this visual element. Motion\n         * values are source of truth for any given animated value. A motion\n         * value might be provided externally by the component via props.\n         */\n        this.values = new Map();\n        this.KeyframeResolver = KeyframeResolver;\n        /**\n         * Cleanup functions for active features (hover/tap/exit etc)\n         */\n        this.features = {};\n        /**\n         * A map of every subscription that binds the provided or generated\n         * motion values onChange listeners to this visual element.\n         */\n        this.valueSubscriptions = new Map();\n        /**\n         * A reference to the previously-provided motion values as returned\n         * from scrapeMotionValuesFromProps. We use the keys in here to determine\n         * if any motion values need to be removed after props are updated.\n         */\n        this.prevMotionValues = {};\n        /**\n         * An object containing a SubscriptionManager for each active event.\n         */\n        this.events = {};\n        /**\n         * An object containing an unsubscribe function for each prop event subscription.\n         * For example, every \"Update\" event can have multiple subscribers via\n         * VisualElement.on(), but only one of those can be defined via the onUpdate prop.\n         */\n        this.propEventSubscriptions = {};\n        this.notifyUpdate = () => this.notify(\"Update\", this.latestValues);\n        this.render = () => {\n            if (!this.current)\n                return;\n            this.triggerBuild();\n            this.renderInstance(this.current, this.renderState, this.props.style, this.projection);\n        };\n        this.renderScheduledAt = 0.0;\n        this.scheduleRender = () => {\n            const now = time.now();\n            if (this.renderScheduledAt < now) {\n                this.renderScheduledAt = now;\n                frame.render(this.render, false, true);\n            }\n        };\n        const { latestValues, renderState } = visualState;\n        this.latestValues = latestValues;\n        this.baseTarget = { ...latestValues };\n        this.initialValues = props.initial ? { ...latestValues } : {};\n        this.renderState = renderState;\n        this.parent = parent;\n        this.props = props;\n        this.presenceContext = presenceContext;\n        this.depth = parent ? parent.depth + 1 : 0;\n        this.reducedMotionConfig = reducedMotionConfig;\n        this.options = options;\n        this.blockInitialAnimation = Boolean(blockInitialAnimation);\n        this.isControllingVariants = isControllingVariants(props);\n        this.isVariantNode = isVariantNode(props);\n        if (this.isVariantNode) {\n            this.variantChildren = new Set();\n        }\n        this.manuallyAnimateOnMount = Boolean(parent && parent.current);\n        /**\n         * Any motion values that are provided to the element when created\n         * aren't yet bound to the element, as this would technically be impure.\n         * However, we iterate through the motion values and set them to the\n         * initial values for this component.\n         *\n         * TODO: This is impure and we should look at changing this to run on mount.\n         * Doing so will break some tests but this isn't necessarily a breaking change,\n         * more a reflection of the test.\n         */\n        const { willChange, ...initialMotionValues } = this.scrapeMotionValuesFromProps(props, {}, this);\n        for (const key in initialMotionValues) {\n            const value = initialMotionValues[key];\n            if (latestValues[key] !== undefined && isMotionValue(value)) {\n                value.set(latestValues[key]);\n            }\n        }\n    }\n    mount(instance) {\n        this.current = instance;\n        visualElementStore.set(instance, this);\n        if (this.projection && !this.projection.instance) {\n            this.projection.mount(instance);\n        }\n        if (this.parent && this.isVariantNode && !this.isControllingVariants) {\n            this.removeFromVariantTree = this.parent.addVariantChild(this);\n        }\n        this.values.forEach((value, key) => this.bindToMotionValue(key, value));\n        /**\n         * Determine reduced motion preference. Only initialize the matchMedia\n         * listener if we actually need the dynamic value (i.e., when config\n         * is neither \"never\" nor \"always\").\n         */\n        if (this.reducedMotionConfig === \"never\") {\n            this.shouldReduceMotion = false;\n        }\n        else if (this.reducedMotionConfig === \"always\") {\n            this.shouldReduceMotion = true;\n        }\n        else {\n            if (!hasReducedMotionListener.current) {\n                initPrefersReducedMotion();\n            }\n            this.shouldReduceMotion = prefersReducedMotion.current;\n        }\n        if (process.env.NODE_ENV !== \"production\") {\n            warnOnce(this.shouldReduceMotion !== true, \"You have Reduced Motion enabled on your device. Animations may not appear as expected.\", \"reduced-motion-disabled\");\n        }\n        this.parent?.addChild(this);\n        this.update(this.props, this.presenceContext);\n    }\n    unmount() {\n        this.projection && this.projection.unmount();\n        cancelFrame(this.notifyUpdate);\n        cancelFrame(this.render);\n        this.valueSubscriptions.forEach((remove) => remove());\n        this.valueSubscriptions.clear();\n        this.removeFromVariantTree && this.removeFromVariantTree();\n        this.parent?.removeChild(this);\n        for (const key in this.events) {\n            this.events[key].clear();\n        }\n        for (const key in this.features) {\n            const feature = this.features[key];\n            if (feature) {\n                feature.unmount();\n                feature.isMounted = false;\n            }\n        }\n        this.current = null;\n    }\n    addChild(child) {\n        this.children.add(child);\n        this.enteringChildren ?? (this.enteringChildren = new Set());\n        this.enteringChildren.add(child);\n    }\n    removeChild(child) {\n        this.children.delete(child);\n        this.enteringChildren && this.enteringChildren.delete(child);\n    }\n    bindToMotionValue(key, value) {\n        if (this.valueSubscriptions.has(key)) {\n            this.valueSubscriptions.get(key)();\n        }\n        const valueIsTransform = transformProps.has(key);\n        if (valueIsTransform && this.onBindTransform) {\n            this.onBindTransform();\n        }\n        const removeOnChange = value.on(\"change\", (latestValue) => {\n            this.latestValues[key] = latestValue;\n            this.props.onUpdate && frame.preRender(this.notifyUpdate);\n            if (valueIsTransform && this.projection) {\n                this.projection.isTransformDirty = true;\n            }\n            this.scheduleRender();\n        });\n        let removeSyncCheck;\n        if (window.MotionCheckAppearSync) {\n            removeSyncCheck = window.MotionCheckAppearSync(this, key, value);\n        }\n        this.valueSubscriptions.set(key, () => {\n            removeOnChange();\n            if (removeSyncCheck)\n                removeSyncCheck();\n            if (value.owner)\n                value.stop();\n        });\n    }\n    sortNodePosition(other) {\n        /**\n         * If these nodes aren't even of the same type we can't compare their depth.\n         */\n        if (!this.current ||\n            !this.sortInstanceNodePosition ||\n            this.type !== other.type) {\n            return 0;\n        }\n        return this.sortInstanceNodePosition(this.current, other.current);\n    }\n    updateFeatures() {\n        let key = \"animation\";\n        for (key in featureDefinitions) {\n            const featureDefinition = featureDefinitions[key];\n            if (!featureDefinition)\n                continue;\n            const { isEnabled, Feature: FeatureConstructor } = featureDefinition;\n            /**\n             * If this feature is enabled but not active, make a new instance.\n             */\n            if (!this.features[key] &&\n                FeatureConstructor &&\n                isEnabled(this.props)) {\n                this.features[key] = new FeatureConstructor(this);\n            }\n            /**\n             * If we have a feature, mount or update it.\n             */\n            if (this.features[key]) {\n                const feature = this.features[key];\n                if (feature.isMounted) {\n                    feature.update();\n                }\n                else {\n                    feature.mount();\n                    feature.isMounted = true;\n                }\n            }\n        }\n    }\n    triggerBuild() {\n        this.build(this.renderState, this.latestValues, this.props);\n    }\n    /**\n     * Measure the current viewport box with or without transforms.\n     * Only measures axis-aligned boxes, rotate and skew must be manually\n     * removed with a re-render to work.\n     */\n    measureViewportBox() {\n        return this.current\n            ? this.measureInstanceViewportBox(this.current, this.props)\n            : createBox();\n    }\n    getStaticValue(key) {\n        return this.latestValues[key];\n    }\n    setStaticValue(key, value) {\n        this.latestValues[key] = value;\n    }\n    /**\n     * Update the provided props. Ensure any newly-added motion values are\n     * added to our map, old ones removed, and listeners updated.\n     */\n    update(props, presenceContext) {\n        if (props.transformTemplate || this.props.transformTemplate) {\n            this.scheduleRender();\n        }\n        this.prevProps = this.props;\n        this.props = props;\n        this.prevPresenceContext = this.presenceContext;\n        this.presenceContext = presenceContext;\n        /**\n         * Update prop event handlers ie onAnimationStart, onAnimationComplete\n         */\n        for (let i = 0; i < propEventHandlers.length; i++) {\n            const key = propEventHandlers[i];\n            if (this.propEventSubscriptions[key]) {\n                this.propEventSubscriptions[key]();\n                delete this.propEventSubscriptions[key];\n            }\n            const listenerName = (\"on\" + key);\n            const listener = props[listenerName];\n            if (listener) {\n                this.propEventSubscriptions[key] = this.on(key, listener);\n            }\n        }\n        this.prevMotionValues = updateMotionValuesFromProps(this, this.scrapeMotionValuesFromProps(props, this.prevProps, this), this.prevMotionValues);\n        if (this.handleChildMotionValue) {\n            this.handleChildMotionValue();\n        }\n    }\n    getProps() {\n        return this.props;\n    }\n    /**\n     * Returns the variant definition with a given name.\n     */\n    getVariant(name) {\n        return this.props.variants ? this.props.variants[name] : undefined;\n    }\n    /**\n     * Returns the defined default transition on this component.\n     */\n    getDefaultTransition() {\n        return this.props.transition;\n    }\n    getTransformPagePoint() {\n        return this.props.transformPagePoint;\n    }\n    getClosestVariantNode() {\n        return this.isVariantNode\n            ? this\n            : this.parent\n                ? this.parent.getClosestVariantNode()\n                : undefined;\n    }\n    /**\n     * Add a child visual element to our set of children.\n     */\n    addVariantChild(child) {\n        const closestVariantNode = this.getClosestVariantNode();\n        if (closestVariantNode) {\n            closestVariantNode.variantChildren &&\n                closestVariantNode.variantChildren.add(child);\n            return () => closestVariantNode.variantChildren.delete(child);\n        }\n    }\n    /**\n     * Add a motion value and bind it to this visual element.\n     */\n    addValue(key, value) {\n        // Remove existing value if it exists\n        const existingValue = this.values.get(key);\n        if (value !== existingValue) {\n            if (existingValue)\n                this.removeValue(key);\n            this.bindToMotionValue(key, value);\n            this.values.set(key, value);\n            this.latestValues[key] = value.get();\n        }\n    }\n    /**\n     * Remove a motion value and unbind any active subscriptions.\n     */\n    removeValue(key) {\n        this.values.delete(key);\n        const unsubscribe = this.valueSubscriptions.get(key);\n        if (unsubscribe) {\n            unsubscribe();\n            this.valueSubscriptions.delete(key);\n        }\n        delete this.latestValues[key];\n        this.removeValueFromRenderState(key, this.renderState);\n    }\n    /**\n     * Check whether we have a motion value for this key\n     */\n    hasValue(key) {\n        return this.values.has(key);\n    }\n    getValue(key, defaultValue) {\n        if (this.props.values && this.props.values[key]) {\n            return this.props.values[key];\n        }\n        let value = this.values.get(key);\n        if (value === undefined && defaultValue !== undefined) {\n            value = motionValue(defaultValue === null ? undefined : defaultValue, { owner: this });\n            this.addValue(key, value);\n        }\n        return value;\n    }\n    /**\n     * If we're trying to animate to a previously unencountered value,\n     * we need to check for it in our state and as a last resort read it\n     * directly from the instance (which might have performance implications).\n     */\n    readValue(key, target) {\n        let value = this.latestValues[key] !== undefined || !this.current\n            ? this.latestValues[key]\n            : this.getBaseTargetFromProps(this.props, key) ??\n                this.readValueFromInstance(this.current, key, this.options);\n        if (value !== undefined && value !== null) {\n            if (typeof value === \"string\" &&\n                (isNumericalString(value) || isZeroValueString(value))) {\n                // If this is a number read as a string, ie \"0\" or \"200\", convert it to a number\n                value = parseFloat(value);\n            }\n            else if (!findValueType(value) && complex.test(target)) {\n                value = getAnimatableNone(key, target);\n            }\n            this.setBaseTarget(key, isMotionValue(value) ? value.get() : value);\n        }\n        return isMotionValue(value) ? value.get() : value;\n    }\n    /**\n     * Set the base target to later animate back to. This is currently\n     * only hydrated on creation and when we first read a value.\n     */\n    setBaseTarget(key, value) {\n        this.baseTarget[key] = value;\n    }\n    /**\n     * Find the base target for a value thats been removed from all animation\n     * props.\n     */\n    getBaseTarget(key) {\n        const { initial } = this.props;\n        let valueFromInitial;\n        if (typeof initial === \"string\" || typeof initial === \"object\") {\n            const variant = resolveVariantFromProps(this.props, initial, this.presenceContext?.custom);\n            if (variant) {\n                valueFromInitial = variant[key];\n            }\n        }\n        /**\n         * If this value still exists in the current initial variant, read that.\n         */\n        if (initial && valueFromInitial !== undefined) {\n            return valueFromInitial;\n        }\n        /**\n         * Alternatively, if this VisualElement config has defined a getBaseTarget\n         * so we can read the value from an alternative source, try that.\n         */\n        const target = this.getBaseTargetFromProps(this.props, key);\n        if (target !== undefined && !isMotionValue(target))\n            return target;\n        /**\n         * If the value was initially defined on initial, but it doesn't any more,\n         * return undefined. Otherwise return the value as initially read from the DOM.\n         */\n        return this.initialValues[key] !== undefined &&\n            valueFromInitial === undefined\n            ? undefined\n            : this.baseTarget[key];\n    }\n    on(eventName, callback) {\n        if (!this.events[eventName]) {\n            this.events[eventName] = new SubscriptionManager();\n        }\n        return this.events[eventName].add(callback);\n    }\n    notify(eventName, ...args) {\n        if (this.events[eventName]) {\n            this.events[eventName].notify(...args);\n        }\n    }\n    scheduleRenderMicrotask() {\n        microtask.render(this.render);\n    }\n}\n\nexport { VisualElement };\n//# sourceMappingURL=VisualElement.mjs.map\n","import { isBrowser } from '../is-browser.mjs';\nimport { hasReducedMotionListener, prefersReducedMotion } from './state.mjs';\n\nfunction initPrefersReducedMotion() {\n    hasReducedMotionListener.current = true;\n    if (!isBrowser)\n        return;\n    if (window.matchMedia) {\n        const motionMediaQuery = window.matchMedia(\"(prefers-reduced-motion)\");\n        const setReducedMotionPreferences = () => (prefersReducedMotion.current = motionMediaQuery.matches);\n        motionMediaQuery.addEventListener(\"change\", setReducedMotionPreferences);\n        setReducedMotionPreferences();\n    }\n    else {\n        prefersReducedMotion.current = false;\n    }\n}\n\nexport { initPrefersReducedMotion };\n//# sourceMappingURL=index.mjs.map\n","import { isMotionValue, motionValue } from 'motion-dom';\n\nfunction updateMotionValuesFromProps(element, next, prev) {\n    for (const key in next) {\n        const nextValue = next[key];\n        const prevValue = prev[key];\n        if (isMotionValue(nextValue)) {\n            /**\n             * If this is a motion value found in props or style, we want to add it\n             * to our visual element's motion value map.\n             */\n            element.addValue(key, nextValue);\n        }\n        else if (isMotionValue(prevValue)) {\n            /**\n             * If we're swapping from a motion value to a static value,\n             * create a new motion value from that\n             */\n            element.addValue(key, motionValue(nextValue, { owner: element }));\n        }\n        else if (prevValue !== nextValue) {\n            /**\n             * If this is a flat value that has changed, update the motion value\n             * or create one if it doesn't exist. We only want to do this if we're\n             * not handling the value with our animation state.\n             */\n            if (element.hasValue(key)) {\n                const existingValue = element.getValue(key);\n                if (existingValue.liveStyle === true) {\n                    existingValue.jump(nextValue);\n                }\n                else if (!existingValue.hasAnimated) {\n                    existingValue.set(nextValue);\n                }\n            }\n            else {\n                const latestValue = element.getStaticValue(key);\n                element.addValue(key, motionValue(latestValue !== undefined ? latestValue : nextValue, { owner: element }));\n            }\n        }\n    }\n    // Handle removed values\n    for (const key in prev) {\n        if (next[key] === undefined)\n            element.removeValue(key);\n    }\n    return next;\n}\n\nexport { updateMotionValuesFromProps };\n//# sourceMappingURL=motion-values.mjs.map\n","import { DOMKeyframesResolver, isMotionValue } from 'motion-dom';\nimport { VisualElement } from '../VisualElement.mjs';\n\nclass DOMVisualElement extends VisualElement {\n    constructor() {\n        super(...arguments);\n        this.KeyframeResolver = DOMKeyframesResolver;\n    }\n    sortInstanceNodePosition(a, b) {\n        /**\n         * compareDocumentPosition returns a bitmask, by using the bitwise &\n         * we're returning true if 2 in that bitmask is set to true. 2 is set\n         * to true if b preceeds a.\n         */\n        return a.compareDocumentPosition(b) & 2 ? 1 : -1;\n    }\n    getBaseTargetFromProps(props, key) {\n        return props.style\n            ? props.style[key]\n            : undefined;\n    }\n    removeValueFromRenderState(key, { vars, style }) {\n        delete vars[key];\n        delete style[key];\n    }\n    handleChildMotionValue() {\n        if (this.childSubscription) {\n            this.childSubscription();\n            delete this.childSubscription;\n        }\n        const { children } = this.props;\n        if (isMotionValue(children)) {\n            this.childSubscription = children.on(\"change\", (latest) => {\n                if (this.current) {\n                    this.current.textContent = `${latest}`;\n                }\n            });\n        }\n    }\n}\n\nexport { DOMVisualElement };\n//# sourceMappingURL=DOMVisualElement.mjs.map\n","/**\n * Provided a value and a ValueType, returns the value as that value type.\n */\nconst getValueAsType = (value, type) => {\n    return type && typeof value === \"number\"\n        ? type.transform(value)\n        : value;\n};\n\nexport { getValueAsType };\n","import { transformPropOrder, getValueAsType, numberValueTypes } from 'motion-dom';\n\nconst translateAlias = {\n    x: \"translateX\",\n    y: \"translateY\",\n    z: \"translateZ\",\n    transformPerspective: \"perspective\",\n};\nconst numTransforms = transformPropOrder.length;\n/**\n * Build a CSS transform style from individual x/y/scale etc properties.\n *\n * This outputs with a default order of transforms/scales/rotations, this can be customised by\n * providing a transformTemplate function.\n */\nfunction buildTransform(latestValues, transform, transformTemplate) {\n    // The transform string we're going to build into.\n    let transformString = \"\";\n    let transformIsDefault = true;\n    /**\n     * Loop over all possible transforms in order, adding the ones that\n     * are present to the transform string.\n     */\n    for (let i = 0; i < numTransforms; i++) {\n        const key = transformPropOrder[i];\n        const value = latestValues[key];\n        if (value === undefined)\n            continue;\n        let valueIsDefault = true;\n        if (typeof value === \"number\") {\n            valueIsDefault = value === (key.startsWith(\"scale\") ? 1 : 0);\n        }\n        else {\n            valueIsDefault = parseFloat(value) === 0;\n        }\n        if (!valueIsDefault || transformTemplate) {\n            const valueAsType = getValueAsType(value, numberValueTypes[key]);\n            if (!valueIsDefault) {\n                transformIsDefault = false;\n                const transformName = translateAlias[key] || key;\n                transformString += `${transformName}(${valueAsType}) `;\n            }\n            if (transformTemplate) {\n                transform[key] = valueAsType;\n            }\n        }\n    }\n    transformString = transformString.trim();\n    // If we have a custom `transform` template, pass our transform values and\n    // generated transformString to that before returning\n    if (transformTemplate) {\n        transformString = transformTemplate(transform, transformIsDefault ? \"\" : transformString);\n    }\n    else if (transformIsDefault) {\n        transformString = \"none\";\n    }\n    return transformString;\n}\n\nexport { buildTransform };\n//# sourceMappingURL=build-transform.mjs.map\n","import { transformProps, isCSSVariableName, getValueAsType, numberValueTypes } from 'motion-dom';\nimport { buildTransform } from './build-transform.mjs';\n\nfunction buildHTMLStyles(state, latestValues, transformTemplate) {\n    const { style, vars, transformOrigin } = state;\n    // Track whether we encounter any transform or transformOrigin values.\n    let hasTransform = false;\n    let hasTransformOrigin = false;\n    /**\n     * Loop over all our latest animated values and decide whether to handle them\n     * as a style or CSS variable.\n     *\n     * Transforms and transform origins are kept separately for further processing.\n     */\n    for (const key in latestValues) {\n        const value = latestValues[key];\n        if (transformProps.has(key)) {\n            // If this is a transform, flag to enable further transform processing\n            hasTransform = true;\n            continue;\n        }\n        else if (isCSSVariableName(key)) {\n            vars[key] = value;\n            continue;\n        }\n        else {\n            // Convert the value to its default value type, ie 0 -> \"0px\"\n            const valueAsType = getValueAsType(value, numberValueTypes[key]);\n            if (key.startsWith(\"origin\")) {\n                // If this is a transform origin, flag and enable further transform-origin processing\n                hasTransformOrigin = true;\n                transformOrigin[key] =\n                    valueAsType;\n            }\n            else {\n                style[key] = valueAsType;\n            }\n        }\n    }\n    if (!latestValues.transform) {\n        if (hasTransform || transformTemplate) {\n            style.transform = buildTransform(latestValues, state.transform, transformTemplate);\n        }\n        else if (style.transform) {\n            /**\n             * If we have previously created a transform but currently don't have any,\n             * reset transform style to none.\n             */\n            style.transform = \"none\";\n        }\n    }\n    /**\n     * Build a transformOrigin style. Uses the same defaults as the browser for\n     * undefined origins.\n     */\n    if (hasTransformOrigin) {\n        const { originX = \"50%\", originY = \"50%\", originZ = 0, } = transformOrigin;\n        style.transformOrigin = `${originX} ${originY} ${originZ}`;\n    }\n}\n\nexport { buildHTMLStyles };\n//# sourceMappingURL=build-styles.mjs.map\n","function renderHTML(element, { style, vars }, styleProp, projection) {\n    const elementStyle = element.style;\n    let key;\n    for (key in style) {\n        // CSSStyleDeclaration has [index: number]: string; in the types, so we use that as key type.\n        elementStyle[key] = style[key];\n    }\n    // Write projection styles directly to element style\n    projection?.applyProjectionStyles(elementStyle, styleProp);\n    for (key in vars) {\n        // Loop over any CSS variables and assign those.\n        // They can only be assigned using `setProperty`.\n        elementStyle.setProperty(key, vars[key]);\n    }\n}\n\nexport { renderHTML };\n//# sourceMappingURL=render.mjs.map\n","import { px } from 'motion-dom';\n\nfunction pixelsToPercent(pixels, axis) {\n    if (axis.max === axis.min)\n        return 0;\n    return (pixels / (axis.max - axis.min)) * 100;\n}\n/**\n * We always correct borderRadius as a percentage rather than pixels to reduce paints.\n * For example, if you are projecting a box that is 100px wide with a 10px borderRadius\n * into a box that is 200px wide with a 20px borderRadius, that is actually a 10%\n * borderRadius in both states. If we animate between the two in pixels that will trigger\n * a paint each time. If we animate between the two in percentage we'll avoid a paint.\n */\nconst correctBorderRadius = {\n    correct: (latest, node) => {\n        if (!node.target)\n            return latest;\n        /**\n         * If latest is a string, if it's a percentage we can return immediately as it's\n         * going to be stretched appropriately. Otherwise, if it's a pixel, convert it to a number.\n         */\n        if (typeof latest === \"string\") {\n            if (px.test(latest)) {\n                latest = parseFloat(latest);\n            }\n            else {\n                return latest;\n            }\n        }\n        /**\n         * If latest is a number, it's a pixel value. We use the current viewportBox to calculate that\n         * pixel value as a percentage of each axis\n         */\n        const x = pixelsToPercent(latest, node.target.x);\n        const y = pixelsToPercent(latest, node.target.y);\n        return `${x}% ${y}%`;\n    },\n};\n\nexport { correctBorderRadius, pixelsToPercent };\n//# sourceMappingURL=scale-border-radius.mjs.map\n","import { complex, mixNumber } from 'motion-dom';\n\nconst correctBoxShadow = {\n    correct: (latest, { treeScale, projectionDelta }) => {\n        const original = latest;\n        const shadow = complex.parse(latest);\n        // TODO: Doesn't support multiple shadows\n        if (shadow.length > 5)\n            return original;\n        const template = complex.createTransformer(latest);\n        const offset = typeof shadow[0] !== \"number\" ? 1 : 0;\n        // Calculate the overall context scale\n        const xScale = projectionDelta.x.scale * treeScale.x;\n        const yScale = projectionDelta.y.scale * treeScale.y;\n        shadow[0 + offset] /= xScale;\n        shadow[1 + offset] /= yScale;\n        /**\n         * Ideally we'd correct x and y scales individually, but because blur and\n         * spread apply to both we have to take a scale average and apply that instead.\n         * We could potentially improve the outcome of this by incorporating the ratio between\n         * the two scales.\n         */\n        const averageScale = mixNumber(xScale, yScale, 0.5);\n        // Blur\n        if (typeof shadow[2 + offset] === \"number\")\n            shadow[2 + offset] /= averageScale;\n        // Spread\n        if (typeof shadow[3 + offset] === \"number\")\n            shadow[3 + offset] /= averageScale;\n        return template(shadow);\n    },\n};\n\nexport { correctBoxShadow };\n//# sourceMappingURL=scale-box-shadow.mjs.map\n","import { isCSSVariableName } from 'motion-dom';\nimport { correctBorderRadius } from './scale-border-radius.mjs';\nimport { correctBoxShadow } from './scale-box-shadow.mjs';\n\nconst scaleCorrectors = {\n    borderRadius: {\n        ...correctBorderRadius,\n        applyTo: [\n            \"borderTopLeftRadius\",\n            \"borderTopRightRadius\",\n            \"borderBottomLeftRadius\",\n            \"borderBottomRightRadius\",\n        ],\n    },\n    borderTopLeftRadius: correctBorderRadius,\n    borderTopRightRadius: correctBorderRadius,\n    borderBottomLeftRadius: correctBorderRadius,\n    borderBottomRightRadius: correctBorderRadius,\n    boxShadow: correctBoxShadow,\n};\nfunction addScaleCorrector(correctors) {\n    for (const key in correctors) {\n        scaleCorrectors[key] = correctors[key];\n        if (isCSSVariableName(key)) {\n            scaleCorrectors[key].isCSSVariable = true;\n        }\n    }\n}\n\nexport { addScaleCorrector, scaleCorrectors };\n//# sourceMappingURL=scale-correction.mjs.map\n","import { transformProps } from 'motion-dom';\nimport { scaleCorrectors } from '../../projection/styles/scale-correction.mjs';\n\nfunction isForcedMotionValue(key, { layout, layoutId }) {\n    return (transformProps.has(key) ||\n        key.startsWith(\"origin\") ||\n        ((layout || layoutId !== undefined) &&\n            (!!scaleCorrectors[key] || key === \"opacity\")));\n}\n\nexport { isForcedMotionValue };\n//# sourceMappingURL=is-forced-motion-value.mjs.map\n","import { isMotionValue } from 'motion-dom';\nimport { isForcedMotionValue } from '../../../motion/utils/is-forced-motion-value.mjs';\n\nfunction scrapeMotionValuesFromProps(props, prevProps, visualElement) {\n    const { style } = props;\n    const newValues = {};\n    for (const key in style) {\n        if (isMotionValue(style[key]) ||\n            (prevProps.style &&\n                isMotionValue(prevProps.style[key])) ||\n            isForcedMotionValue(key, props) ||\n            visualElement?.getValue(key)?.liveStyle !== undefined) {\n            newValues[key] = style[key];\n        }\n    }\n    return newValues;\n}\n\nexport { scrapeMotionValuesFromProps };\n//# sourceMappingURL=scrape-motion-values.mjs.map\n","import { transformProps, defaultTransformValue, readTransformValue, isCSSVariableName } from 'motion-dom';\nimport { measureViewportBox } from '../../projection/utils/measure.mjs';\nimport { DOMVisualElement } from '../dom/DOMVisualElement.mjs';\nimport { buildHTMLStyles } from './utils/build-styles.mjs';\nimport { renderHTML } from './utils/render.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\n\nfunction getComputedStyle(element) {\n    return window.getComputedStyle(element);\n}\nclass HTMLVisualElement extends DOMVisualElement {\n    constructor() {\n        super(...arguments);\n        this.type = \"html\";\n        this.renderInstance = renderHTML;\n    }\n    readValueFromInstance(instance, key) {\n        if (transformProps.has(key)) {\n            return this.projection?.isProjecting\n                ? defaultTransformValue(key)\n                : readTransformValue(instance, key);\n        }\n        else {\n            const computedStyle = getComputedStyle(instance);\n            const value = (isCSSVariableName(key)\n                ? computedStyle.getPropertyValue(key)\n                : computedStyle[key]) || 0;\n            return typeof value === \"string\" ? value.trim() : value;\n        }\n    }\n    measureInstanceViewportBox(instance, { transformPagePoint }) {\n        return measureViewportBox(instance, transformPagePoint);\n    }\n    build(renderState, latestValues, props) {\n        buildHTMLStyles(renderState, latestValues, props.transformTemplate);\n    }\n    scrapeMotionValuesFromProps(props, prevProps, visualElement) {\n        return scrapeMotionValuesFromProps(props, prevProps, visualElement);\n    }\n}\n\nexport { HTMLVisualElement, getComputedStyle };\n//# sourceMappingURL=HTMLVisualElement.mjs.map\n","/**\n * Convert camelCase to dash-case properties.\n */\nconst camelToDash = (str) => str.replace(/([a-z])([A-Z])/gu, \"$1-$2\").toLowerCase();\n\nexport { camelToDash };\n//# sourceMappingURL=camel-to-dash.mjs.map\n","import { px } from 'motion-dom';\n\nconst dashKeys = {\n    offset: \"stroke-dashoffset\",\n    array: \"stroke-dasharray\",\n};\nconst camelKeys = {\n    offset: \"strokeDashoffset\",\n    array: \"strokeDasharray\",\n};\n/**\n * Build SVG path properties. Uses the path's measured length to convert\n * our custom pathLength, pathSpacing and pathOffset into stroke-dashoffset\n * and stroke-dasharray attributes.\n *\n * This function is mutative to reduce per-frame GC.\n */\nfunction buildSVGPath(attrs, length, spacing = 1, offset = 0, useDashCase = true) {\n    // Normalise path length by setting SVG attribute pathLength to 1\n    attrs.pathLength = 1;\n    // We use dash case when setting attributes directly to the DOM node and camel case\n    // when defining props on a React component.\n    const keys = useDashCase ? dashKeys : camelKeys;\n    // Build the dash offset\n    attrs[keys.offset] = px.transform(-offset);\n    // Build the dash array\n    const pathLength = px.transform(length);\n    const pathSpacing = px.transform(spacing);\n    attrs[keys.array] = `${pathLength} ${pathSpacing}`;\n}\n\nexport { buildSVGPath };\n//# sourceMappingURL=path.mjs.map\n","import { buildHTMLStyles } from '../../html/utils/build-styles.mjs';\nimport { buildSVGPath } from './path.mjs';\n\n/**\n * CSS Motion Path properties that should remain as CSS styles on SVG elements.\n */\nconst cssMotionPathProperties = [\n    \"offsetDistance\",\n    \"offsetPath\",\n    \"offsetRotate\",\n    \"offsetAnchor\",\n];\n/**\n * Build SVG visual attributes, like cx and style.transform\n */\nfunction buildSVGAttrs(state, { attrX, attrY, attrScale, pathLength, pathSpacing = 1, pathOffset = 0, \n// This is object creation, which we try to avoid per-frame.\n...latest }, isSVGTag, transformTemplate, styleProp) {\n    buildHTMLStyles(state, latest, transformTemplate);\n    /**\n     * For svg tags we just want to make sure viewBox is animatable and treat all the styles\n     * as normal HTML tags.\n     */\n    if (isSVGTag) {\n        if (state.style.viewBox) {\n            state.attrs.viewBox = state.style.viewBox;\n        }\n        return;\n    }\n    state.attrs = state.style;\n    state.style = {};\n    const { attrs, style } = state;\n    /**\n     * However, we apply transforms as CSS transforms.\n     * So if we detect a transform, transformOrigin we take it from attrs and copy it into style.\n     */\n    if (attrs.transform) {\n        style.transform = attrs.transform;\n        delete attrs.transform;\n    }\n    if (style.transform || attrs.transformOrigin) {\n        style.transformOrigin = attrs.transformOrigin ?? \"50% 50%\";\n        delete attrs.transformOrigin;\n    }\n    if (style.transform) {\n        /**\n         * SVG's element transform-origin uses its own median as a reference.\n         * Therefore, transformBox becomes a fill-box\n         */\n        style.transformBox = styleProp?.transformBox ?? \"fill-box\";\n        delete attrs.transformBox;\n    }\n    for (const key of cssMotionPathProperties) {\n        if (attrs[key] !== undefined) {\n            style[key] = attrs[key];\n            delete attrs[key];\n        }\n    }\n    // Render attrX/attrY/attrScale as attributes\n    if (attrX !== undefined)\n        attrs.x = attrX;\n    if (attrY !== undefined)\n        attrs.y = attrY;\n    if (attrScale !== undefined)\n        attrs.scale = attrScale;\n    // Build SVG path if one has been defined\n    if (pathLength !== undefined) {\n        buildSVGPath(attrs, pathLength, pathSpacing, pathOffset, false);\n    }\n}\n\nexport { buildSVGAttrs };\n//# sourceMappingURL=build-attrs.mjs.map\n","/**\n * A set of attribute names that are always read/written as camel case.\n */\nconst camelCaseAttributes = new Set([\n    \"baseFrequency\",\n    \"diffuseConstant\",\n    \"kernelMatrix\",\n    \"kernelUnitLength\",\n    \"keySplines\",\n    \"keyTimes\",\n    \"limitingConeAngle\",\n    \"markerHeight\",\n    \"markerWidth\",\n    \"numOctaves\",\n    \"targetX\",\n    \"targetY\",\n    \"surfaceScale\",\n    \"specularConstant\",\n    \"specularExponent\",\n    \"stdDeviation\",\n    \"tableValues\",\n    \"viewBox\",\n    \"gradientTransform\",\n    \"pathLength\",\n    \"startOffset\",\n    \"textLength\",\n    \"lengthAdjust\",\n]);\n\nexport { camelCaseAttributes };\n//# sourceMappingURL=camel-case-attrs.mjs.map\n","const isSVGTag = (tag) => typeof tag === \"string\" && tag.toLowerCase() === \"svg\";\n\nexport { isSVGTag };\n//# sourceMappingURL=is-svg-tag.mjs.map\n","import { isMotionValue, transformPropOrder } from 'motion-dom';\nimport { scrapeMotionValuesFromProps as scrapeMotionValuesFromProps$1 } from '../../html/utils/scrape-motion-values.mjs';\n\nfunction scrapeMotionValuesFromProps(props, prevProps, visualElement) {\n    const newValues = scrapeMotionValuesFromProps$1(props, prevProps, visualElement);\n    for (const key in props) {\n        if (isMotionValue(props[key]) ||\n            isMotionValue(prevProps[key])) {\n            const targetKey = transformPropOrder.indexOf(key) !== -1\n                ? \"attr\" + key.charAt(0).toUpperCase() + key.substring(1)\n                : key;\n            newValues[targetKey] = props[key];\n        }\n    }\n    return newValues;\n}\n\nexport { scrapeMotionValuesFromProps };\n//# sourceMappingURL=scrape-motion-values.mjs.map\n","import { transformProps, getDefaultValueType } from 'motion-dom';\nimport { createBox } from '../../projection/geometry/models.mjs';\nimport { DOMVisualElement } from '../dom/DOMVisualElement.mjs';\nimport { camelToDash } from '../dom/utils/camel-to-dash.mjs';\nimport { buildSVGAttrs } from './utils/build-attrs.mjs';\nimport { camelCaseAttributes } from './utils/camel-case-attrs.mjs';\nimport { isSVGTag } from './utils/is-svg-tag.mjs';\nimport { renderSVG } from './utils/render.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\n\nclass SVGVisualElement extends DOMVisualElement {\n    constructor() {\n        super(...arguments);\n        this.type = \"svg\";\n        this.isSVGTag = false;\n        this.measureInstanceViewportBox = createBox;\n    }\n    getBaseTargetFromProps(props, key) {\n        return props[key];\n    }\n    readValueFromInstance(instance, key) {\n        if (transformProps.has(key)) {\n            const defaultType = getDefaultValueType(key);\n            return defaultType ? defaultType.default || 0 : 0;\n        }\n        key = !camelCaseAttributes.has(key) ? camelToDash(key) : key;\n        return instance.getAttribute(key);\n    }\n    scrapeMotionValuesFromProps(props, prevProps, visualElement) {\n        return scrapeMotionValuesFromProps(props, prevProps, visualElement);\n    }\n    build(renderState, latestValues, props) {\n        buildSVGAttrs(renderState, latestValues, this.isSVGTag, props.transformTemplate, props.style);\n    }\n    renderInstance(instance, renderState, styleProp, projection) {\n        renderSVG(instance, renderState, styleProp, projection);\n    }\n    mount(instance) {\n        this.isSVGTag = isSVGTag(instance.tagName);\n        super.mount(instance);\n    }\n}\n\nexport { SVGVisualElement };\n//# sourceMappingURL=SVGVisualElement.mjs.map\n","import { camelToDash } from '../../dom/utils/camel-to-dash.mjs';\nimport { renderHTML } from '../../html/utils/render.mjs';\nimport { camelCaseAttributes } from './camel-case-attrs.mjs';\n\nfunction renderSVG(element, renderState, _styleProp, projection) {\n    renderHTML(element, renderState, undefined, projection);\n    for (const key in renderState.attrs) {\n        element.setAttribute(!camelCaseAttributes.has(key) ? camelToDash(key) : key, renderState.attrs[key]);\n    }\n}\n\nexport { renderSVG };\n//# sourceMappingURL=render.mjs.map\n","/**\n * We keep these listed separately as we use the lowercase tag names as part\n * of the runtime bundle to detect SVG components\n */\nconst lowercaseSVGElements = [\n    \"animate\",\n    \"circle\",\n    \"defs\",\n    \"desc\",\n    \"ellipse\",\n    \"g\",\n    \"image\",\n    \"line\",\n    \"filter\",\n    \"marker\",\n    \"mask\",\n    \"metadata\",\n    \"path\",\n    \"pattern\",\n    \"polygon\",\n    \"polyline\",\n    \"rect\",\n    \"stop\",\n    \"switch\",\n    \"symbol\",\n    \"svg\",\n    \"text\",\n    \"tspan\",\n    \"use\",\n    \"view\",\n];\n\nexport { lowercaseSVGElements };\n//# sourceMappingURL=lowercase-elements.mjs.map\n","import { lowercaseSVGElements } from '../../svg/lowercase-elements.mjs';\n\nfunction isSVGComponent(Component) {\n    if (\n    /**\n     * If it's not a string, it's a custom React component. Currently we only support\n     * HTML custom React components.\n     */\n    typeof Component !== \"string\" ||\n        /**\n         * If it contains a dash, the element is a custom HTML webcomponent.\n         */\n        Component.includes(\"-\")) {\n        return false;\n    }\n    else if (\n    /**\n     * If it's in our list of lowercase SVG tags, it's an SVG component\n     */\n    lowercaseSVGElements.indexOf(Component) > -1 ||\n        /**\n         * If it contains a capital letter, it's an SVG component\n         */\n        /[A-Z]/u.test(Component)) {\n        return true;\n    }\n    return false;\n}\n\nexport { isSVGComponent };\n//# sourceMappingURL=is-svg-component.mjs.map\n","import { Fragment } from 'react';\nimport { HTMLVisualElement } from '../html/HTMLVisualElement.mjs';\nimport { SVGVisualElement } from '../svg/SVGVisualElement.mjs';\nimport { isSVGComponent } from './utils/is-svg-component.mjs';\n\nconst createDomVisualElement = (Component, options) => {\n    /**\n     * Use explicit isSVG override if provided, otherwise auto-detect\n     */\n    const isSVG = options.isSVG ?? isSVGComponent(Component);\n    return isSVG\n        ? new SVGVisualElement(options)\n        : new HTMLVisualElement(options, {\n            allowProjection: Component !== Fragment,\n        });\n};\n\nexport { createDomVisualElement };\n//# sourceMappingURL=create-visual-element.mjs.map\n","\"use client\";\nimport { createContext } from 'react';\n\nconst LayoutGroupContext = createContext({});\n\nexport { LayoutGroupContext };\n//# sourceMappingURL=LayoutGroupContext.mjs.map\n","\"use client\";\nimport { createContext } from 'react';\n\nconst LazyContext = createContext({ strict: false });\n\nexport { LazyContext };\n//# sourceMappingURL=LazyContext.mjs.map\n","\"use client\";\nimport { createContext } from 'react';\n\n/**\n * @public\n */\nconst MotionConfigContext = createContext({\n    transformPagePoint: (p) => p,\n    isStatic: false,\n    reducedMotion: \"never\",\n});\n\nexport { MotionConfigContext };\n//# sourceMappingURL=MotionConfigContext.mjs.map\n","\"use client\";\nimport { createContext } from 'react';\n\nconst MotionContext = /* @__PURE__ */ createContext({});\n\nexport { MotionContext };\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\nimport { useContext, useMemo } from 'react';\nimport { MotionContext } from './index.mjs';\nimport { getCurrentTreeVariants } from './utils.mjs';\n\nfunction useCreateMotionContext(props) {\n    const { initial, animate } = getCurrentTreeVariants(props, useContext(MotionContext));\n    return useMemo(() => ({ initial, animate }), [variantLabelsAsDependency(initial), variantLabelsAsDependency(animate)]);\n}\nfunction variantLabelsAsDependency(prop) {\n    return Array.isArray(prop) ? prop.join(\" \") : prop;\n}\n\nexport { useCreateMotionContext };\n//# sourceMappingURL=create.mjs.map\n","import { isControllingVariants } from '../../render/utils/is-controlling-variants.mjs';\nimport { isVariantLabel } from '../../render/utils/is-variant-label.mjs';\n\nfunction getCurrentTreeVariants(props, context) {\n    if (isControllingVariants(props)) {\n        const { initial, animate } = props;\n        return {\n            initial: initial === false || isVariantLabel(initial)\n                ? initial\n                : undefined,\n            animate: isVariantLabel(animate) ? animate : undefined,\n        };\n    }\n    return props.inherit !== false ? context : {};\n}\n\nexport { getCurrentTreeVariants };\n//# sourceMappingURL=utils.mjs.map\n","const createHtmlRenderState = () => ({\n    style: {},\n    transform: {},\n    transformOrigin: {},\n    vars: {},\n});\n\nexport { createHtmlRenderState };\n//# sourceMappingURL=create-render-state.mjs.map\n","\"use client\";\nimport { isMotionValue } from 'motion-dom';\nimport { useMemo } from 'react';\nimport { isForcedMotionValue } from '../../motion/utils/is-forced-motion-value.mjs';\nimport { buildHTMLStyles } from './utils/build-styles.mjs';\nimport { createHtmlRenderState } from './utils/create-render-state.mjs';\n\nfunction copyRawValuesOnly(target, source, props) {\n    for (const key in source) {\n        if (!isMotionValue(source[key]) && !isForcedMotionValue(key, props)) {\n            target[key] = source[key];\n        }\n    }\n}\nfunction useInitialMotionValues({ transformTemplate }, visualState) {\n    return useMemo(() => {\n        const state = createHtmlRenderState();\n        buildHTMLStyles(state, visualState, transformTemplate);\n        return Object.assign({}, state.vars, state.style);\n    }, [visualState]);\n}\nfunction useStyle(props, visualState) {\n    const styleProp = props.style || {};\n    const style = {};\n    /**\n     * Copy non-Motion Values straight into style\n     */\n    copyRawValuesOnly(style, styleProp, props);\n    Object.assign(style, useInitialMotionValues(props, visualState));\n    return style;\n}\nfunction useHTMLProps(props, visualState) {\n    // The `any` isn't ideal but it is the type of createElement props argument\n    const htmlProps = {};\n    const style = useStyle(props, visualState);\n    if (props.drag && props.dragListener !== false) {\n        // Disable the ghost element when a user drags\n        htmlProps.draggable = false;\n        // Disable text selection\n        style.userSelect =\n            style.WebkitUserSelect =\n                style.WebkitTouchCallout =\n                    \"none\";\n        // Disable scrolling on the draggable direction\n        style.touchAction =\n            props.drag === true\n                ? \"none\"\n                : `pan-${props.drag === \"x\" ? \"y\" : \"x\"}`;\n    }\n    if (props.tabIndex === undefined &&\n        (props.onTap || props.onTapStart || props.whileTap)) {\n        htmlProps.tabIndex = 0;\n    }\n    htmlProps.style = style;\n    return htmlProps;\n}\n\nexport { copyRawValuesOnly, useHTMLProps };\n//# sourceMappingURL=use-props.mjs.map\n","import { createHtmlRenderState } from '../../html/utils/create-render-state.mjs';\n\nconst createSvgRenderState = () => ({\n    ...createHtmlRenderState(),\n    attrs: {},\n});\n\nexport { createSvgRenderState };\n//# sourceMappingURL=create-render-state.mjs.map\n","\"use client\";\nimport { useMemo } from 'react';\nimport { copyRawValuesOnly } from '../html/use-props.mjs';\nimport { buildSVGAttrs } from './utils/build-attrs.mjs';\nimport { createSvgRenderState } from './utils/create-render-state.mjs';\nimport { isSVGTag } from './utils/is-svg-tag.mjs';\n\nfunction useSVGProps(props, visualState, _isStatic, Component) {\n    const visualProps = useMemo(() => {\n        const state = createSvgRenderState();\n        buildSVGAttrs(state, visualState, isSVGTag(Component), props.transformTemplate, props.style);\n        return {\n            ...state.attrs,\n            style: { ...state.style },\n        };\n    }, [visualState]);\n    if (props.style) {\n        const rawStyles = {};\n        copyRawValuesOnly(rawStyles, props.style, props);\n        visualProps.style = { ...rawStyles, ...visualProps.style };\n    }\n    return visualProps;\n}\n\nexport { useSVGProps };\n//# sourceMappingURL=use-props.mjs.map\n","/**\n * A list of all valid MotionProps.\n *\n * @privateRemarks\n * This doesn't throw if a `MotionProp` name is missing - it should.\n */\nconst validMotionProps = new Set([\n    \"animate\",\n    \"exit\",\n    \"variants\",\n    \"initial\",\n    \"style\",\n    \"values\",\n    \"variants\",\n    \"transition\",\n    \"transformTemplate\",\n    \"custom\",\n    \"inherit\",\n    \"onBeforeLayoutMeasure\",\n    \"onAnimationStart\",\n    \"onAnimationComplete\",\n    \"onUpdate\",\n    \"onDragStart\",\n    \"onDrag\",\n    \"onDragEnd\",\n    \"onMeasureDragConstraints\",\n    \"onDirectionLock\",\n    \"onDragTransitionEnd\",\n    \"_dragX\",\n    \"_dragY\",\n    \"onHoverStart\",\n    \"onHoverEnd\",\n    \"onViewportEnter\",\n    \"onViewportLeave\",\n    \"globalTapTarget\",\n    \"ignoreStrict\",\n    \"viewport\",\n]);\n/**\n * Check whether a prop name is a valid `MotionProp` key.\n *\n * @param key - Name of the property to check\n * @returns `true` is key is a valid `MotionProp`.\n *\n * @public\n */\nfunction isValidMotionProp(key) {\n    return (key.startsWith(\"while\") ||\n        (key.startsWith(\"drag\") && key !== \"draggable\") ||\n        key.startsWith(\"layout\") ||\n        key.startsWith(\"onTap\") ||\n        key.startsWith(\"onPan\") ||\n        key.startsWith(\"onLayout\") ||\n        validMotionProps.has(key));\n}\n\nexport { isValidMotionProp };\n//# sourceMappingURL=valid-prop.mjs.map\n","import { isValidMotionProp } from '../../../motion/utils/valid-prop.mjs';\n\nlet shouldForward = (key) => !isValidMotionProp(key);\nfunction loadExternalIsValidProp(isValidProp) {\n    if (typeof isValidProp !== \"function\")\n        return;\n    // Explicitly filter our events\n    shouldForward = (key) => key.startsWith(\"on\") ? !isValidMotionProp(key) : isValidProp(key);\n}\n/**\n * Emotion and Styled Components both allow users to pass through arbitrary props to their components\n * to dynamically generate CSS. They both use the `@emotion/is-prop-valid` package to determine which\n * of these should be passed to the underlying DOM node.\n *\n * However, when styling a Motion component `styled(motion.div)`, both packages pass through *all* props\n * as it's seen as an arbitrary component rather than a DOM node. Motion only allows arbitrary props\n * passed through the `custom` prop so it doesn't *need* the payload or computational overhead of\n * `@emotion/is-prop-valid`, however to fix this problem we need to use it.\n *\n * By making it an optionalDependency we can offer this functionality only in the situations where it's\n * actually required.\n */\ntry {\n    /**\n     * We attempt to import this package but require won't be defined in esm environments, in that case\n     * isPropValid will have to be provided via `MotionContext`. In a 6.0.0 this should probably be removed\n     * in favour of explicit injection.\n     */\n    loadExternalIsValidProp(require(\"@emotion/is-prop-valid\").default);\n}\ncatch {\n    // We don't need to actually do anything here - the fallback is the existing `isPropValid`.\n}\nfunction filterProps(props, isDom, forwardMotionProps) {\n    const filteredProps = {};\n    for (const key in props) {\n        /**\n         * values is considered a valid prop by Emotion, so if it's present\n         * this will be rendered out to the DOM unless explicitly filtered.\n         *\n         * We check the type as it could be used with the `feColorMatrix`\n         * element, which we support.\n         */\n        if (key === \"values\" && typeof props.values === \"object\")\n            continue;\n        if (shouldForward(key) ||\n            (forwardMotionProps === true && isValidMotionProp(key)) ||\n            (!isDom && !isValidMotionProp(key)) ||\n            // If trying to use native HTML drag events, forward drag listeners\n            (props[\"draggable\"] &&\n                key.startsWith(\"onDrag\"))) {\n            filteredProps[key] =\n                props[key];\n        }\n    }\n    return filteredProps;\n}\n\nexport { filterProps, loadExternalIsValidProp };\n//# sourceMappingURL=filter-props.mjs.map\n","\"use client\";\nimport { isMotionValue } from 'motion-dom';\nimport { Fragment, useMemo, createElement } from 'react';\nimport { useHTMLProps } from '../html/use-props.mjs';\nimport { useSVGProps } from '../svg/use-props.mjs';\nimport { filterProps } from './utils/filter-props.mjs';\nimport { isSVGComponent } from './utils/is-svg-component.mjs';\n\nfunction useRender(Component, props, ref, { latestValues, }, isStatic, forwardMotionProps = false, isSVG) {\n    const useVisualProps = (isSVG ?? isSVGComponent(Component)) ? useSVGProps : useHTMLProps;\n    const visualProps = useVisualProps(props, latestValues, isStatic, Component);\n    const filteredProps = filterProps(props, typeof Component === \"string\", forwardMotionProps);\n    const elementProps = Component !== Fragment ? { ...filteredProps, ...visualProps, ref } : {};\n    /**\n     * If component has been handed a motion value as its child,\n     * memoise its initial value and render that. Subsequent updates\n     * will be handled by the onChange handler\n     */\n    const { children } = props;\n    const renderedChildren = useMemo(() => (isMotionValue(children) ? children.get() : children), [children]);\n    return createElement(Component, {\n        ...elementProps,\n        children: renderedChildren,\n    });\n}\n\nexport { useRender };\n//# sourceMappingURL=use-render.mjs.map\n","\"use client\";\nimport { createContext } from 'react';\n\n/**\n * @public\n */\nconst PresenceContext = \n/* @__PURE__ */ createContext(null);\n\nexport { PresenceContext };\n//# sourceMappingURL=PresenceContext.mjs.map\n","import { isMotionValue } from 'motion-dom';\n\n/**\n * If the provided value is a MotionValue, this returns the actual value, otherwise just the value itself\n *\n * TODO: Remove and move to library\n */\nfunction resolveMotionValue(value) {\n    return isMotionValue(value) ? value.get() : value;\n}\n\nexport { resolveMotionValue };\n//# sourceMappingURL=resolve-motion-value.mjs.map\n","\"use client\";\nimport { useContext } from 'react';\nimport { isAnimationControls } from '../../animation/utils/is-animation-controls.mjs';\nimport { MotionContext } from '../../context/MotionContext/index.mjs';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { isControllingVariants, isVariantNode } from '../../render/utils/is-controlling-variants.mjs';\nimport { resolveVariantFromProps } from '../../render/utils/resolve-variants.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { resolveMotionValue } from '../../value/utils/resolve-motion-value.mjs';\n\nfunction makeState({ scrapeMotionValuesFromProps, createRenderState, }, props, context, presenceContext) {\n    const state = {\n        latestValues: makeLatestValues(props, context, presenceContext, scrapeMotionValuesFromProps),\n        renderState: createRenderState(),\n    };\n    return state;\n}\nfunction makeLatestValues(props, context, presenceContext, scrapeMotionValues) {\n    const values = {};\n    const motionValues = scrapeMotionValues(props, {});\n    for (const key in motionValues) {\n        values[key] = resolveMotionValue(motionValues[key]);\n    }\n    let { initial, animate } = props;\n    const isControllingVariants$1 = isControllingVariants(props);\n    const isVariantNode$1 = isVariantNode(props);\n    if (context &&\n        isVariantNode$1 &&\n        !isControllingVariants$1 &&\n        props.inherit !== false) {\n        if (initial === undefined)\n            initial = context.initial;\n        if (animate === undefined)\n            animate = context.animate;\n    }\n    let isInitialAnimationBlocked = presenceContext\n        ? presenceContext.initial === false\n        : false;\n    isInitialAnimationBlocked = isInitialAnimationBlocked || initial === false;\n    const variantToSet = isInitialAnimationBlocked ? animate : initial;\n    if (variantToSet &&\n        typeof variantToSet !== \"boolean\" &&\n        !isAnimationControls(variantToSet)) {\n        const list = Array.isArray(variantToSet) ? variantToSet : [variantToSet];\n        for (let i = 0; i < list.length; i++) {\n            const resolved = resolveVariantFromProps(props, list[i]);\n            if (resolved) {\n                const { transitionEnd, transition, ...target } = resolved;\n                for (const key in target) {\n                    let valueTarget = target[key];\n                    if (Array.isArray(valueTarget)) {\n                        /**\n                         * Take final keyframe if the initial animation is blocked because\n                         * we want to initialise at the end of that blocked animation.\n                         */\n                        const index = isInitialAnimationBlocked\n                            ? valueTarget.length - 1\n                            : 0;\n                        valueTarget = valueTarget[index];\n                    }\n                    if (valueTarget !== null) {\n                        values[key] = valueTarget;\n                    }\n                }\n                for (const key in transitionEnd) {\n                    values[key] = transitionEnd[key];\n                }\n            }\n        }\n    }\n    return values;\n}\nconst makeUseVisualState = (config) => (props, isStatic) => {\n    const context = useContext(MotionContext);\n    const presenceContext = useContext(PresenceContext);\n    const make = () => makeState(config, props, context, presenceContext);\n    return isStatic ? make() : useConstant(make);\n};\n\nexport { makeUseVisualState };\n//# sourceMappingURL=use-visual-state.mjs.map\n","\"use client\";\nimport { useRef } from 'react';\n\n/**\n * Creates a constant value over the lifecycle of a component.\n *\n * Even if `useMemo` is provided an empty array as its final argument, it doesn't offer\n * a guarantee that it won't re-run for performance reasons later on. By using `useConstant`\n * you can ensure that initialisers don't execute twice or more.\n */\nfunction useConstant(init) {\n    const ref = useRef(null);\n    if (ref.current === null) {\n        ref.current = init();\n    }\n    return ref.current;\n}\n\nexport { useConstant };\n//# sourceMappingURL=use-constant.mjs.map\n","\"use client\";\nimport { makeUseVisualState } from '../../motion/utils/use-visual-state.mjs';\nimport { createHtmlRenderState } from './utils/create-render-state.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\n\nconst useHTMLVisualState = /*@__PURE__*/ makeUseVisualState({\n    scrapeMotionValuesFromProps,\n    createRenderState: createHtmlRenderState,\n});\n\nexport { useHTMLVisualState };\n//# sourceMappingURL=use-html-visual-state.mjs.map\n","\"use client\";\nimport { makeUseVisualState } from '../../motion/utils/use-visual-state.mjs';\nimport { createSvgRenderState } from './utils/create-render-state.mjs';\nimport { scrapeMotionValuesFromProps } from './utils/scrape-motion-values.mjs';\n\nconst useSVGVisualState = /*@__PURE__*/ makeUseVisualState({\n    scrapeMotionValuesFromProps: scrapeMotionValuesFromProps,\n    createRenderState: createSvgRenderState,\n});\n\nexport { useSVGVisualState };\n//# sourceMappingURL=use-svg-visual-state.mjs.map\n","const motionComponentSymbol = Symbol.for(\"motionComponentSymbol\");\n\nexport { motionComponentSymbol };\n//# sourceMappingURL=symbol.mjs.map\n","\"use client\";\nimport { useRef, useInsertionEffect, useCallback } from 'react';\n\n/**\n * Creates a ref function that, when called, hydrates the provided\n * external ref and VisualElement.\n */\nfunction useMotionRef(visualState, visualElement, externalRef) {\n    /**\n     * Store externalRef in a ref to avoid including it in the useCallback\n     * dependency array. Including externalRef in dependencies causes issues\n     * with libraries like Radix UI that create new callback refs on each render\n     * when using asChild - this would cause the callback to be recreated,\n     * triggering element remounts and breaking AnimatePresence exit animations.\n     */\n    const externalRefContainer = useRef(externalRef);\n    useInsertionEffect(() => {\n        externalRefContainer.current = externalRef;\n    });\n    // Store cleanup function returned by callback refs (React 19 feature)\n    const refCleanup = useRef(null);\n    return useCallback((instance) => {\n        if (instance) {\n            visualState.onMount?.(instance);\n        }\n        if (visualElement) {\n            instance ? visualElement.mount(instance) : visualElement.unmount();\n        }\n        const ref = externalRefContainer.current;\n        if (typeof ref === \"function\") {\n            if (instance) {\n                const cleanup = ref(instance);\n                if (typeof cleanup === \"function\") {\n                    refCleanup.current = cleanup;\n                }\n            }\n            else if (refCleanup.current) {\n                refCleanup.current();\n                refCleanup.current = null;\n            }\n            else {\n                ref(instance);\n            }\n        }\n        else if (ref) {\n            ref.current = instance;\n        }\n    }, [visualElement]);\n}\n\nexport { useMotionRef };\n//# sourceMappingURL=use-motion-ref.mjs.map\n","import { camelToDash } from '../../render/dom/utils/camel-to-dash.mjs';\n\nconst optimizedAppearDataId = \"framerAppearId\";\nconst optimizedAppearDataAttribute = \"data-\" + camelToDash(optimizedAppearDataId);\n\nexport { optimizedAppearDataAttribute, optimizedAppearDataId };\n//# sourceMappingURL=data-id.mjs.map\n","\"use client\";\nimport { createContext } from 'react';\n\n/**\n * Internal, exported only for usage in Framer\n */\nconst SwitchLayoutGroupContext = createContext({});\n\nexport { SwitchLayoutGroupContext };\n//# sourceMappingURL=SwitchLayoutGroupContext.mjs.map\n","function isRefObject(ref) {\n    return (ref &&\n        typeof ref === \"object\" &&\n        Object.prototype.hasOwnProperty.call(ref, \"current\"));\n}\n\nexport { isRefObject };\n//# sourceMappingURL=is-ref-object.mjs.map\n","\"use client\";\nimport { useLayoutEffect, useEffect } from 'react';\nimport { isBrowser } from './is-browser.mjs';\n\nconst useIsomorphicLayoutEffect = isBrowser ? useLayoutEffect : useEffect;\n\nexport { useIsomorphicLayoutEffect };\n//# sourceMappingURL=use-isomorphic-effect.mjs.map\n","\"use client\";\nimport { useContext, useRef, useInsertionEffect, useEffect } from 'react';\nimport { optimizedAppearDataAttribute } from '../../animation/optimized-appear/data-id.mjs';\nimport { LazyContext } from '../../context/LazyContext.mjs';\nimport { MotionConfigContext } from '../../context/MotionConfigContext.mjs';\nimport { MotionContext } from '../../context/MotionContext/index.mjs';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { SwitchLayoutGroupContext } from '../../context/SwitchLayoutGroupContext.mjs';\nimport { isRefObject } from '../../utils/is-ref-object.mjs';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.mjs';\n\nfunction useVisualElement(Component, visualState, props, createVisualElement, ProjectionNodeConstructor, isSVG) {\n    const { visualElement: parent } = useContext(MotionContext);\n    const lazyContext = useContext(LazyContext);\n    const presenceContext = useContext(PresenceContext);\n    const reducedMotionConfig = useContext(MotionConfigContext).reducedMotion;\n    const visualElementRef = useRef(null);\n    /**\n     * If we haven't preloaded a renderer, check to see if we have one lazy-loaded\n     */\n    createVisualElement =\n        createVisualElement ||\n            lazyContext.renderer;\n    if (!visualElementRef.current && createVisualElement) {\n        visualElementRef.current = createVisualElement(Component, {\n            visualState,\n            parent,\n            props,\n            presenceContext,\n            blockInitialAnimation: presenceContext\n                ? presenceContext.initial === false\n                : false,\n            reducedMotionConfig,\n            isSVG,\n        });\n    }\n    const visualElement = visualElementRef.current;\n    /**\n     * Load Motion gesture and animation features. These are rendered as renderless\n     * components so each feature can optionally make use of React lifecycle methods.\n     */\n    const initialLayoutGroupConfig = useContext(SwitchLayoutGroupContext);\n    if (visualElement &&\n        !visualElement.projection &&\n        ProjectionNodeConstructor &&\n        (visualElement.type === \"html\" || visualElement.type === \"svg\")) {\n        createProjectionNode(visualElementRef.current, props, ProjectionNodeConstructor, initialLayoutGroupConfig);\n    }\n    const isMounted = useRef(false);\n    useInsertionEffect(() => {\n        /**\n         * Check the component has already mounted before calling\n         * `update` unnecessarily. This ensures we skip the initial update.\n         */\n        if (visualElement && isMounted.current) {\n            visualElement.update(props, presenceContext);\n        }\n    });\n    /**\n     * Cache this value as we want to know whether HandoffAppearAnimations\n     * was present on initial render - it will be deleted after this.\n     */\n    const optimisedAppearId = props[optimizedAppearDataAttribute];\n    const wantsHandoff = useRef(Boolean(optimisedAppearId) &&\n        !window.MotionHandoffIsComplete?.(optimisedAppearId) &&\n        window.MotionHasOptimisedAnimation?.(optimisedAppearId));\n    useIsomorphicLayoutEffect(() => {\n        if (!visualElement)\n            return;\n        isMounted.current = true;\n        window.MotionIsMounted = true;\n        visualElement.updateFeatures();\n        visualElement.scheduleRenderMicrotask();\n        /**\n         * Ideally this function would always run in a useEffect.\n         *\n         * However, if we have optimised appear animations to handoff from,\n         * it needs to happen synchronously to ensure there's no flash of\n         * incorrect styles in the event of a hydration error.\n         *\n         * So if we detect a situtation where optimised appear animations\n         * are running, we use useLayoutEffect to trigger animations.\n         */\n        if (wantsHandoff.current && visualElement.animationState) {\n            visualElement.animationState.animateChanges();\n        }\n    });\n    useEffect(() => {\n        if (!visualElement)\n            return;\n        if (!wantsHandoff.current && visualElement.animationState) {\n            visualElement.animationState.animateChanges();\n        }\n        if (wantsHandoff.current) {\n            // This ensures all future calls to animateChanges() in this component will run in useEffect\n            queueMicrotask(() => {\n                window.MotionHandoffMarkAsComplete?.(optimisedAppearId);\n            });\n            wantsHandoff.current = false;\n        }\n        /**\n         * Now we've finished triggering animations for this element we\n         * can wipe the enteringChildren set for the next render.\n         */\n        visualElement.enteringChildren = undefined;\n    });\n    return visualElement;\n}\nfunction createProjectionNode(visualElement, props, ProjectionNodeConstructor, initialPromotionConfig) {\n    const { layoutId, layout, drag, dragConstraints, layoutScroll, layoutRoot, layoutCrossfade, } = props;\n    visualElement.projection = new ProjectionNodeConstructor(visualElement.latestValues, props[\"data-framer-portal-id\"]\n        ? undefined\n        : getClosestProjectingNode(visualElement.parent));\n    visualElement.projection.setOptions({\n        layoutId,\n        layout,\n        alwaysMeasureLayout: Boolean(drag) || (dragConstraints && isRefObject(dragConstraints)),\n        visualElement,\n        /**\n         * TODO: Update options in an effect. This could be tricky as it'll be too late\n         * to update by the time layout animations run.\n         * We also need to fix this safeToRemove by linking it up to the one returned by usePresence,\n         * ensuring it gets called if there's no potential layout animations.\n         *\n         */\n        animationType: typeof layout === \"string\" ? layout : \"both\",\n        initialPromotionConfig,\n        crossfade: layoutCrossfade,\n        layoutScroll,\n        layoutRoot,\n    });\n}\nfunction getClosestProjectingNode(visualElement) {\n    if (!visualElement)\n        return undefined;\n    return visualElement.options.allowProjection !== false\n        ? visualElement.projection\n        : getClosestProjectingNode(visualElement.parent);\n}\n\nexport { useVisualElement };\n//# sourceMappingURL=use-visual-element.mjs.map\n","\"use client\";\nimport { jsxs, jsx } from 'react/jsx-runtime';\nimport { warning, invariant } from 'motion-utils';\nimport { forwardRef, useContext } from 'react';\nimport { LayoutGroupContext } from '../context/LayoutGroupContext.mjs';\nimport { LazyContext } from '../context/LazyContext.mjs';\nimport { MotionConfigContext } from '../context/MotionConfigContext.mjs';\nimport { MotionContext } from '../context/MotionContext/index.mjs';\nimport { useCreateMotionContext } from '../context/MotionContext/create.mjs';\nimport { useRender } from '../render/dom/use-render.mjs';\nimport { isSVGComponent } from '../render/dom/utils/is-svg-component.mjs';\nimport { useHTMLVisualState } from '../render/html/use-html-visual-state.mjs';\nimport { useSVGVisualState } from '../render/svg/use-svg-visual-state.mjs';\nimport { isBrowser } from '../utils/is-browser.mjs';\nimport { featureDefinitions } from './features/definitions.mjs';\nimport { loadFeatures } from './features/load-features.mjs';\nimport { motionComponentSymbol } from './utils/symbol.mjs';\nimport { useMotionRef } from './utils/use-motion-ref.mjs';\nimport { useVisualElement } from './utils/use-visual-element.mjs';\n\n/**\n * Create a `motion` component.\n *\n * This function accepts a Component argument, which can be either a string (ie \"div\"\n * for `motion.div`), or an actual React component.\n *\n * Alongside this is a config option which provides a way of rendering the provided\n * component \"offline\", or outside the React render cycle.\n */\nfunction createMotionComponent(Component, { forwardMotionProps = false, type } = {}, preloadedFeatures, createVisualElement) {\n    preloadedFeatures && loadFeatures(preloadedFeatures);\n    /**\n     * Determine whether to use SVG or HTML rendering based on:\n     * 1. Explicit `type` option (highest priority)\n     * 2. Auto-detection via `isSVGComponent`\n     */\n    const isSVG = type ? type === \"svg\" : isSVGComponent(Component);\n    const useVisualState = isSVG ? useSVGVisualState : useHTMLVisualState;\n    function MotionDOMComponent(props, externalRef) {\n        /**\n         * If we need to measure the element we load this functionality in a\n         * separate class component in order to gain access to getSnapshotBeforeUpdate.\n         */\n        let MeasureLayout;\n        const configAndProps = {\n            ...useContext(MotionConfigContext),\n            ...props,\n            layoutId: useLayoutId(props),\n        };\n        const { isStatic } = configAndProps;\n        const context = useCreateMotionContext(props);\n        const visualState = useVisualState(props, isStatic);\n        if (!isStatic && isBrowser) {\n            useStrictMode(configAndProps, preloadedFeatures);\n            const layoutProjection = getProjectionFunctionality(configAndProps);\n            MeasureLayout = layoutProjection.MeasureLayout;\n            /**\n             * Create a VisualElement for this component. A VisualElement provides a common\n             * interface to renderer-specific APIs (ie DOM/Three.js etc) as well as\n             * providing a way of rendering to these APIs outside of the React render loop\n             * for more performant animations and interactions\n             */\n            context.visualElement = useVisualElement(Component, visualState, configAndProps, createVisualElement, layoutProjection.ProjectionNode, isSVG);\n        }\n        /**\n         * The mount order and hierarchy is specific to ensure our element ref\n         * is hydrated by the time features fire their effects.\n         */\n        return (jsxs(MotionContext.Provider, { value: context, children: [MeasureLayout && context.visualElement ? (jsx(MeasureLayout, { visualElement: context.visualElement, ...configAndProps })) : null, useRender(Component, props, useMotionRef(visualState, context.visualElement, externalRef), visualState, isStatic, forwardMotionProps, isSVG)] }));\n    }\n    MotionDOMComponent.displayName = `motion.${typeof Component === \"string\"\n        ? Component\n        : `create(${Component.displayName ?? Component.name ?? \"\"})`}`;\n    const ForwardRefMotionComponent = forwardRef(MotionDOMComponent);\n    ForwardRefMotionComponent[motionComponentSymbol] = Component;\n    return ForwardRefMotionComponent;\n}\nfunction useLayoutId({ layoutId }) {\n    const layoutGroupId = useContext(LayoutGroupContext).id;\n    return layoutGroupId && layoutId !== undefined\n        ? layoutGroupId + \"-\" + layoutId\n        : layoutId;\n}\nfunction useStrictMode(configAndProps, preloadedFeatures) {\n    const isStrict = useContext(LazyContext).strict;\n    /**\n     * If we're in development mode, check to make sure we're not rendering a motion component\n     * as a child of LazyMotion, as this will break the file-size benefits of using it.\n     */\n    if (process.env.NODE_ENV !== \"production\" &&\n        preloadedFeatures &&\n        isStrict) {\n        const strictMessage = \"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.\";\n        configAndProps.ignoreStrict\n            ? warning(false, strictMessage, \"lazy-strict-mode\")\n            : invariant(false, strictMessage, \"lazy-strict-mode\");\n    }\n}\nfunction getProjectionFunctionality(props) {\n    const { drag, layout } = featureDefinitions;\n    if (!drag && !layout)\n        return {};\n    const combined = { ...drag, ...layout };\n    return {\n        MeasureLayout: drag?.isEnabled(props) || layout?.isEnabled(props)\n            ? combined.MeasureLayout\n            : undefined,\n        ProjectionNode: combined.ProjectionNode,\n    };\n}\n\nexport { createMotionComponent };\n//# sourceMappingURL=index.mjs.map\n","import { featureDefinitions } from './definitions.mjs';\n\nfunction loadFeatures(features) {\n    for (const key in features) {\n        featureDefinitions[key] = {\n            ...featureDefinitions[key],\n            ...features[key],\n        };\n    }\n}\n\nexport { loadFeatures };\n//# sourceMappingURL=load-features.mjs.map\n","import { warnOnce } from 'motion-utils';\nimport { createMotionComponent } from '../../motion/index.mjs';\n\nfunction createMotionProxy(preloadedFeatures, createVisualElement) {\n    if (typeof Proxy === \"undefined\") {\n        return createMotionComponent;\n    }\n    /**\n     * A cache of generated `motion` components, e.g `motion.div`, `motion.input` etc.\n     * Rather than generating them anew every render.\n     */\n    const componentCache = new Map();\n    const factory = (Component, options) => {\n        return createMotionComponent(Component, options, preloadedFeatures, createVisualElement);\n    };\n    /**\n     * Support for deprecated`motion(Component)` pattern\n     */\n    const deprecatedFactoryFunction = (Component, options) => {\n        if (process.env.NODE_ENV !== \"production\") {\n            warnOnce(false, \"motion() is deprecated. Use motion.create() instead.\");\n        }\n        return factory(Component, options);\n    };\n    return new Proxy(deprecatedFactoryFunction, {\n        /**\n         * Called when `motion` is referenced with a prop: `motion.div`, `motion.input` etc.\n         * The prop name is passed through as `key` and we can use that to generate a `motion`\n         * DOM component with that name.\n         */\n        get: (_target, key) => {\n            if (key === \"create\")\n                return factory;\n            /**\n             * If this element doesn't exist in the component cache, create it and cache.\n             */\n            if (!componentCache.has(key)) {\n                componentCache.set(key, createMotionComponent(key, undefined, preloadedFeatures, createVisualElement));\n            }\n            return componentCache.get(key);\n        },\n    });\n}\n\nexport { createMotionProxy };\n//# sourceMappingURL=create-proxy.mjs.map\n","import { resolveVariantFromProps } from './resolve-variants.mjs';\n\nfunction resolveVariant(visualElement, definition, custom) {\n    const props = visualElement.getProps();\n    return resolveVariantFromProps(props, definition, custom !== undefined ? custom : props.custom, visualElement);\n}\n\nexport { resolveVariant };\n//# sourceMappingURL=resolve-dynamic-variants.mjs.map\n","function getValueTransition(transition, key) {\n    return (transition?.[key] ??\n        transition?.[\"default\"] ??\n        transition);\n}\n\nexport { getValueTransition };\n","const isKeyframesTarget = (v) => {\n    return Array.isArray(v);\n};\n\nexport { isKeyframesTarget };\n//# sourceMappingURL=is-keyframes-target.mjs.map\n","import { motionValue } from 'motion-dom';\nimport { isKeyframesTarget } from '../../animation/utils/is-keyframes-target.mjs';\nimport { resolveVariant } from './resolve-dynamic-variants.mjs';\n\n/**\n * Set VisualElement's MotionValue, creating a new MotionValue for it if\n * it doesn't exist.\n */\nfunction setMotionValue(visualElement, key, value) {\n    if (visualElement.hasValue(key)) {\n        visualElement.getValue(key).set(value);\n    }\n    else {\n        visualElement.addValue(key, motionValue(value));\n    }\n}\nfunction resolveFinalValueInKeyframes(v) {\n    // TODO maybe throw if v.length - 1 is placeholder token?\n    return isKeyframesTarget(v) ? v[v.length - 1] || 0 : v;\n}\nfunction setTarget(visualElement, definition) {\n    const resolved = resolveVariant(visualElement, definition);\n    let { transitionEnd = {}, transition = {}, ...target } = resolved || {};\n    target = { ...target, ...transitionEnd };\n    for (const key in target) {\n        const value = resolveFinalValueInKeyframes(target[key]);\n        setMotionValue(visualElement, key, value);\n    }\n}\n\nexport { setTarget };\n//# sourceMappingURL=setters.mjs.map\n","import { MotionGlobalConfig } from 'motion-utils';\nimport { isWillChangeMotionValue } from './is.mjs';\n\nfunction addValueToWillChange(visualElement, key) {\n    const willChange = visualElement.getValue(\"willChange\");\n    /**\n     * It could be that a user has set willChange to a regular MotionValue,\n     * in which case we can't add the value to it.\n     */\n    if (isWillChangeMotionValue(willChange)) {\n        return willChange.add(key);\n    }\n    else if (!willChange && MotionGlobalConfig.WillChange) {\n        const newWillChange = new MotionGlobalConfig.WillChange(\"auto\");\n        visualElement.addValue(\"willChange\", newWillChange);\n        newWillChange.add(key);\n    }\n}\n\nexport { addValueToWillChange };\n//# sourceMappingURL=add-will-change.mjs.map\n","import { isMotionValue } from 'motion-dom';\n\nfunction isWillChangeMotionValue(value) {\n    return Boolean(isMotionValue(value) && value.add);\n}\n\nexport { isWillChangeMotionValue };\n//# sourceMappingURL=is.mjs.map\n","import { optimizedAppearDataAttribute } from './data-id.mjs';\n\nfunction getOptimisedAppearId(visualElement) {\n    return visualElement.props[optimizedAppearDataAttribute];\n}\n\nexport { getOptimisedAppearId };\n//# sourceMappingURL=get-appear-id.mjs.map\n","function makeAnimationInstant(options) {\n    options.duration = 0;\n    options.type = \"keyframes\";\n}\n\nexport { makeAnimationInstant };\n","/**\n * Pipe\n * Compose other transformers to run linearily\n * pipe(min(20), max(40))\n * @param  {...functions} transformers\n * @return {function}\n */\nconst combineFunctions = (a, b) => (v) => b(a(v));\nconst pipe = (...transformers) => transformers.reduce(combineFunctions);\n\nexport { pipe };\n","/**\n * Converts seconds to milliseconds\n *\n * @param seconds - Time in seconds.\n * @return milliseconds - Converted time in milliseconds.\n */\n/*#__NO_SIDE_EFFECTS__*/\nconst secondsToMilliseconds = (seconds) => seconds * 1000;\n/*#__NO_SIDE_EFFECTS__*/\nconst millisecondsToSeconds = (milliseconds) => milliseconds / 1000;\n\nexport { millisecondsToSeconds, secondsToMilliseconds };\n","const activeAnimations = {\n    layout: 0,\n    mainThread: 0,\n    waapi: 0,\n};\n\nexport { activeAnimations };\n","// Adapted from https://gist.github.com/mjackson/5311256\nfunction hueToRgb(p, q, t) {\n    if (t < 0)\n        t += 1;\n    if (t > 1)\n        t -= 1;\n    if (t < 1 / 6)\n        return p + (q - p) * 6 * t;\n    if (t < 1 / 2)\n        return q;\n    if (t < 2 / 3)\n        return p + (q - p) * (2 / 3 - t) * 6;\n    return p;\n}\nfunction hslaToRgba({ hue, saturation, lightness, alpha }) {\n    hue /= 360;\n    saturation /= 100;\n    lightness /= 100;\n    let red = 0;\n    let green = 0;\n    let blue = 0;\n    if (!saturation) {\n        red = green = blue = lightness;\n    }\n    else {\n        const q = lightness < 0.5\n            ? lightness * (1 + saturation)\n            : lightness + saturation - lightness * saturation;\n        const p = 2 * lightness - q;\n        red = hueToRgb(p, q, hue + 1 / 3);\n        green = hueToRgb(p, q, hue);\n        blue = hueToRgb(p, q, hue - 1 / 3);\n    }\n    return {\n        red: Math.round(red * 255),\n        green: Math.round(green * 255),\n        blue: Math.round(blue * 255),\n        alpha,\n    };\n}\n\nexport { hslaToRgba };\n","function mixImmediate(a, b) {\n    return (p) => (p > 0 ? b : a);\n}\n\nexport { mixImmediate };\n","import { warning } from 'motion-utils';\nimport { hex } from '../../value/types/color/hex.mjs';\nimport { hsla } from '../../value/types/color/hsla.mjs';\nimport { hslaToRgba } from '../../value/types/color/hsla-to-rgba.mjs';\nimport { rgba } from '../../value/types/color/rgba.mjs';\nimport { mixImmediate } from './immediate.mjs';\nimport { mixNumber } from './number.mjs';\n\n// Linear color space blending\n// Explained https://www.youtube.com/watch?v=LKnqECcg6Gw\n// Demonstrated http://codepen.io/osublake/pen/xGVVaN\nconst mixLinearColor = (from, to, v) => {\n    const fromExpo = from * from;\n    const expo = v * (to * to - fromExpo) + fromExpo;\n    return expo < 0 ? 0 : Math.sqrt(expo);\n};\nconst colorTypes = [hex, rgba, hsla];\nconst getColorType = (v) => colorTypes.find((type) => type.test(v));\nfunction asRGBA(color) {\n    const type = getColorType(color);\n    warning(Boolean(type), `'${color}' is not an animatable color. Use the equivalent color code instead.`, \"color-not-animatable\");\n    if (!Boolean(type))\n        return false;\n    let model = type.parse(color);\n    if (type === hsla) {\n        // TODO Remove this cast - needed since Motion's stricter typing\n        model = hslaToRgba(model);\n    }\n    return model;\n}\nconst mixColor = (from, to) => {\n    const fromRGBA = asRGBA(from);\n    const toRGBA = asRGBA(to);\n    if (!fromRGBA || !toRGBA) {\n        return mixImmediate(from, to);\n    }\n    const blended = { ...fromRGBA };\n    return (v) => {\n        blended.red = mixLinearColor(fromRGBA.red, toRGBA.red, v);\n        blended.green = mixLinearColor(fromRGBA.green, toRGBA.green, v);\n        blended.blue = mixLinearColor(fromRGBA.blue, toRGBA.blue, v);\n        blended.alpha = mixNumber(fromRGBA.alpha, toRGBA.alpha, v);\n        return rgba.transform(blended);\n    };\n};\n\nexport { mixColor, mixLinearColor };\n","const invisibleValues = new Set([\"none\", \"hidden\"]);\n/**\n * Returns a function that, when provided a progress value between 0 and 1,\n * will return the \"none\" or \"hidden\" string only when the progress is that of\n * the origin or target.\n */\nfunction mixVisibility(origin, target) {\n    if (invisibleValues.has(origin)) {\n        return (p) => (p <= 0 ? origin : target);\n    }\n    else {\n        return (p) => (p >= 1 ? target : origin);\n    }\n}\n\nexport { invisibleValues, mixVisibility };\n","import { pipe, warning } from 'motion-utils';\nimport { isCSSVariableToken } from '../../animation/utils/is-css-variable.mjs';\nimport { color } from '../../value/types/color/index.mjs';\nimport { complex, analyseComplexValue } from '../../value/types/complex/index.mjs';\nimport { mixColor } from './color.mjs';\nimport { mixImmediate } from './immediate.mjs';\nimport { mixNumber as mixNumber$1 } from './number.mjs';\nimport { invisibleValues, mixVisibility } from './visibility.mjs';\n\nfunction mixNumber(a, b) {\n    return (p) => mixNumber$1(a, b, p);\n}\nfunction getMixer(a) {\n    if (typeof a === \"number\") {\n        return mixNumber;\n    }\n    else if (typeof a === \"string\") {\n        return isCSSVariableToken(a)\n            ? mixImmediate\n            : color.test(a)\n                ? mixColor\n                : mixComplex;\n    }\n    else if (Array.isArray(a)) {\n        return mixArray;\n    }\n    else if (typeof a === \"object\") {\n        return color.test(a) ? mixColor : mixObject;\n    }\n    return mixImmediate;\n}\nfunction mixArray(a, b) {\n    const output = [...a];\n    const numValues = output.length;\n    const blendValue = a.map((v, i) => getMixer(v)(v, b[i]));\n    return (p) => {\n        for (let i = 0; i < numValues; i++) {\n            output[i] = blendValue[i](p);\n        }\n        return output;\n    };\n}\nfunction mixObject(a, b) {\n    const output = { ...a, ...b };\n    const blendValue = {};\n    for (const key in output) {\n        if (a[key] !== undefined && b[key] !== undefined) {\n            blendValue[key] = getMixer(a[key])(a[key], b[key]);\n        }\n    }\n    return (v) => {\n        for (const key in blendValue) {\n            output[key] = blendValue[key](v);\n        }\n        return output;\n    };\n}\nfunction matchOrder(origin, target) {\n    const orderedOrigin = [];\n    const pointers = { color: 0, var: 0, number: 0 };\n    for (let i = 0; i < target.values.length; i++) {\n        const type = target.types[i];\n        const originIndex = origin.indexes[type][pointers[type]];\n        const originValue = origin.values[originIndex] ?? 0;\n        orderedOrigin[i] = originValue;\n        pointers[type]++;\n    }\n    return orderedOrigin;\n}\nconst mixComplex = (origin, target) => {\n    const template = complex.createTransformer(target);\n    const originStats = analyseComplexValue(origin);\n    const targetStats = analyseComplexValue(target);\n    const canInterpolate = originStats.indexes.var.length === targetStats.indexes.var.length &&\n        originStats.indexes.color.length === targetStats.indexes.color.length &&\n        originStats.indexes.number.length >= targetStats.indexes.number.length;\n    if (canInterpolate) {\n        if ((invisibleValues.has(origin) &&\n            !targetStats.values.length) ||\n            (invisibleValues.has(target) &&\n                !originStats.values.length)) {\n            return mixVisibility(origin, target);\n        }\n        return pipe(mixArray(matchOrder(originStats, targetStats), targetStats.values), template);\n    }\n    else {\n        warning(true, `Complex values '${origin}' and '${target}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`, \"complex-values-different\");\n        return mixImmediate(origin, target);\n    }\n};\n\nexport { getMixer, mixArray, mixComplex, mixObject };\n","import { getMixer } from './complex.mjs';\nimport { mixNumber } from './number.mjs';\n\nfunction mix(from, to, p) {\n    if (typeof from === \"number\" &&\n        typeof to === \"number\" &&\n        typeof p === \"number\") {\n        return mixNumber(from, to, p);\n    }\n    const mixer = getMixer(from);\n    return mixer(from, to);\n}\n\nexport { mix };\n","import { time } from '../../frameloop/sync-time.mjs';\nimport { frame, cancelFrame, frameData } from '../../frameloop/frame.mjs';\n\nconst frameloopDriver = (update) => {\n    const passTimestamp = ({ timestamp }) => update(timestamp);\n    return {\n        start: (keepAlive = true) => frame.update(passTimestamp, keepAlive),\n        stop: () => cancelFrame(passTimestamp),\n        /**\n         * If we're processing this frame we can use the\n         * framelocked timestamp to keep things in sync.\n         */\n        now: () => (frameData.isProcessing ? frameData.timestamp : time.now()),\n    };\n};\n\nexport { frameloopDriver };\n","const generateLinearEasing = (easing, duration, // as milliseconds\nresolution = 10 // as milliseconds\n) => {\n    let points = \"\";\n    const numPoints = Math.max(Math.round(duration / resolution), 2);\n    for (let i = 0; i < numPoints; i++) {\n        points += Math.round(easing(i / (numPoints - 1)) * 10000) / 10000 + \", \";\n    }\n    return `linear(${points.substring(0, points.length - 2)})`;\n};\n\nexport { generateLinearEasing };\n","/**\n * Implement a practical max duration for keyframe generation\n * to prevent infinite loops\n */\nconst maxGeneratorDuration = 20000;\nfunction calcGeneratorDuration(generator) {\n    let duration = 0;\n    const timeStep = 50;\n    let state = generator.next(duration);\n    while (!state.done && duration < maxGeneratorDuration) {\n        duration += timeStep;\n        state = generator.next(duration);\n    }\n    return duration >= maxGeneratorDuration ? Infinity : duration;\n}\n\nexport { calcGeneratorDuration, maxGeneratorDuration };\n","import { velocityPerSecond } from 'motion-utils';\n\nconst velocitySampleDuration = 5; // ms\nfunction calcGeneratorVelocity(resolveValue, t, current) {\n    const prevT = Math.max(t - velocitySampleDuration, 0);\n    return velocityPerSecond(current - resolveValue(prevT), t - prevT);\n}\n\nexport { calcGeneratorVelocity };\n","const springDefaults = {\n    // Default spring physics\n    stiffness: 100,\n    damping: 10,\n    mass: 1.0,\n    velocity: 0.0,\n    // Default duration/bounce-based options\n    duration: 800, // in ms\n    bounce: 0.3,\n    visualDuration: 0.3, // in seconds\n    // Rest thresholds\n    restSpeed: {\n        granular: 0.01,\n        default: 2,\n    },\n    restDelta: {\n        granular: 0.005,\n        default: 0.5,\n    },\n    // Limits\n    minDuration: 0.01, // in seconds\n    maxDuration: 10.0, // in seconds\n    minDamping: 0.05,\n    maxDamping: 1,\n};\n\nexport { springDefaults };\n","import { warning, secondsToMilliseconds, clamp, millisecondsToSeconds } from 'motion-utils';\nimport { springDefaults } from './defaults.mjs';\n\nconst safeMin = 0.001;\nfunction findSpring({ duration = springDefaults.duration, bounce = springDefaults.bounce, velocity = springDefaults.velocity, mass = springDefaults.mass, }) {\n    let envelope;\n    let derivative;\n    warning(duration <= secondsToMilliseconds(springDefaults.maxDuration), \"Spring duration must be 10 seconds or less\", \"spring-duration-limit\");\n    let dampingRatio = 1 - bounce;\n    /**\n     * Restrict dampingRatio and duration to within acceptable ranges.\n     */\n    dampingRatio = clamp(springDefaults.minDamping, springDefaults.maxDamping, dampingRatio);\n    duration = clamp(springDefaults.minDuration, springDefaults.maxDuration, millisecondsToSeconds(duration));\n    if (dampingRatio < 1) {\n        /**\n         * Underdamped spring\n         */\n        envelope = (undampedFreq) => {\n            const exponentialDecay = undampedFreq * dampingRatio;\n            const delta = exponentialDecay * duration;\n            const a = exponentialDecay - velocity;\n            const b = calcAngularFreq(undampedFreq, dampingRatio);\n            const c = Math.exp(-delta);\n            return safeMin - (a / b) * c;\n        };\n        derivative = (undampedFreq) => {\n            const exponentialDecay = undampedFreq * dampingRatio;\n            const delta = exponentialDecay * duration;\n            const d = delta * velocity + velocity;\n            const e = Math.pow(dampingRatio, 2) * Math.pow(undampedFreq, 2) * duration;\n            const f = Math.exp(-delta);\n            const g = calcAngularFreq(Math.pow(undampedFreq, 2), dampingRatio);\n            const factor = -envelope(undampedFreq) + safeMin > 0 ? -1 : 1;\n            return (factor * ((d - e) * f)) / g;\n        };\n    }\n    else {\n        /**\n         * Critically-damped spring\n         */\n        envelope = (undampedFreq) => {\n            const a = Math.exp(-undampedFreq * duration);\n            const b = (undampedFreq - velocity) * duration + 1;\n            return -safeMin + a * b;\n        };\n        derivative = (undampedFreq) => {\n            const a = Math.exp(-undampedFreq * duration);\n            const b = (velocity - undampedFreq) * (duration * duration);\n            return a * b;\n        };\n    }\n    const initialGuess = 5 / duration;\n    const undampedFreq = approximateRoot(envelope, derivative, initialGuess);\n    duration = secondsToMilliseconds(duration);\n    if (isNaN(undampedFreq)) {\n        return {\n            stiffness: springDefaults.stiffness,\n            damping: springDefaults.damping,\n            duration,\n        };\n    }\n    else {\n        const stiffness = Math.pow(undampedFreq, 2) * mass;\n        return {\n            stiffness,\n            damping: dampingRatio * 2 * Math.sqrt(mass * stiffness),\n            duration,\n        };\n    }\n}\nconst rootIterations = 12;\nfunction approximateRoot(envelope, derivative, initialGuess) {\n    let result = initialGuess;\n    for (let i = 1; i < rootIterations; i++) {\n        result = result - envelope(result) / derivative(result);\n    }\n    return result;\n}\nfunction calcAngularFreq(undampedFreq, dampingRatio) {\n    return undampedFreq * Math.sqrt(1 - dampingRatio * dampingRatio);\n}\n\nexport { calcAngularFreq, findSpring };\n","import { millisecondsToSeconds, secondsToMilliseconds, clamp } from 'motion-utils';\nimport { generateLinearEasing } from '../../waapi/utils/linear.mjs';\nimport { calcGeneratorDuration, maxGeneratorDuration } from '../utils/calc-duration.mjs';\nimport { createGeneratorEasing } from '../utils/create-generator-easing.mjs';\nimport { calcGeneratorVelocity } from '../utils/velocity.mjs';\nimport { springDefaults } from './defaults.mjs';\nimport { findSpring, calcAngularFreq } from './find.mjs';\n\nconst durationKeys = [\"duration\", \"bounce\"];\nconst physicsKeys = [\"stiffness\", \"damping\", \"mass\"];\nfunction isSpringType(options, keys) {\n    return keys.some((key) => options[key] !== undefined);\n}\nfunction getSpringOptions(options) {\n    let springOptions = {\n        velocity: springDefaults.velocity,\n        stiffness: springDefaults.stiffness,\n        damping: springDefaults.damping,\n        mass: springDefaults.mass,\n        isResolvedFromDuration: false,\n        ...options,\n    };\n    // stiffness/damping/mass overrides duration/bounce\n    if (!isSpringType(options, physicsKeys) &&\n        isSpringType(options, durationKeys)) {\n        if (options.visualDuration) {\n            const visualDuration = options.visualDuration;\n            const root = (2 * Math.PI) / (visualDuration * 1.2);\n            const stiffness = root * root;\n            const damping = 2 *\n                clamp(0.05, 1, 1 - (options.bounce || 0)) *\n                Math.sqrt(stiffness);\n            springOptions = {\n                ...springOptions,\n                mass: springDefaults.mass,\n                stiffness,\n                damping,\n            };\n        }\n        else {\n            const derived = findSpring(options);\n            springOptions = {\n                ...springOptions,\n                ...derived,\n                mass: springDefaults.mass,\n            };\n            springOptions.isResolvedFromDuration = true;\n        }\n    }\n    return springOptions;\n}\nfunction spring(optionsOrVisualDuration = springDefaults.visualDuration, bounce = springDefaults.bounce) {\n    const options = typeof optionsOrVisualDuration !== \"object\"\n        ? {\n            visualDuration: optionsOrVisualDuration,\n            keyframes: [0, 1],\n            bounce,\n        }\n        : optionsOrVisualDuration;\n    let { restSpeed, restDelta } = options;\n    const origin = options.keyframes[0];\n    const target = options.keyframes[options.keyframes.length - 1];\n    /**\n     * This is the Iterator-spec return value. We ensure it's mutable rather than using a generator\n     * to reduce GC during animation.\n     */\n    const state = { done: false, value: origin };\n    const { stiffness, damping, mass, duration, velocity, isResolvedFromDuration, } = getSpringOptions({\n        ...options,\n        velocity: -millisecondsToSeconds(options.velocity || 0),\n    });\n    const initialVelocity = velocity || 0.0;\n    const dampingRatio = damping / (2 * Math.sqrt(stiffness * mass));\n    const initialDelta = target - origin;\n    const undampedAngularFreq = millisecondsToSeconds(Math.sqrt(stiffness / mass));\n    /**\n     * If we're working on a granular scale, use smaller defaults for determining\n     * when the spring is finished.\n     *\n     * These defaults have been selected emprically based on what strikes a good\n     * ratio between feeling good and finishing as soon as changes are imperceptible.\n     */\n    const isGranularScale = Math.abs(initialDelta) < 5;\n    restSpeed || (restSpeed = isGranularScale\n        ? springDefaults.restSpeed.granular\n        : springDefaults.restSpeed.default);\n    restDelta || (restDelta = isGranularScale\n        ? springDefaults.restDelta.granular\n        : springDefaults.restDelta.default);\n    let resolveSpring;\n    if (dampingRatio < 1) {\n        const angularFreq = calcAngularFreq(undampedAngularFreq, dampingRatio);\n        // Underdamped spring\n        resolveSpring = (t) => {\n            const envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n            return (target -\n                envelope *\n                    (((initialVelocity +\n                        dampingRatio * undampedAngularFreq * initialDelta) /\n                        angularFreq) *\n                        Math.sin(angularFreq * t) +\n                        initialDelta * Math.cos(angularFreq * t)));\n        };\n    }\n    else if (dampingRatio === 1) {\n        // Critically damped spring\n        resolveSpring = (t) => target -\n            Math.exp(-undampedAngularFreq * t) *\n                (initialDelta +\n                    (initialVelocity + undampedAngularFreq * initialDelta) * t);\n    }\n    else {\n        // Overdamped spring\n        const dampedAngularFreq = undampedAngularFreq * Math.sqrt(dampingRatio * dampingRatio - 1);\n        resolveSpring = (t) => {\n            const envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n            // When performing sinh or cosh values can hit Infinity so we cap them here\n            const freqForT = Math.min(dampedAngularFreq * t, 300);\n            return (target -\n                (envelope *\n                    ((initialVelocity +\n                        dampingRatio * undampedAngularFreq * initialDelta) *\n                        Math.sinh(freqForT) +\n                        dampedAngularFreq *\n                            initialDelta *\n                            Math.cosh(freqForT))) /\n                    dampedAngularFreq);\n        };\n    }\n    const generator = {\n        calculatedDuration: isResolvedFromDuration ? duration || null : null,\n        next: (t) => {\n            const current = resolveSpring(t);\n            if (!isResolvedFromDuration) {\n                let currentVelocity = t === 0 ? initialVelocity : 0.0;\n                /**\n                 * We only need to calculate velocity for under-damped springs\n                 * as over- and critically-damped springs can't overshoot, so\n                 * checking only for displacement is enough.\n                 */\n                if (dampingRatio < 1) {\n                    currentVelocity =\n                        t === 0\n                            ? secondsToMilliseconds(initialVelocity)\n                            : calcGeneratorVelocity(resolveSpring, t, current);\n                }\n                const isBelowVelocityThreshold = Math.abs(currentVelocity) <= restSpeed;\n                const isBelowDisplacementThreshold = Math.abs(target - current) <= restDelta;\n                state.done =\n                    isBelowVelocityThreshold && isBelowDisplacementThreshold;\n            }\n            else {\n                state.done = t >= duration;\n            }\n            state.value = state.done ? target : current;\n            return state;\n        },\n        toString: () => {\n            const calculatedDuration = Math.min(calcGeneratorDuration(generator), maxGeneratorDuration);\n            const easing = generateLinearEasing((progress) => generator.next(calculatedDuration * progress).value, calculatedDuration, 30);\n            return calculatedDuration + \"ms \" + easing;\n        },\n        toTransition: () => { },\n    };\n    return generator;\n}\nspring.applyToOptions = (options) => {\n    const generatorOptions = createGeneratorEasing(options, 100, spring);\n    options.ease = generatorOptions.ease;\n    options.duration = secondsToMilliseconds(generatorOptions.duration);\n    options.type = \"keyframes\";\n    return options;\n};\n\nexport { spring };\n","import { spring } from './spring/index.mjs';\nimport { calcGeneratorVelocity } from './utils/velocity.mjs';\n\nfunction inertia({ keyframes, velocity = 0.0, power = 0.8, timeConstant = 325, bounceDamping = 10, bounceStiffness = 500, modifyTarget, min, max, restDelta = 0.5, restSpeed, }) {\n    const origin = keyframes[0];\n    const state = {\n        done: false,\n        value: origin,\n    };\n    const isOutOfBounds = (v) => (min !== undefined && v < min) || (max !== undefined && v > max);\n    const nearestBoundary = (v) => {\n        if (min === undefined)\n            return max;\n        if (max === undefined)\n            return min;\n        return Math.abs(min - v) < Math.abs(max - v) ? min : max;\n    };\n    let amplitude = power * velocity;\n    const ideal = origin + amplitude;\n    const target = modifyTarget === undefined ? ideal : modifyTarget(ideal);\n    /**\n     * If the target has changed we need to re-calculate the amplitude, otherwise\n     * the animation will start from the wrong position.\n     */\n    if (target !== ideal)\n        amplitude = target - origin;\n    const calcDelta = (t) => -amplitude * Math.exp(-t / timeConstant);\n    const calcLatest = (t) => target + calcDelta(t);\n    const applyFriction = (t) => {\n        const delta = calcDelta(t);\n        const latest = calcLatest(t);\n        state.done = Math.abs(delta) <= restDelta;\n        state.value = state.done ? target : latest;\n    };\n    /**\n     * Ideally this would resolve for t in a stateless way, we could\n     * do that by always precalculating the animation but as we know\n     * this will be done anyway we can assume that spring will\n     * be discovered during that.\n     */\n    let timeReachedBoundary;\n    let spring$1;\n    const checkCatchBoundary = (t) => {\n        if (!isOutOfBounds(state.value))\n            return;\n        timeReachedBoundary = t;\n        spring$1 = spring({\n            keyframes: [state.value, nearestBoundary(state.value)],\n            velocity: calcGeneratorVelocity(calcLatest, t, state.value), // TODO: This should be passing * 1000\n            damping: bounceDamping,\n            stiffness: bounceStiffness,\n            restDelta,\n            restSpeed,\n        });\n    };\n    checkCatchBoundary(0);\n    return {\n        calculatedDuration: null,\n        next: (t) => {\n            /**\n             * We need to resolve the friction to figure out if we need a\n             * spring but we don't want to do this twice per frame. So here\n             * we flag if we updated for this frame and later if we did\n             * we can skip doing it again.\n             */\n            let hasUpdatedFrame = false;\n            if (!spring$1 && timeReachedBoundary === undefined) {\n                hasUpdatedFrame = true;\n                applyFriction(t);\n                checkCatchBoundary(t);\n            }\n            /**\n             * If we have a spring and the provided t is beyond the moment the friction\n             * animation crossed the min/max boundary, use the spring.\n             */\n            if (timeReachedBoundary !== undefined && t >= timeReachedBoundary) {\n                return spring$1.next(t - timeReachedBoundary);\n            }\n            else {\n                !hasUpdatedFrame && applyFriction(t);\n                return state;\n            }\n        },\n    };\n}\n\nexport { inertia };\n","import { millisecondsToSeconds } from 'motion-utils';\nimport { calcGeneratorDuration, maxGeneratorDuration } from './calc-duration.mjs';\n\n/**\n * Create a progress => progress easing function from a generator.\n */\nfunction createGeneratorEasing(options, scale = 100, createGenerator) {\n    const generator = createGenerator({ ...options, keyframes: [0, scale] });\n    const duration = Math.min(calcGeneratorDuration(generator), maxGeneratorDuration);\n    return {\n        type: \"keyframes\",\n        ease: (progress) => {\n            return generator.next(duration * progress).value / scale;\n        },\n        duration: millisecondsToSeconds(duration),\n    };\n}\n\nexport { createGeneratorEasing };\n","import { noop } from '../noop.mjs';\n\n/*\n  Bezier function generator\n  This has been modified from Gatan Renaudeau's BezierEasing\n  https://github.com/gre/bezier-easing/blob/master/src/index.js\n  https://github.com/gre/bezier-easing/blob/master/LICENSE\n  \n  I've removed the newtonRaphsonIterate algo because in benchmarking it\n  wasn't noticeably faster than binarySubdivision, indeed removing it\n  usually improved times, depending on the curve.\n  I also removed the lookup table, as for the added bundle size and loop we're\n  only cutting ~4 or so subdivision iterations. I bumped the max iterations up\n  to 12 to compensate and this still tended to be faster for no perceivable\n  loss in accuracy.\n  Usage\n    const easeOut = cubicBezier(.17,.67,.83,.67);\n    const x = easeOut(0.5); // returns 0.627...\n*/\n// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\nconst calcBezier = (t, a1, a2) => (((1.0 - 3.0 * a2 + 3.0 * a1) * t + (3.0 * a2 - 6.0 * a1)) * t + 3.0 * a1) *\n    t;\nconst subdivisionPrecision = 0.0000001;\nconst subdivisionMaxIterations = 12;\nfunction binarySubdivide(x, lowerBound, upperBound, mX1, mX2) {\n    let currentX;\n    let currentT;\n    let i = 0;\n    do {\n        currentT = lowerBound + (upperBound - lowerBound) / 2.0;\n        currentX = calcBezier(currentT, mX1, mX2) - x;\n        if (currentX > 0.0) {\n            upperBound = currentT;\n        }\n        else {\n            lowerBound = currentT;\n        }\n    } while (Math.abs(currentX) > subdivisionPrecision &&\n        ++i < subdivisionMaxIterations);\n    return currentT;\n}\nfunction cubicBezier(mX1, mY1, mX2, mY2) {\n    // If this is a linear gradient, return linear easing\n    if (mX1 === mY1 && mX2 === mY2)\n        return noop;\n    const getTForX = (aX) => binarySubdivide(aX, 0, 1, mX1, mX2);\n    // If animation is at start/end, return t without easing\n    return (t) => t === 0 || t === 1 ? t : calcBezier(getTForX(t), mY1, mY2);\n}\n\nexport { cubicBezier };\n","import { cubicBezier } from './cubic-bezier.mjs';\n\nconst easeIn = /*@__PURE__*/ cubicBezier(0.42, 0, 1, 1);\nconst easeOut = /*@__PURE__*/ cubicBezier(0, 0, 0.58, 1);\nconst easeInOut = /*@__PURE__*/ cubicBezier(0.42, 0, 0.58, 1);\n\nexport { easeIn, easeInOut, easeOut };\n","// Accepts an easing function and returns a new one that outputs mirrored values for\n// the second half of the animation. Turns easeIn into easeInOut.\nconst mirrorEasing = (easing) => (p) => p <= 0.5 ? easing(2 * p) / 2 : (2 - easing(2 * (1 - p))) / 2;\n\nexport { mirrorEasing };\n","// Accepts an easing function and returns a new one that outputs reversed values.\n// Turns easeIn into easeOut.\nconst reverseEasing = (easing) => (p) => 1 - easing(1 - p);\n\nexport { reverseEasing };\n","import { cubicBezier } from './cubic-bezier.mjs';\nimport { mirrorEasing } from './modifiers/mirror.mjs';\nimport { reverseEasing } from './modifiers/reverse.mjs';\n\nconst backOut = /*@__PURE__*/ cubicBezier(0.33, 1.53, 0.69, 0.99);\nconst backIn = /*@__PURE__*/ reverseEasing(backOut);\nconst backInOut = /*@__PURE__*/ mirrorEasing(backIn);\n\nexport { backIn, backInOut, backOut };\n","import { backIn } from './back.mjs';\n\nconst anticipate = (p) => (p *= 2) < 1 ? 0.5 * backIn(p) : 0.5 * (2 - Math.pow(2, -10 * (p - 1)));\n\nexport { anticipate };\n","import { mirrorEasing } from './modifiers/mirror.mjs';\nimport { reverseEasing } from './modifiers/reverse.mjs';\n\nconst circIn = (p) => 1 - Math.sin(Math.acos(p));\nconst circOut = reverseEasing(circIn);\nconst circInOut = mirrorEasing(circIn);\n\nexport { circIn, circInOut, circOut };\n","const isBezierDefinition = (easing) => Array.isArray(easing) && typeof easing[0] === \"number\";\n\nexport { isBezierDefinition };\n","import { invariant } from '../../errors.mjs';\nimport { noop } from '../../noop.mjs';\nimport { anticipate } from '../anticipate.mjs';\nimport { backIn, backInOut, backOut } from '../back.mjs';\nimport { circIn, circInOut, circOut } from '../circ.mjs';\nimport { cubicBezier } from '../cubic-bezier.mjs';\nimport { easeIn, easeInOut, easeOut } from '../ease.mjs';\nimport { isBezierDefinition } from './is-bezier-definition.mjs';\n\nconst easingLookup = {\n    linear: noop,\n    easeIn,\n    easeInOut,\n    easeOut,\n    circIn,\n    circInOut,\n    circOut,\n    backIn,\n    backInOut,\n    backOut,\n    anticipate,\n};\nconst isValidEasing = (easing) => {\n    return typeof easing === \"string\";\n};\nconst easingDefinitionToFunction = (definition) => {\n    if (isBezierDefinition(definition)) {\n        // If cubic bezier definition, create bezier curve\n        invariant(definition.length === 4, `Cubic bezier arrays must contain four numerical values.`, \"cubic-bezier-length\");\n        const [x1, y1, x2, y2] = definition;\n        return cubicBezier(x1, y1, x2, y2);\n    }\n    else if (isValidEasing(definition)) {\n        // Else lookup from table\n        invariant(easingLookup[definition] !== undefined, `Invalid easing type '${definition}'`, \"invalid-easing-type\");\n        return easingLookup[definition];\n    }\n    return definition;\n};\n\nexport { easingDefinitionToFunction };\n","/*\n  Progress within given range\n\n  Given a lower limit and an upper limit, we return the progress\n  (expressed as a number 0-1) represented by the given value, and\n  limit that progress to within 0-1.\n\n  @param [number]: Lower limit\n  @param [number]: Upper limit\n  @param [number]: Value to find progress within given range\n  @return [number]: Progress of value within range as expressed 0-1\n*/\n/*#__NO_SIDE_EFFECTS__*/\nconst progress = (from, to, value) => {\n    const toFromDifference = to - from;\n    return toFromDifference === 0 ? 1 : (value - from) / toFromDifference;\n};\n\nexport { progress };\n","import { invariant, clamp, MotionGlobalConfig, noop, pipe, progress } from 'motion-utils';\nimport { mix } from './mix/index.mjs';\n\nfunction createMixers(output, ease, customMixer) {\n    const mixers = [];\n    const mixerFactory = customMixer || MotionGlobalConfig.mix || mix;\n    const numMixers = output.length - 1;\n    for (let i = 0; i < numMixers; i++) {\n        let mixer = mixerFactory(output[i], output[i + 1]);\n        if (ease) {\n            const easingFunction = Array.isArray(ease) ? ease[i] || noop : ease;\n            mixer = pipe(easingFunction, mixer);\n        }\n        mixers.push(mixer);\n    }\n    return mixers;\n}\n/**\n * Create a function that maps from a numerical input array to a generic output array.\n *\n * Accepts:\n *   - Numbers\n *   - Colors (hex, hsl, hsla, rgb, rgba)\n *   - Complex (combinations of one or more numbers or strings)\n *\n * ```jsx\n * const mixColor = interpolate([0, 1], ['#fff', '#000'])\n *\n * mixColor(0.5) // 'rgba(128, 128, 128, 1)'\n * ```\n *\n * TODO Revisit this approach once we've moved to data models for values,\n * probably not needed to pregenerate mixer functions.\n *\n * @public\n */\nfunction interpolate(input, output, { clamp: isClamp = true, ease, mixer } = {}) {\n    const inputLength = input.length;\n    invariant(inputLength === output.length, \"Both input and output ranges must be the same length\", \"range-length\");\n    /**\n     * If we're only provided a single input, we can just make a function\n     * that returns the output.\n     */\n    if (inputLength === 1)\n        return () => output[0];\n    if (inputLength === 2 && output[0] === output[1])\n        return () => output[1];\n    const isZeroDeltaRange = input[0] === input[1];\n    // If input runs highest -> lowest, reverse both arrays\n    if (input[0] > input[inputLength - 1]) {\n        input = [...input].reverse();\n        output = [...output].reverse();\n    }\n    const mixers = createMixers(output, ease, mixer);\n    const numMixers = mixers.length;\n    const interpolator = (v) => {\n        if (isZeroDeltaRange && v < input[0])\n            return output[0];\n        let i = 0;\n        if (numMixers > 1) {\n            for (; i < input.length - 2; i++) {\n                if (v < input[i + 1])\n                    break;\n            }\n        }\n        const progressInRange = progress(input[i], input[i + 1], v);\n        return mixers[i](progressInRange);\n    };\n    return isClamp\n        ? (v) => interpolator(clamp(input[0], input[inputLength - 1], v))\n        : interpolator;\n}\n\nexport { interpolate };\n","import { fillOffset } from './fill.mjs';\n\nfunction defaultOffset(arr) {\n    const offset = [0];\n    fillOffset(offset, arr.length - 1);\n    return offset;\n}\n\nexport { defaultOffset };\n","import { progress } from 'motion-utils';\nimport { mixNumber } from '../../../utils/mix/number.mjs';\n\nfunction fillOffset(offset, remaining) {\n    const min = offset[offset.length - 1];\n    for (let i = 1; i <= remaining; i++) {\n        const offsetProgress = progress(0, remaining, i);\n        offset.push(mixNumber(min, 1, offsetProgress));\n    }\n}\n\nexport { fillOffset };\n","import { easeInOut, isEasingArray, easingDefinitionToFunction } from 'motion-utils';\nimport { interpolate } from '../../utils/interpolate.mjs';\nimport { defaultOffset } from '../keyframes/offsets/default.mjs';\nimport { convertOffsetToTimes } from '../keyframes/offsets/time.mjs';\n\nfunction defaultEasing(values, easing) {\n    return values.map(() => easing || easeInOut).splice(0, values.length - 1);\n}\nfunction keyframes({ duration = 300, keyframes: keyframeValues, times, ease = \"easeInOut\", }) {\n    /**\n     * Easing functions can be externally defined as strings. Here we convert them\n     * into actual functions.\n     */\n    const easingFunctions = isEasingArray(ease)\n        ? ease.map(easingDefinitionToFunction)\n        : easingDefinitionToFunction(ease);\n    /**\n     * This is the Iterator-spec return value. We ensure it's mutable rather than using a generator\n     * to reduce GC during animation.\n     */\n    const state = {\n        done: false,\n        value: keyframeValues[0],\n    };\n    /**\n     * Create a times array based on the provided 0-1 offsets\n     */\n    const absoluteTimes = convertOffsetToTimes(\n    // Only use the provided offsets if they're the correct length\n    // TODO Maybe we should warn here if there's a length mismatch\n    times && times.length === keyframeValues.length\n        ? times\n        : defaultOffset(keyframeValues), duration);\n    const mapTimeToKeyframe = interpolate(absoluteTimes, keyframeValues, {\n        ease: Array.isArray(easingFunctions)\n            ? easingFunctions\n            : defaultEasing(keyframeValues, easingFunctions),\n    });\n    return {\n        calculatedDuration: duration,\n        next: (t) => {\n            state.value = mapTimeToKeyframe(t);\n            state.done = t >= duration;\n            return state;\n        },\n    };\n}\n\nexport { defaultEasing, keyframes };\n","const isEasingArray = (ease) => {\n    return Array.isArray(ease) && typeof ease[0] !== \"number\";\n};\n\nexport { isEasingArray };\n","function convertOffsetToTimes(offset, duration) {\n    return offset.map((o) => o * duration);\n}\n\nexport { convertOffsetToTimes };\n","const isNotNull = (value) => value !== null;\nfunction getFinalKeyframe(keyframes, { repeat, repeatType = \"loop\" }, finalKeyframe, speed = 1) {\n    const resolvedKeyframes = keyframes.filter(isNotNull);\n    const useFirstKeyframe = speed < 0 || (repeat && repeatType !== \"loop\" && repeat % 2 === 1);\n    const index = useFirstKeyframe ? 0 : resolvedKeyframes.length - 1;\n    return !index || finalKeyframe === undefined\n        ? resolvedKeyframes[index]\n        : finalKeyframe;\n}\n\nexport { getFinalKeyframe };\n","import { inertia } from '../generators/inertia.mjs';\nimport { keyframes } from '../generators/keyframes.mjs';\nimport { spring } from '../generators/spring/index.mjs';\n\nconst transitionTypeMap = {\n    decay: inertia,\n    inertia,\n    tween: keyframes,\n    keyframes: keyframes,\n    spring,\n};\nfunction replaceTransitionType(transition) {\n    if (typeof transition.type === \"string\") {\n        transition.type = transitionTypeMap[transition.type];\n    }\n}\n\nexport { replaceTransitionType };\n","class WithPromise {\n    constructor() {\n        this.updateFinished();\n    }\n    get finished() {\n        return this._finished;\n    }\n    updateFinished() {\n        this._finished = new Promise((resolve) => {\n            this.resolve = resolve;\n        });\n    }\n    notifyFinished() {\n        this.resolve();\n    }\n    /**\n     * Allows the animation to be awaited.\n     *\n     * @deprecated Use `finished` instead.\n     */\n    then(onResolve, onReject) {\n        return this.finished.then(onResolve, onReject);\n    }\n}\n\nexport { WithPromise };\n","import { invariant, pipe, clamp, millisecondsToSeconds, secondsToMilliseconds } from 'motion-utils';\nimport { time } from '../frameloop/sync-time.mjs';\nimport { activeAnimations } from '../stats/animation-count.mjs';\nimport { mix } from '../utils/mix/index.mjs';\nimport { frameloopDriver } from './drivers/frame.mjs';\nimport { inertia } from './generators/inertia.mjs';\nimport { keyframes } from './generators/keyframes.mjs';\nimport { calcGeneratorDuration } from './generators/utils/calc-duration.mjs';\nimport { getFinalKeyframe } from './keyframes/get-final.mjs';\nimport { replaceTransitionType } from './utils/replace-transition-type.mjs';\nimport { WithPromise } from './utils/WithPromise.mjs';\n\nconst percentToProgress = (percent) => percent / 100;\nclass JSAnimation extends WithPromise {\n    constructor(options) {\n        super();\n        this.state = \"idle\";\n        this.startTime = null;\n        this.isStopped = false;\n        /**\n         * The current time of the animation.\n         */\n        this.currentTime = 0;\n        /**\n         * The time at which the animation was paused.\n         */\n        this.holdTime = null;\n        /**\n         * Playback speed as a factor. 0 would be stopped, -1 reverse and 2 double speed.\n         */\n        this.playbackSpeed = 1;\n        /**\n         * This method is bound to the instance to fix a pattern where\n         * animation.stop is returned as a reference from a useEffect.\n         */\n        this.stop = () => {\n            const { motionValue } = this.options;\n            if (motionValue && motionValue.updatedAt !== time.now()) {\n                this.tick(time.now());\n            }\n            this.isStopped = true;\n            if (this.state === \"idle\")\n                return;\n            this.teardown();\n            this.options.onStop?.();\n        };\n        activeAnimations.mainThread++;\n        this.options = options;\n        this.initAnimation();\n        this.play();\n        if (options.autoplay === false)\n            this.pause();\n    }\n    initAnimation() {\n        const { options } = this;\n        replaceTransitionType(options);\n        const { type = keyframes, repeat = 0, repeatDelay = 0, repeatType, velocity = 0, } = options;\n        let { keyframes: keyframes$1 } = options;\n        const generatorFactory = type || keyframes;\n        if (process.env.NODE_ENV !== \"production\" &&\n            generatorFactory !== keyframes) {\n            invariant(keyframes$1.length <= 2, `Only two keyframes currently supported with spring and inertia animations. Trying to animate ${keyframes$1}`, \"spring-two-frames\");\n        }\n        if (generatorFactory !== keyframes &&\n            typeof keyframes$1[0] !== \"number\") {\n            this.mixKeyframes = pipe(percentToProgress, mix(keyframes$1[0], keyframes$1[1]));\n            keyframes$1 = [0, 100];\n        }\n        const generator = generatorFactory({ ...options, keyframes: keyframes$1 });\n        /**\n         * If we have a mirror repeat type we need to create a second generator that outputs the\n         * mirrored (not reversed) animation and later ping pong between the two generators.\n         */\n        if (repeatType === \"mirror\") {\n            this.mirroredGenerator = generatorFactory({\n                ...options,\n                keyframes: [...keyframes$1].reverse(),\n                velocity: -velocity,\n            });\n        }\n        /**\n         * If duration is undefined and we have repeat options,\n         * we need to calculate a duration from the generator.\n         *\n         * We set it to the generator itself to cache the duration.\n         * Any timeline resolver will need to have already precalculated\n         * the duration by this step.\n         */\n        if (generator.calculatedDuration === null) {\n            generator.calculatedDuration = calcGeneratorDuration(generator);\n        }\n        const { calculatedDuration } = generator;\n        this.calculatedDuration = calculatedDuration;\n        this.resolvedDuration = calculatedDuration + repeatDelay;\n        this.totalDuration = this.resolvedDuration * (repeat + 1) - repeatDelay;\n        this.generator = generator;\n    }\n    updateTime(timestamp) {\n        const animationTime = Math.round(timestamp - this.startTime) * this.playbackSpeed;\n        // Update currentTime\n        if (this.holdTime !== null) {\n            this.currentTime = this.holdTime;\n        }\n        else {\n            // Rounding the time because floating point arithmetic is not always accurate, e.g. 3000.367 - 1000.367 =\n            // 2000.0000000000002. This is a problem when we are comparing the currentTime with the duration, for\n            // example.\n            this.currentTime = animationTime;\n        }\n    }\n    tick(timestamp, sample = false) {\n        const { generator, totalDuration, mixKeyframes, mirroredGenerator, resolvedDuration, calculatedDuration, } = this;\n        if (this.startTime === null)\n            return generator.next(0);\n        const { delay = 0, keyframes, repeat, repeatType, repeatDelay, type, onUpdate, finalKeyframe, } = this.options;\n        /**\n         * requestAnimationFrame timestamps can come through as lower than\n         * the startTime as set by performance.now(). Here we prevent this,\n         * though in the future it could be possible to make setting startTime\n         * a pending operation that gets resolved here.\n         */\n        if (this.speed > 0) {\n            this.startTime = Math.min(this.startTime, timestamp);\n        }\n        else if (this.speed < 0) {\n            this.startTime = Math.min(timestamp - totalDuration / this.speed, this.startTime);\n        }\n        if (sample) {\n            this.currentTime = timestamp;\n        }\n        else {\n            this.updateTime(timestamp);\n        }\n        // Rebase on delay\n        const timeWithoutDelay = this.currentTime - delay * (this.playbackSpeed >= 0 ? 1 : -1);\n        const isInDelayPhase = this.playbackSpeed >= 0\n            ? timeWithoutDelay < 0\n            : timeWithoutDelay > totalDuration;\n        this.currentTime = Math.max(timeWithoutDelay, 0);\n        // If this animation has finished, set the current time  to the total duration.\n        if (this.state === \"finished\" && this.holdTime === null) {\n            this.currentTime = totalDuration;\n        }\n        let elapsed = this.currentTime;\n        let frameGenerator = generator;\n        if (repeat) {\n            /**\n             * Get the current progress (0-1) of the animation. If t is >\n             * than duration we'll get values like 2.5 (midway through the\n             * third iteration)\n             */\n            const progress = Math.min(this.currentTime, totalDuration) / resolvedDuration;\n            /**\n             * Get the current iteration (0 indexed). For instance the floor of\n             * 2.5 is 2.\n             */\n            let currentIteration = Math.floor(progress);\n            /**\n             * Get the current progress of the iteration by taking the remainder\n             * so 2.5 is 0.5 through iteration 2\n             */\n            let iterationProgress = progress % 1.0;\n            /**\n             * If iteration progress is 1 we count that as the end\n             * of the previous iteration.\n             */\n            if (!iterationProgress && progress >= 1) {\n                iterationProgress = 1;\n            }\n            iterationProgress === 1 && currentIteration--;\n            currentIteration = Math.min(currentIteration, repeat + 1);\n            /**\n             * Reverse progress if we're not running in \"normal\" direction\n             */\n            const isOddIteration = Boolean(currentIteration % 2);\n            if (isOddIteration) {\n                if (repeatType === \"reverse\") {\n                    iterationProgress = 1 - iterationProgress;\n                    if (repeatDelay) {\n                        iterationProgress -= repeatDelay / resolvedDuration;\n                    }\n                }\n                else if (repeatType === \"mirror\") {\n                    frameGenerator = mirroredGenerator;\n                }\n            }\n            elapsed = clamp(0, 1, iterationProgress) * resolvedDuration;\n        }\n        /**\n         * If we're in negative time, set state as the initial keyframe.\n         * This prevents delay: x, duration: 0 animations from finishing\n         * instantly.\n         */\n        const state = isInDelayPhase\n            ? { done: false, value: keyframes[0] }\n            : frameGenerator.next(elapsed);\n        if (mixKeyframes) {\n            state.value = mixKeyframes(state.value);\n        }\n        let { done } = state;\n        if (!isInDelayPhase && calculatedDuration !== null) {\n            done =\n                this.playbackSpeed >= 0\n                    ? this.currentTime >= totalDuration\n                    : this.currentTime <= 0;\n        }\n        const isAnimationFinished = this.holdTime === null &&\n            (this.state === \"finished\" || (this.state === \"running\" && done));\n        // TODO: The exception for inertia could be cleaner here\n        if (isAnimationFinished && type !== inertia) {\n            state.value = getFinalKeyframe(keyframes, this.options, finalKeyframe, this.speed);\n        }\n        if (onUpdate) {\n            onUpdate(state.value);\n        }\n        if (isAnimationFinished) {\n            this.finish();\n        }\n        return state;\n    }\n    /**\n     * Allows the returned animation to be awaited or promise-chained. Currently\n     * resolves when the animation finishes at all but in a future update could/should\n     * reject if its cancels.\n     */\n    then(resolve, reject) {\n        return this.finished.then(resolve, reject);\n    }\n    get duration() {\n        return millisecondsToSeconds(this.calculatedDuration);\n    }\n    get iterationDuration() {\n        const { delay = 0 } = this.options || {};\n        return this.duration + millisecondsToSeconds(delay);\n    }\n    get time() {\n        return millisecondsToSeconds(this.currentTime);\n    }\n    set time(newTime) {\n        newTime = secondsToMilliseconds(newTime);\n        this.currentTime = newTime;\n        if (this.startTime === null ||\n            this.holdTime !== null ||\n            this.playbackSpeed === 0) {\n            this.holdTime = newTime;\n        }\n        else if (this.driver) {\n            this.startTime = this.driver.now() - newTime / this.playbackSpeed;\n        }\n        this.driver?.start(false);\n    }\n    get speed() {\n        return this.playbackSpeed;\n    }\n    set speed(newSpeed) {\n        this.updateTime(time.now());\n        const hasChanged = this.playbackSpeed !== newSpeed;\n        this.playbackSpeed = newSpeed;\n        if (hasChanged) {\n            this.time = millisecondsToSeconds(this.currentTime);\n        }\n    }\n    play() {\n        if (this.isStopped)\n            return;\n        const { driver = frameloopDriver, startTime } = this.options;\n        if (!this.driver) {\n            this.driver = driver((timestamp) => this.tick(timestamp));\n        }\n        this.options.onPlay?.();\n        const now = this.driver.now();\n        if (this.state === \"finished\") {\n            this.updateFinished();\n            this.startTime = now;\n        }\n        else if (this.holdTime !== null) {\n            this.startTime = now - this.holdTime;\n        }\n        else if (!this.startTime) {\n            this.startTime = startTime ?? now;\n        }\n        if (this.state === \"finished\" && this.speed < 0) {\n            this.startTime += this.calculatedDuration;\n        }\n        this.holdTime = null;\n        /**\n         * Set playState to running only after we've used it in\n         * the previous logic.\n         */\n        this.state = \"running\";\n        this.driver.start();\n    }\n    pause() {\n        this.state = \"paused\";\n        this.updateTime(time.now());\n        this.holdTime = this.currentTime;\n    }\n    complete() {\n        if (this.state !== \"running\") {\n            this.play();\n        }\n        this.state = \"finished\";\n        this.holdTime = null;\n    }\n    finish() {\n        this.notifyFinished();\n        this.teardown();\n        this.state = \"finished\";\n        this.options.onComplete?.();\n    }\n    cancel() {\n        this.holdTime = null;\n        this.startTime = 0;\n        this.tick(0);\n        this.teardown();\n        this.options.onCancel?.();\n    }\n    teardown() {\n        this.state = \"idle\";\n        this.stopDriver();\n        this.startTime = this.holdTime = null;\n        activeAnimations.mainThread--;\n    }\n    stopDriver() {\n        if (!this.driver)\n            return;\n        this.driver.stop();\n        this.driver = undefined;\n    }\n    sample(sampleTime) {\n        this.startTime = 0;\n        return this.tick(sampleTime, true);\n    }\n    attachTimeline(timeline) {\n        if (this.options.allowFlatten) {\n            this.options.type = \"keyframes\";\n            this.options.ease = \"linear\";\n            this.initAnimation();\n        }\n        this.driver?.stop();\n        return timeline.observe(this);\n    }\n}\n// Legacy function support\nfunction animateValue(options) {\n    return new JSAnimation(options);\n}\n\nexport { JSAnimation, animateValue };\n","/*#__NO_SIDE_EFFECTS__*/\nfunction memo(callback) {\n    let result;\n    return () => {\n        if (result === undefined)\n            result = callback();\n        return result;\n    };\n}\n\nexport { memo };\n","import { memo } from 'motion-utils';\n\nconst supportsScrollTimeline = /* @__PURE__ */ memo(() => window.ScrollTimeline !== undefined);\n\nexport { supportsScrollTimeline };\n","/**\n * Add the ability for test suites to manually set support flags\n * to better test more environments.\n */\nconst supportsFlags = {};\n\nexport { supportsFlags };\n","import { memo } from 'motion-utils';\nimport { supportsFlags } from './flags.mjs';\n\nfunction memoSupports(callback, supportsFlag) {\n    const memoized = memo(callback);\n    return () => supportsFlags[supportsFlag] ?? memoized();\n}\n\nexport { memoSupports };\n","import { memoSupports } from './memo.mjs';\n\nconst supportsLinearEasing = /*@__PURE__*/ memoSupports(() => {\n    try {\n        document\n            .createElement(\"div\")\n            .animate({ opacity: 0 }, { easing: \"linear(0, 1)\" });\n    }\n    catch (e) {\n        return false;\n    }\n    return true;\n}, \"linearEasing\");\n\nexport { supportsLinearEasing };\n","const cubicBezierAsString = ([a, b, c, d]) => `cubic-bezier(${a}, ${b}, ${c}, ${d})`;\n\nexport { cubicBezierAsString };\n","import { cubicBezierAsString } from './cubic-bezier.mjs';\n\nconst supportedWaapiEasing = {\n    linear: \"linear\",\n    ease: \"ease\",\n    easeIn: \"ease-in\",\n    easeOut: \"ease-out\",\n    easeInOut: \"ease-in-out\",\n    circIn: /*@__PURE__*/ cubicBezierAsString([0, 0.65, 0.55, 1]),\n    circOut: /*@__PURE__*/ cubicBezierAsString([0.55, 0, 1, 0.45]),\n    backIn: /*@__PURE__*/ cubicBezierAsString([0.31, 0.01, 0.66, -0.59]),\n    backOut: /*@__PURE__*/ cubicBezierAsString([0.33, 1.53, 0.69, 0.99]),\n};\n\nexport { supportedWaapiEasing };\n","import { isBezierDefinition } from 'motion-utils';\nimport { supportsLinearEasing } from '../../../utils/supports/linear-easing.mjs';\nimport { generateLinearEasing } from '../utils/linear.mjs';\nimport { cubicBezierAsString } from './cubic-bezier.mjs';\nimport { supportedWaapiEasing } from './supported.mjs';\n\nfunction mapEasingToNativeEasing(easing, duration) {\n    if (!easing) {\n        return undefined;\n    }\n    else if (typeof easing === \"function\") {\n        return supportsLinearEasing()\n            ? generateLinearEasing(easing, duration)\n            : \"ease-out\";\n    }\n    else if (isBezierDefinition(easing)) {\n        return cubicBezierAsString(easing);\n    }\n    else if (Array.isArray(easing)) {\n        return easing.map((segmentEasing) => mapEasingToNativeEasing(segmentEasing, duration) ||\n            supportedWaapiEasing.easeOut);\n    }\n    else {\n        return supportedWaapiEasing[easing];\n    }\n}\n\nexport { mapEasingToNativeEasing };\n","import { activeAnimations } from '../../stats/animation-count.mjs';\nimport { statsBuffer } from '../../stats/buffer.mjs';\nimport { mapEasingToNativeEasing } from './easing/map-easing.mjs';\n\nfunction startWaapiAnimation(element, valueName, keyframes, { delay = 0, duration = 300, repeat = 0, repeatType = \"loop\", ease = \"easeOut\", times, } = {}, pseudoElement = undefined) {\n    const keyframeOptions = {\n        [valueName]: keyframes,\n    };\n    if (times)\n        keyframeOptions.offset = times;\n    const easing = mapEasingToNativeEasing(ease, duration);\n    /**\n     * If this is an easing array, apply to keyframes, not animation as a whole\n     */\n    if (Array.isArray(easing))\n        keyframeOptions.easing = easing;\n    if (statsBuffer.value) {\n        activeAnimations.waapi++;\n    }\n    const options = {\n        delay,\n        duration,\n        easing: !Array.isArray(easing) ? easing : \"linear\",\n        fill: \"both\",\n        iterations: repeat + 1,\n        direction: repeatType === \"reverse\" ? \"alternate\" : \"normal\",\n    };\n    if (pseudoElement)\n        options.pseudoElement = pseudoElement;\n    const animation = element.animate(keyframeOptions, options);\n    if (statsBuffer.value) {\n        animation.finished.finally(() => {\n            activeAnimations.waapi--;\n        });\n    }\n    return animation;\n}\n\nexport { startWaapiAnimation };\n","function isGenerator(type) {\n    return typeof type === \"function\" && \"applyToOptions\" in type;\n}\n\nexport { isGenerator };\n","import { invariant, millisecondsToSeconds, secondsToMilliseconds, noop } from 'motion-utils';\nimport { setStyle } from '../render/dom/style-set.mjs';\nimport { supportsScrollTimeline } from '../utils/supports/scroll-timeline.mjs';\nimport { getFinalKeyframe } from './keyframes/get-final.mjs';\nimport { WithPromise } from './utils/WithPromise.mjs';\nimport { startWaapiAnimation } from './waapi/start-waapi-animation.mjs';\nimport { applyGeneratorOptions } from './waapi/utils/apply-generator.mjs';\n\n/**\n * NativeAnimation implements AnimationPlaybackControls for the browser's Web Animations API.\n */\nclass NativeAnimation extends WithPromise {\n    constructor(options) {\n        super();\n        this.finishedTime = null;\n        this.isStopped = false;\n        /**\n         * Tracks a manually-set start time that takes precedence over WAAPI's\n         * dynamic startTime. This is cleared when play() or time setter is called,\n         * allowing WAAPI to take over timing.\n         */\n        this.manualStartTime = null;\n        if (!options)\n            return;\n        const { element, name, keyframes, pseudoElement, allowFlatten = false, finalKeyframe, onComplete, } = options;\n        this.isPseudoElement = Boolean(pseudoElement);\n        this.allowFlatten = allowFlatten;\n        this.options = options;\n        invariant(typeof options.type !== \"string\", `Mini animate() doesn't support \"type\" as a string.`, \"mini-spring\");\n        const transition = applyGeneratorOptions(options);\n        this.animation = startWaapiAnimation(element, name, keyframes, transition, pseudoElement);\n        if (transition.autoplay === false) {\n            this.animation.pause();\n        }\n        this.animation.onfinish = () => {\n            this.finishedTime = this.time;\n            if (!pseudoElement) {\n                const keyframe = getFinalKeyframe(keyframes, this.options, finalKeyframe, this.speed);\n                if (this.updateMotionValue) {\n                    this.updateMotionValue(keyframe);\n                }\n                else {\n                    /**\n                     * If we can, we want to commit the final style as set by the user,\n                     * rather than the computed keyframe value supplied by the animation.\n                     */\n                    setStyle(element, name, keyframe);\n                }\n                this.animation.cancel();\n            }\n            onComplete?.();\n            this.notifyFinished();\n        };\n    }\n    play() {\n        if (this.isStopped)\n            return;\n        this.manualStartTime = null;\n        this.animation.play();\n        if (this.state === \"finished\") {\n            this.updateFinished();\n        }\n    }\n    pause() {\n        this.animation.pause();\n    }\n    complete() {\n        this.animation.finish?.();\n    }\n    cancel() {\n        try {\n            this.animation.cancel();\n        }\n        catch (e) { }\n    }\n    stop() {\n        if (this.isStopped)\n            return;\n        this.isStopped = true;\n        const { state } = this;\n        if (state === \"idle\" || state === \"finished\") {\n            return;\n        }\n        if (this.updateMotionValue) {\n            this.updateMotionValue();\n        }\n        else {\n            this.commitStyles();\n        }\n        if (!this.isPseudoElement)\n            this.cancel();\n    }\n    /**\n     * WAAPI doesn't natively have any interruption capabilities.\n     *\n     * In this method, we commit styles back to the DOM before cancelling\n     * the animation.\n     *\n     * This is designed to be overridden by NativeAnimationExtended, which\n     * will create a renderless JS animation and sample it twice to calculate\n     * its current value, \"previous\" value, and therefore allow\n     * Motion to also correctly calculate velocity for any subsequent animation\n     * while deferring the commit until the next animation frame.\n     */\n    commitStyles() {\n        if (!this.isPseudoElement) {\n            this.animation.commitStyles?.();\n        }\n    }\n    get duration() {\n        const duration = this.animation.effect?.getComputedTiming?.().duration || 0;\n        return millisecondsToSeconds(Number(duration));\n    }\n    get iterationDuration() {\n        const { delay = 0 } = this.options || {};\n        return this.duration + millisecondsToSeconds(delay);\n    }\n    get time() {\n        return millisecondsToSeconds(Number(this.animation.currentTime) || 0);\n    }\n    set time(newTime) {\n        this.manualStartTime = null;\n        this.finishedTime = null;\n        this.animation.currentTime = secondsToMilliseconds(newTime);\n    }\n    /**\n     * The playback speed of the animation.\n     * 1 = normal speed, 2 = double speed, 0.5 = half speed.\n     */\n    get speed() {\n        return this.animation.playbackRate;\n    }\n    set speed(newSpeed) {\n        // Allow backwards playback after finishing\n        if (newSpeed < 0)\n            this.finishedTime = null;\n        this.animation.playbackRate = newSpeed;\n    }\n    get state() {\n        return this.finishedTime !== null\n            ? \"finished\"\n            : this.animation.playState;\n    }\n    get startTime() {\n        return this.manualStartTime ?? Number(this.animation.startTime);\n    }\n    set startTime(newStartTime) {\n        this.manualStartTime = this.animation.startTime = newStartTime;\n    }\n    /**\n     * Attaches a timeline to the animation, for instance the `ScrollTimeline`.\n     */\n    attachTimeline({ timeline, observe }) {\n        if (this.allowFlatten) {\n            this.animation.effect?.updateTiming({ easing: \"linear\" });\n        }\n        this.animation.onfinish = null;\n        if (timeline && supportsScrollTimeline()) {\n            this.animation.timeline = timeline;\n            return noop;\n        }\n        else {\n            return observe(this);\n        }\n    }\n}\n\nexport { NativeAnimation };\n","import { supportsLinearEasing } from '../../../utils/supports/linear-easing.mjs';\nimport { isGenerator } from '../../generators/utils/is-generator.mjs';\n\nfunction applyGeneratorOptions({ type, ...options }) {\n    if (isGenerator(type) && supportsLinearEasing()) {\n        return type.applyToOptions(options);\n    }\n    else {\n        options.duration ?? (options.duration = 300);\n        options.ease ?? (options.ease = \"easeOut\");\n    }\n    return options;\n}\n\nexport { applyGeneratorOptions };\n","import { isCSSVar } from './is-css-var.mjs';\n\nfunction setStyle(element, name, value) {\n    isCSSVar(name)\n        ? element.style.setProperty(name, value)\n        : (element.style[name] = value);\n}\n\nexport { setStyle };\n","const isCSSVar = (name) => name.startsWith(\"--\");\n\nexport { isCSSVar };\n","import { anticipate, backInOut, circInOut } from 'motion-utils';\n\nconst unsupportedEasingFunctions = {\n    anticipate,\n    backInOut,\n    circInOut,\n};\nfunction isUnsupportedEase(key) {\n    return key in unsupportedEasingFunctions;\n}\nfunction replaceStringEasing(transition) {\n    if (typeof transition.ease === \"string\" &&\n        isUnsupportedEase(transition.ease)) {\n        transition.ease = unsupportedEasingFunctions[transition.ease];\n    }\n}\n\nexport { replaceStringEasing };\n","import { clamp } from 'motion-utils';\nimport { time } from '../frameloop/sync-time.mjs';\nimport { JSAnimation } from './JSAnimation.mjs';\nimport { NativeAnimation } from './NativeAnimation.mjs';\nimport { replaceTransitionType } from './utils/replace-transition-type.mjs';\nimport { replaceStringEasing } from './waapi/utils/unsupported-easing.mjs';\n\n/**\n * 10ms is chosen here as it strikes a balance between smooth\n * results (more than one keyframe per frame at 60fps) and\n * keyframe quantity.\n */\nconst sampleDelta = 10; //ms\nclass NativeAnimationExtended extends NativeAnimation {\n    constructor(options) {\n        /**\n         * The base NativeAnimation function only supports a subset\n         * of Motion easings, and WAAPI also only supports some\n         * easing functions via string/cubic-bezier definitions.\n         *\n         * This function replaces those unsupported easing functions\n         * with a JS easing function. This will later get compiled\n         * to a linear() easing function.\n         */\n        replaceStringEasing(options);\n        /**\n         * Ensure we replace the transition type with a generator function\n         * before passing to WAAPI.\n         *\n         * TODO: Does this have a better home? It could be shared with\n         * JSAnimation.\n         */\n        replaceTransitionType(options);\n        super(options);\n        if (options.startTime !== undefined) {\n            this.startTime = options.startTime;\n        }\n        this.options = options;\n    }\n    /**\n     * WAAPI doesn't natively have any interruption capabilities.\n     *\n     * Rather than read committed styles back out of the DOM, we can\n     * create a renderless JS animation and sample it twice to calculate\n     * its current value, \"previous\" value, and therefore allow\n     * Motion to calculate velocity for any subsequent animation.\n     */\n    updateMotionValue(value) {\n        const { motionValue, onUpdate, onComplete, element, ...options } = this.options;\n        if (!motionValue)\n            return;\n        if (value !== undefined) {\n            motionValue.set(value);\n            return;\n        }\n        const sampleAnimation = new JSAnimation({\n            ...options,\n            autoplay: false,\n        });\n        /**\n         * Use wall-clock elapsed time for sampling.\n         * Under CPU load, WAAPI's currentTime may not reflect actual\n         * elapsed time, causing incorrect sampling and visual jumps.\n         */\n        const sampleTime = Math.max(sampleDelta, time.now() - this.startTime);\n        const delta = clamp(0, sampleDelta, sampleTime - sampleDelta);\n        motionValue.setWithVelocity(sampleAnimation.sample(Math.max(0, sampleTime - delta)).value, sampleAnimation.sample(sampleTime).value, delta);\n        sampleAnimation.stop();\n    }\n}\n\nexport { NativeAnimationExtended };\n","import { complex } from '../../value/types/complex/index.mjs';\n\n/**\n * Check if a value is animatable. Examples:\n *\n * : 100, \"100px\", \"#fff\"\n * : \"block\", \"url(2.jpg)\"\n * @param value\n *\n * @internal\n */\nconst isAnimatable = (value, name) => {\n    // If the list of keys that might be non-animatable grows, replace with Set\n    if (name === \"zIndex\")\n        return false;\n    // If it's a number or a keyframes array, we can animate it. We might at some point\n    // need to do a deep isAnimatable check of keyframes, or let Popmotion handle this,\n    // but for now lets leave it like this for performance reasons\n    if (typeof value === \"number\" || Array.isArray(value))\n        return true;\n    if (typeof value === \"string\" && // It's animatable if we have a string\n        (complex.test(value) || value === \"0\") && // And it contains numbers and/or colors\n        !value.startsWith(\"url(\") // Unless it starts with \"url(\"\n    ) {\n        return true;\n    }\n    return false;\n};\n\nexport { isAnimatable };\n","import { memo } from 'motion-utils';\n\n/**\n * A list of values that can be hardware-accelerated.\n */\nconst acceleratedValues = new Set([\n    \"opacity\",\n    \"clipPath\",\n    \"filter\",\n    \"transform\",\n    // TODO: Could be re-enabled now we have support for linear() easing\n    // \"background-color\"\n]);\nconst supportsWaapi = /*@__PURE__*/ memo(() => Object.hasOwnProperty.call(Element.prototype, \"animate\"));\nfunction supportsBrowserAnimation(options) {\n    const { motionValue, name, repeatDelay, repeatType, damping, type } = options;\n    const subject = motionValue?.owner?.current;\n    /**\n     * We use this check instead of isHTMLElement() because we explicitly\n     * **don't** want elements in different timing contexts (i.e. popups)\n     * to be accelerated, as it's not possible to sync these animations\n     * properly with those driven from the main window frameloop.\n     */\n    if (!(subject instanceof HTMLElement)) {\n        return false;\n    }\n    const { onUpdate, transformTemplate } = motionValue.owner.getProps();\n    return (supportsWaapi() &&\n        name &&\n        acceleratedValues.has(name) &&\n        (name !== \"transform\" || !transformTemplate) &&\n        /**\n         * If we're outputting values to onUpdate then we can't use WAAPI as there's\n         * no way to read the value from WAAPI every frame.\n         */\n        !onUpdate &&\n        !repeatDelay &&\n        repeatType !== \"mirror\" &&\n        damping !== 0 &&\n        type !== \"inertia\");\n}\n\nexport { supportsBrowserAnimation };\n","import { MotionGlobalConfig, noop } from 'motion-utils';\nimport { time } from '../frameloop/sync-time.mjs';\nimport { JSAnimation } from './JSAnimation.mjs';\nimport { getFinalKeyframe } from './keyframes/get-final.mjs';\nimport { KeyframeResolver, flushKeyframeResolvers } from './keyframes/KeyframesResolver.mjs';\nimport { NativeAnimationExtended } from './NativeAnimationExtended.mjs';\nimport { canAnimate } from './utils/can-animate.mjs';\nimport { makeAnimationInstant } from './utils/make-animation-instant.mjs';\nimport { WithPromise } from './utils/WithPromise.mjs';\nimport { supportsBrowserAnimation } from './waapi/supports/waapi.mjs';\n\n/**\n * Maximum time allowed between an animation being created and it being\n * resolved for us to use the latter as the start time.\n *\n * This is to ensure that while we prefer to \"start\" an animation as soon\n * as it's triggered, we also want to avoid a visual jump if there's a big delay\n * between these two moments.\n */\nconst MAX_RESOLVE_DELAY = 40;\nclass AsyncMotionValueAnimation extends WithPromise {\n    constructor({ autoplay = true, delay = 0, type = \"keyframes\", repeat = 0, repeatDelay = 0, repeatType = \"loop\", keyframes, name, motionValue, element, ...options }) {\n        super();\n        /**\n         * Bound to support return animation.stop pattern\n         */\n        this.stop = () => {\n            if (this._animation) {\n                this._animation.stop();\n                this.stopTimeline?.();\n            }\n            this.keyframeResolver?.cancel();\n        };\n        this.createdAt = time.now();\n        const optionsWithDefaults = {\n            autoplay,\n            delay,\n            type,\n            repeat,\n            repeatDelay,\n            repeatType,\n            name,\n            motionValue,\n            element,\n            ...options,\n        };\n        const KeyframeResolver$1 = element?.KeyframeResolver || KeyframeResolver;\n        this.keyframeResolver = new KeyframeResolver$1(keyframes, (resolvedKeyframes, finalKeyframe, forced) => this.onKeyframesResolved(resolvedKeyframes, finalKeyframe, optionsWithDefaults, !forced), name, motionValue, element);\n        this.keyframeResolver?.scheduleResolve();\n    }\n    onKeyframesResolved(keyframes, finalKeyframe, options, sync) {\n        this.keyframeResolver = undefined;\n        const { name, type, velocity, delay, isHandoff, onUpdate } = options;\n        this.resolvedAt = time.now();\n        /**\n         * If we can't animate this value with the resolved keyframes\n         * then we should complete it immediately.\n         */\n        if (!canAnimate(keyframes, name, type, velocity)) {\n            if (MotionGlobalConfig.instantAnimations || !delay) {\n                onUpdate?.(getFinalKeyframe(keyframes, options, finalKeyframe));\n            }\n            keyframes[0] = keyframes[keyframes.length - 1];\n            makeAnimationInstant(options);\n            options.repeat = 0;\n        }\n        /**\n         * Resolve startTime for the animation.\n         *\n         * This method uses the createdAt and resolvedAt to calculate the\n         * animation startTime. *Ideally*, we would use the createdAt time as t=0\n         * as the following frame would then be the first frame of the animation in\n         * progress, which would feel snappier.\n         *\n         * However, if there's a delay (main thread work) between the creation of\n         * the animation and the first committed frame, we prefer to use resolvedAt\n         * to avoid a sudden jump into the animation.\n         */\n        const startTime = sync\n            ? !this.resolvedAt\n                ? this.createdAt\n                : this.resolvedAt - this.createdAt > MAX_RESOLVE_DELAY\n                    ? this.resolvedAt\n                    : this.createdAt\n            : undefined;\n        const resolvedOptions = {\n            startTime,\n            finalKeyframe,\n            ...options,\n            keyframes,\n        };\n        /**\n         * Animate via WAAPI if possible. If this is a handoff animation, the optimised animation will be running via\n         * WAAPI. Therefore, this animation must be JS to ensure it runs \"under\" the\n         * optimised animation.\n         */\n        const animation = !isHandoff && supportsBrowserAnimation(resolvedOptions)\n            ? new NativeAnimationExtended({\n                ...resolvedOptions,\n                element: resolvedOptions.motionValue.owner.current,\n            })\n            : new JSAnimation(resolvedOptions);\n        animation.finished.then(() => this.notifyFinished()).catch(noop);\n        if (this.pendingTimeline) {\n            this.stopTimeline = animation.attachTimeline(this.pendingTimeline);\n            this.pendingTimeline = undefined;\n        }\n        this._animation = animation;\n    }\n    get finished() {\n        if (!this._animation) {\n            return this._finished;\n        }\n        else {\n            return this.animation.finished;\n        }\n    }\n    then(onResolve, _onReject) {\n        return this.finished.finally(onResolve).then(() => { });\n    }\n    get animation() {\n        if (!this._animation) {\n            this.keyframeResolver?.resume();\n            flushKeyframeResolvers();\n        }\n        return this._animation;\n    }\n    get duration() {\n        return this.animation.duration;\n    }\n    get iterationDuration() {\n        return this.animation.iterationDuration;\n    }\n    get time() {\n        return this.animation.time;\n    }\n    set time(newTime) {\n        this.animation.time = newTime;\n    }\n    get speed() {\n        return this.animation.speed;\n    }\n    get state() {\n        return this.animation.state;\n    }\n    set speed(newSpeed) {\n        this.animation.speed = newSpeed;\n    }\n    get startTime() {\n        return this.animation.startTime;\n    }\n    attachTimeline(timeline) {\n        if (this._animation) {\n            this.stopTimeline = this.animation.attachTimeline(timeline);\n        }\n        else {\n            this.pendingTimeline = timeline;\n        }\n        return () => this.stop();\n    }\n    play() {\n        this.animation.play();\n    }\n    pause() {\n        this.animation.pause();\n    }\n    complete() {\n        this.animation.complete();\n    }\n    cancel() {\n        if (this._animation) {\n            this.animation.cancel();\n        }\n        this.keyframeResolver?.cancel();\n    }\n}\n\nexport { AsyncMotionValueAnimation };\n","import { warning } from 'motion-utils';\nimport { isGenerator } from '../generators/utils/is-generator.mjs';\nimport { isAnimatable } from './is-animatable.mjs';\n\nfunction hasKeyframesChanged(keyframes) {\n    const current = keyframes[0];\n    if (keyframes.length === 1)\n        return true;\n    for (let i = 0; i < keyframes.length; i++) {\n        if (keyframes[i] !== current)\n            return true;\n    }\n}\nfunction canAnimate(keyframes, name, type, velocity) {\n    /**\n     * Check if we're able to animate between the start and end keyframes,\n     * and throw a warning if we're attempting to animate between one that's\n     * animatable and another that isn't.\n     */\n    const originKeyframe = keyframes[0];\n    if (originKeyframe === null)\n        return false;\n    /**\n     * These aren't traditionally animatable but we do support them.\n     * In future we could look into making this more generic or replacing\n     * this function with mix() === mixImmediate\n     */\n    if (name === \"display\" || name === \"visibility\")\n        return true;\n    const targetKeyframe = keyframes[keyframes.length - 1];\n    const isOriginAnimatable = isAnimatable(originKeyframe, name);\n    const isTargetAnimatable = isAnimatable(targetKeyframe, name);\n    warning(isOriginAnimatable === isTargetAnimatable, `You are trying to animate ${name} from \"${originKeyframe}\" to \"${targetKeyframe}\". \"${isOriginAnimatable ? targetKeyframe : originKeyframe}\" is not an animatable value.`, \"value-not-animatable\");\n    // Always skip if any of these are true\n    if (!isOriginAnimatable || !isTargetAnimatable) {\n        return false;\n    }\n    return (hasKeyframesChanged(keyframes) ||\n        ((type === \"spring\" || isGenerator(type)) && velocity));\n}\n\nexport { canAnimate };\n","const isNotNull = (value) => value !== null;\nfunction getFinalKeyframe(keyframes, { repeat, repeatType = \"loop\" }, finalKeyframe) {\n    const resolvedKeyframes = keyframes.filter(isNotNull);\n    const index = repeat && repeatType !== \"loop\" && repeat % 2 === 1\n        ? 0\n        : resolvedKeyframes.length - 1;\n    return !index || finalKeyframe === undefined\n        ? resolvedKeyframes[index]\n        : finalKeyframe;\n}\n\nexport { getFinalKeyframe };\n//# sourceMappingURL=get-final-keyframe.mjs.map\n","import { transformProps } from 'motion-dom';\n\nconst underDampedSpring = {\n    type: \"spring\",\n    stiffness: 500,\n    damping: 25,\n    restSpeed: 10,\n};\nconst criticallyDampedSpring = (target) => ({\n    type: \"spring\",\n    stiffness: 550,\n    damping: target === 0 ? 2 * Math.sqrt(550) : 30,\n    restSpeed: 10,\n});\nconst keyframesTransition = {\n    type: \"keyframes\",\n    duration: 0.8,\n};\n/**\n * Default easing curve is a slightly shallower version of\n * the default browser easing curve.\n */\nconst ease = {\n    type: \"keyframes\",\n    ease: [0.25, 0.1, 0.35, 1],\n    duration: 0.3,\n};\nconst getDefaultTransition = (valueKey, { keyframes }) => {\n    if (keyframes.length > 2) {\n        return keyframesTransition;\n    }\n    else if (transformProps.has(valueKey)) {\n        return valueKey.startsWith(\"scale\")\n            ? criticallyDampedSpring(keyframes[1])\n            : underDampedSpring;\n    }\n    return ease;\n};\n\nexport { getDefaultTransition };\n//# sourceMappingURL=default-transitions.mjs.map\n","import { getValueTransition, makeAnimationInstant, frame, JSAnimation, AsyncMotionValueAnimation } from 'motion-dom';\nimport { secondsToMilliseconds, MotionGlobalConfig } from 'motion-utils';\nimport { getFinalKeyframe } from '../animators/waapi/utils/get-final-keyframe.mjs';\nimport { getDefaultTransition } from '../utils/default-transitions.mjs';\nimport { isTransitionDefined } from '../utils/is-transition-defined.mjs';\n\nconst animateMotionValue = (name, value, target, transition = {}, element, isHandoff) => (onComplete) => {\n    const valueTransition = getValueTransition(transition, name) || {};\n    /**\n     * Most transition values are currently completely overwritten by value-specific\n     * transitions. In the future it'd be nicer to blend these transitions. But for now\n     * delay actually does inherit from the root transition if not value-specific.\n     */\n    const delay = valueTransition.delay || transition.delay || 0;\n    /**\n     * Elapsed isn't a public transition option but can be passed through from\n     * optimized appear effects in milliseconds.\n     */\n    let { elapsed = 0 } = transition;\n    elapsed = elapsed - secondsToMilliseconds(delay);\n    const options = {\n        keyframes: Array.isArray(target) ? target : [null, target],\n        ease: \"easeOut\",\n        velocity: value.getVelocity(),\n        ...valueTransition,\n        delay: -elapsed,\n        onUpdate: (v) => {\n            value.set(v);\n            valueTransition.onUpdate && valueTransition.onUpdate(v);\n        },\n        onComplete: () => {\n            onComplete();\n            valueTransition.onComplete && valueTransition.onComplete();\n        },\n        name,\n        motionValue: value,\n        element: isHandoff ? undefined : element,\n    };\n    /**\n     * If there's no transition defined for this value, we can generate\n     * unique transition settings for this value.\n     */\n    if (!isTransitionDefined(valueTransition)) {\n        Object.assign(options, getDefaultTransition(name, options));\n    }\n    /**\n     * Both WAAPI and our internal animation functions use durations\n     * as defined by milliseconds, while our external API defines them\n     * as seconds.\n     */\n    options.duration && (options.duration = secondsToMilliseconds(options.duration));\n    options.repeatDelay && (options.repeatDelay = secondsToMilliseconds(options.repeatDelay));\n    /**\n     * Support deprecated way to set initial value. Prefer keyframe syntax.\n     */\n    if (options.from !== undefined) {\n        options.keyframes[0] = options.from;\n    }\n    let shouldSkip = false;\n    if (options.type === false ||\n        (options.duration === 0 && !options.repeatDelay)) {\n        makeAnimationInstant(options);\n        if (options.delay === 0) {\n            shouldSkip = true;\n        }\n    }\n    if (MotionGlobalConfig.instantAnimations ||\n        MotionGlobalConfig.skipAnimations) {\n        shouldSkip = true;\n        makeAnimationInstant(options);\n        options.delay = 0;\n    }\n    /**\n     * If the transition type or easing has been explicitly set by the user\n     * then we don't want to allow flattening the animation.\n     */\n    options.allowFlatten = !valueTransition.type && !valueTransition.ease;\n    /**\n     * If we can or must skip creating the animation, and apply only\n     * the final keyframe, do so. We also check once keyframes are resolved but\n     * this early check prevents the need to create an animation at all.\n     */\n    if (shouldSkip && !isHandoff && value.get() !== undefined) {\n        const finalKeyframe = getFinalKeyframe(options.keyframes, valueTransition);\n        if (finalKeyframe !== undefined) {\n            frame.update(() => {\n                options.onUpdate(finalKeyframe);\n                options.onComplete();\n            });\n            return;\n        }\n    }\n    return valueTransition.isSync\n        ? new JSAnimation(options)\n        : new AsyncMotionValueAnimation(options);\n};\n\nexport { animateMotionValue };\n//# sourceMappingURL=motion-value.mjs.map\n","/**\n * Decide whether a transition is defined on a given Transition.\n * This filters out orchestration options and returns true\n * if any options are left.\n */\nfunction isTransitionDefined({ when, delay: _delay, delayChildren, staggerChildren, staggerDirection, repeat, repeatType, repeatDelay, from, elapsed, ...transition }) {\n    return !!Object.keys(transition).length;\n}\n\nexport { isTransitionDefined };\n//# sourceMappingURL=is-transition-defined.mjs.map\n","import { getValueTransition, frame, positionalKeys } from 'motion-dom';\nimport { setTarget } from '../../render/utils/setters.mjs';\nimport { addValueToWillChange } from '../../value/use-will-change/add-will-change.mjs';\nimport { getOptimisedAppearId } from '../optimized-appear/get-appear-id.mjs';\nimport { animateMotionValue } from './motion-value.mjs';\n\n/**\n * Decide whether we should block this animation. Previously, we achieved this\n * just by checking whether the key was listed in protectedKeys, but this\n * posed problems if an animation was triggered by afterChildren and protectedKeys\n * had been set to true in the meantime.\n */\nfunction shouldBlockAnimation({ protectedKeys, needsAnimating }, key) {\n    const shouldBlock = protectedKeys.hasOwnProperty(key) && needsAnimating[key] !== true;\n    needsAnimating[key] = false;\n    return shouldBlock;\n}\nfunction animateTarget(visualElement, targetAndTransition, { delay = 0, transitionOverride, type } = {}) {\n    let { transition = visualElement.getDefaultTransition(), transitionEnd, ...target } = targetAndTransition;\n    if (transitionOverride)\n        transition = transitionOverride;\n    const animations = [];\n    const animationTypeState = type &&\n        visualElement.animationState &&\n        visualElement.animationState.getState()[type];\n    for (const key in target) {\n        const value = visualElement.getValue(key, visualElement.latestValues[key] ?? null);\n        const valueTarget = target[key];\n        if (valueTarget === undefined ||\n            (animationTypeState &&\n                shouldBlockAnimation(animationTypeState, key))) {\n            continue;\n        }\n        const valueTransition = {\n            delay,\n            ...getValueTransition(transition || {}, key),\n        };\n        /**\n         * If the value is already at the defined target, skip the animation.\n         */\n        const currentValue = value.get();\n        if (currentValue !== undefined &&\n            !value.isAnimating &&\n            !Array.isArray(valueTarget) &&\n            valueTarget === currentValue &&\n            !valueTransition.velocity) {\n            continue;\n        }\n        /**\n         * If this is the first time a value is being animated, check\n         * to see if we're handling off from an existing animation.\n         */\n        let isHandoff = false;\n        if (window.MotionHandoffAnimation) {\n            const appearId = getOptimisedAppearId(visualElement);\n            if (appearId) {\n                const startTime = window.MotionHandoffAnimation(appearId, key, frame);\n                if (startTime !== null) {\n                    valueTransition.startTime = startTime;\n                    isHandoff = true;\n                }\n            }\n        }\n        addValueToWillChange(visualElement, key);\n        value.start(animateMotionValue(key, value, valueTarget, visualElement.shouldReduceMotion && positionalKeys.has(key)\n            ? { type: false }\n            : valueTransition, visualElement, isHandoff));\n        const animation = value.animation;\n        if (animation) {\n            animations.push(animation);\n        }\n    }\n    if (transitionEnd) {\n        Promise.all(animations).then(() => {\n            frame.update(() => {\n                transitionEnd && setTarget(visualElement, transitionEnd);\n            });\n        });\n    }\n    return animations;\n}\n\nexport { animateTarget };\n//# sourceMappingURL=visual-element-target.mjs.map\n","function calcChildStagger(children, child, delayChildren, staggerChildren = 0, staggerDirection = 1) {\n    const index = Array.from(children)\n        .sort((a, b) => a.sortNodePosition(b))\n        .indexOf(child);\n    const numChildren = children.size;\n    const maxStaggerDuration = (numChildren - 1) * staggerChildren;\n    const delayIsFunction = typeof delayChildren === \"function\";\n    return delayIsFunction\n        ? delayChildren(index, numChildren)\n        : staggerDirection === 1\n            ? index * staggerChildren\n            : maxStaggerDuration - index * staggerChildren;\n}\n\nexport { calcChildStagger };\n//# sourceMappingURL=calc-child-stagger.mjs.map\n","import { resolveVariant } from '../../render/utils/resolve-dynamic-variants.mjs';\nimport { calcChildStagger } from '../utils/calc-child-stagger.mjs';\nimport { animateTarget } from './visual-element-target.mjs';\n\nfunction animateVariant(visualElement, variant, options = {}) {\n    const resolved = resolveVariant(visualElement, variant, options.type === \"exit\"\n        ? visualElement.presenceContext?.custom\n        : undefined);\n    let { transition = visualElement.getDefaultTransition() || {} } = resolved || {};\n    if (options.transitionOverride) {\n        transition = options.transitionOverride;\n    }\n    /**\n     * If we have a variant, create a callback that runs it as an animation.\n     * Otherwise, we resolve a Promise immediately for a composable no-op.\n     */\n    const getAnimation = resolved\n        ? () => Promise.all(animateTarget(visualElement, resolved, options))\n        : () => Promise.resolve();\n    /**\n     * If we have children, create a callback that runs all their animations.\n     * Otherwise, we resolve a Promise immediately for a composable no-op.\n     */\n    const getChildAnimations = visualElement.variantChildren && visualElement.variantChildren.size\n        ? (forwardDelay = 0) => {\n            const { delayChildren = 0, staggerChildren, staggerDirection, } = transition;\n            return animateChildren(visualElement, variant, forwardDelay, delayChildren, staggerChildren, staggerDirection, options);\n        }\n        : () => Promise.resolve();\n    /**\n     * If the transition explicitly defines a \"when\" option, we need to resolve either\n     * this animation or all children animations before playing the other.\n     */\n    const { when } = transition;\n    if (when) {\n        const [first, last] = when === \"beforeChildren\"\n            ? [getAnimation, getChildAnimations]\n            : [getChildAnimations, getAnimation];\n        return first().then(() => last());\n    }\n    else {\n        return Promise.all([getAnimation(), getChildAnimations(options.delay)]);\n    }\n}\nfunction animateChildren(visualElement, variant, delay = 0, delayChildren = 0, staggerChildren = 0, staggerDirection = 1, options) {\n    const animations = [];\n    for (const child of visualElement.variantChildren) {\n        child.notify(\"AnimationStart\", variant);\n        animations.push(animateVariant(child, variant, {\n            ...options,\n            delay: delay +\n                (typeof delayChildren === \"function\" ? 0 : delayChildren) +\n                calcChildStagger(visualElement.variantChildren, child, delayChildren, staggerChildren, staggerDirection),\n        }).then(() => child.notify(\"AnimationComplete\", variant)));\n    }\n    return Promise.all(animations);\n}\n\nexport { animateVariant };\n//# sourceMappingURL=visual-element-variant.mjs.map\n","function shallowCompare(next, prev) {\n    if (!Array.isArray(prev))\n        return false;\n    const prevLength = prev.length;\n    if (prevLength !== next.length)\n        return false;\n    for (let i = 0; i < prevLength; i++) {\n        if (prev[i] !== next[i])\n            return false;\n    }\n    return true;\n}\n\nexport { shallowCompare };\n//# sourceMappingURL=shallow-compare.mjs.map\n","import { isVariantLabel } from './is-variant-label.mjs';\nimport { variantProps } from './variant-props.mjs';\n\nconst numVariantProps = variantProps.length;\nfunction getVariantContext(visualElement) {\n    if (!visualElement)\n        return undefined;\n    if (!visualElement.isControllingVariants) {\n        const context = visualElement.parent\n            ? getVariantContext(visualElement.parent) || {}\n            : {};\n        if (visualElement.props.initial !== undefined) {\n            context.initial = visualElement.props.initial;\n        }\n        return context;\n    }\n    const context = {};\n    for (let i = 0; i < numVariantProps; i++) {\n        const name = variantProps[i];\n        const prop = visualElement.props[name];\n        if (isVariantLabel(prop) || prop === false) {\n            context[name] = prop;\n        }\n    }\n    return context;\n}\n\nexport { getVariantContext };\n//# sourceMappingURL=get-variant-context.mjs.map\n","import { animateVisualElement } from '../../animation/interfaces/visual-element.mjs';\nimport { calcChildStagger } from '../../animation/utils/calc-child-stagger.mjs';\nimport { isAnimationControls } from '../../animation/utils/is-animation-controls.mjs';\nimport { isKeyframesTarget } from '../../animation/utils/is-keyframes-target.mjs';\nimport { shallowCompare } from '../../utils/shallow-compare.mjs';\nimport { getVariantContext } from './get-variant-context.mjs';\nimport { isVariantLabel } from './is-variant-label.mjs';\nimport { resolveVariant } from './resolve-dynamic-variants.mjs';\nimport { variantPriorityOrder } from './variant-props.mjs';\n\nconst reversePriorityOrder = [...variantPriorityOrder].reverse();\nconst numAnimationTypes = variantPriorityOrder.length;\nfunction animateList(visualElement) {\n    return (animations) => Promise.all(animations.map(({ animation, options }) => animateVisualElement(visualElement, animation, options)));\n}\nfunction createAnimationState(visualElement) {\n    let animate = animateList(visualElement);\n    let state = createState();\n    let isInitialRender = true;\n    /**\n     * This function will be used to reduce the animation definitions for\n     * each active animation type into an object of resolved values for it.\n     */\n    const buildResolvedTypeValues = (type) => (acc, definition) => {\n        const resolved = resolveVariant(visualElement, definition, type === \"exit\"\n            ? visualElement.presenceContext?.custom\n            : undefined);\n        if (resolved) {\n            const { transition, transitionEnd, ...target } = resolved;\n            acc = { ...acc, ...target, ...transitionEnd };\n        }\n        return acc;\n    };\n    /**\n     * This just allows us to inject mocked animation functions\n     * @internal\n     */\n    function setAnimateFunction(makeAnimator) {\n        animate = makeAnimator(visualElement);\n    }\n    /**\n     * When we receive new props, we need to:\n     * 1. Create a list of protected keys for each type. This is a directory of\n     *    value keys that are currently being \"handled\" by types of a higher priority\n     *    so that whenever an animation is played of a given type, these values are\n     *    protected from being animated.\n     * 2. Determine if an animation type needs animating.\n     * 3. Determine if any values have been removed from a type and figure out\n     *    what to animate those to.\n     */\n    function animateChanges(changedActiveType) {\n        const { props } = visualElement;\n        const context = getVariantContext(visualElement.parent) || {};\n        /**\n         * A list of animations that we'll build into as we iterate through the animation\n         * types. This will get executed at the end of the function.\n         */\n        const animations = [];\n        /**\n         * Keep track of which values have been removed. Then, as we hit lower priority\n         * animation types, we can check if they contain removed values and animate to that.\n         */\n        const removedKeys = new Set();\n        /**\n         * A dictionary of all encountered keys. This is an object to let us build into and\n         * copy it without iteration. Each time we hit an animation type we set its protected\n         * keys - the keys its not allowed to animate - to the latest version of this object.\n         */\n        let encounteredKeys = {};\n        /**\n         * If a variant has been removed at a given index, and this component is controlling\n         * variant animations, we want to ensure lower-priority variants are forced to animate.\n         */\n        let removedVariantIndex = Infinity;\n        /**\n         * Iterate through all animation types in reverse priority order. For each, we want to\n         * detect which values it's handling and whether or not they've changed (and therefore\n         * need to be animated). If any values have been removed, we want to detect those in\n         * lower priority props and flag for animation.\n         */\n        for (let i = 0; i < numAnimationTypes; i++) {\n            const type = reversePriorityOrder[i];\n            const typeState = state[type];\n            const prop = props[type] !== undefined\n                ? props[type]\n                : context[type];\n            const propIsVariant = isVariantLabel(prop);\n            /**\n             * If this type has *just* changed isActive status, set activeDelta\n             * to that status. Otherwise set to null.\n             */\n            const activeDelta = type === changedActiveType ? typeState.isActive : null;\n            if (activeDelta === false)\n                removedVariantIndex = i;\n            /**\n             * If this prop is an inherited variant, rather than been set directly on the\n             * component itself, we want to make sure we allow the parent to trigger animations.\n             *\n             * TODO: Can probably change this to a !isControllingVariants check\n             */\n            let isInherited = prop === context[type] &&\n                prop !== props[type] &&\n                propIsVariant;\n            if (isInherited &&\n                isInitialRender &&\n                visualElement.manuallyAnimateOnMount) {\n                isInherited = false;\n            }\n            /**\n             * Set all encountered keys so far as the protected keys for this type. This will\n             * be any key that has been animated or otherwise handled by active, higher-priortiy types.\n             */\n            typeState.protectedKeys = { ...encounteredKeys };\n            // Check if we can skip analysing this prop early\n            if (\n            // If it isn't active and hasn't *just* been set as inactive\n            (!typeState.isActive && activeDelta === null) ||\n                // If we didn't and don't have any defined prop for this animation type\n                (!prop && !typeState.prevProp) ||\n                // Or if the prop doesn't define an animation\n                isAnimationControls(prop) ||\n                typeof prop === \"boolean\") {\n                continue;\n            }\n            /**\n             * As we go look through the values defined on this type, if we detect\n             * a changed value or a value that was removed in a higher priority, we set\n             * this to true and add this prop to the animation list.\n             */\n            const variantDidChange = checkVariantsDidChange(typeState.prevProp, prop);\n            let shouldAnimateType = variantDidChange ||\n                // If we're making this variant active, we want to always make it active\n                (type === changedActiveType &&\n                    typeState.isActive &&\n                    !isInherited &&\n                    propIsVariant) ||\n                // If we removed a higher-priority variant (i is in reverse order)\n                (i > removedVariantIndex && propIsVariant);\n            let handledRemovedValues = false;\n            /**\n             * As animations can be set as variant lists, variants or target objects, we\n             * coerce everything to an array if it isn't one already\n             */\n            const definitionList = Array.isArray(prop) ? prop : [prop];\n            /**\n             * Build an object of all the resolved values. We'll use this in the subsequent\n             * animateChanges calls to determine whether a value has changed.\n             */\n            let resolvedValues = definitionList.reduce(buildResolvedTypeValues(type), {});\n            if (activeDelta === false)\n                resolvedValues = {};\n            /**\n             * Now we need to loop through all the keys in the prev prop and this prop,\n             * and decide:\n             * 1. If the value has changed, and needs animating\n             * 2. If it has been removed, and needs adding to the removedKeys set\n             * 3. If it has been removed in a higher priority type and needs animating\n             * 4. If it hasn't been removed in a higher priority but hasn't changed, and\n             *    needs adding to the type's protectedKeys list.\n             */\n            const { prevResolvedValues = {} } = typeState;\n            const allKeys = {\n                ...prevResolvedValues,\n                ...resolvedValues,\n            };\n            const markToAnimate = (key) => {\n                shouldAnimateType = true;\n                if (removedKeys.has(key)) {\n                    handledRemovedValues = true;\n                    removedKeys.delete(key);\n                }\n                typeState.needsAnimating[key] = true;\n                const motionValue = visualElement.getValue(key);\n                if (motionValue)\n                    motionValue.liveStyle = false;\n            };\n            for (const key in allKeys) {\n                const next = resolvedValues[key];\n                const prev = prevResolvedValues[key];\n                // If we've already handled this we can just skip ahead\n                if (encounteredKeys.hasOwnProperty(key))\n                    continue;\n                /**\n                 * If the value has changed, we probably want to animate it.\n                 */\n                let valueHasChanged = false;\n                if (isKeyframesTarget(next) && isKeyframesTarget(prev)) {\n                    valueHasChanged = !shallowCompare(next, prev);\n                }\n                else {\n                    valueHasChanged = next !== prev;\n                }\n                if (valueHasChanged) {\n                    if (next !== undefined && next !== null) {\n                        // If next is defined and doesn't equal prev, it needs animating\n                        markToAnimate(key);\n                    }\n                    else {\n                        // If it's undefined, it's been removed.\n                        removedKeys.add(key);\n                    }\n                }\n                else if (next !== undefined && removedKeys.has(key)) {\n                    /**\n                     * If next hasn't changed and it isn't undefined, we want to check if it's\n                     * been removed by a higher priority\n                     */\n                    markToAnimate(key);\n                }\n                else {\n                    /**\n                     * If it hasn't changed, we add it to the list of protected values\n                     * to ensure it doesn't get animated.\n                     */\n                    typeState.protectedKeys[key] = true;\n                }\n            }\n            /**\n             * Update the typeState so next time animateChanges is called we can compare the\n             * latest prop and resolvedValues to these.\n             */\n            typeState.prevProp = prop;\n            typeState.prevResolvedValues = resolvedValues;\n            if (typeState.isActive) {\n                encounteredKeys = { ...encounteredKeys, ...resolvedValues };\n            }\n            if (isInitialRender && visualElement.blockInitialAnimation) {\n                shouldAnimateType = false;\n            }\n            /**\n             * If this is an inherited prop we want to skip this animation\n             * unless the inherited variants haven't changed on this render.\n             */\n            const willAnimateViaParent = isInherited && variantDidChange;\n            const needsAnimating = !willAnimateViaParent || handledRemovedValues;\n            if (shouldAnimateType && needsAnimating) {\n                animations.push(...definitionList.map((animation) => {\n                    const options = { type };\n                    /**\n                     * If we're performing the initial animation, but we're not\n                     * rendering at the same time as the variant-controlling parent,\n                     * we want to use the parent's transition to calculate the stagger.\n                     */\n                    if (typeof animation === \"string\" &&\n                        isInitialRender &&\n                        !willAnimateViaParent &&\n                        visualElement.manuallyAnimateOnMount &&\n                        visualElement.parent) {\n                        const { parent } = visualElement;\n                        const parentVariant = resolveVariant(parent, animation);\n                        if (parent.enteringChildren && parentVariant) {\n                            const { delayChildren } = parentVariant.transition || {};\n                            options.delay = calcChildStagger(parent.enteringChildren, visualElement, delayChildren);\n                        }\n                    }\n                    return {\n                        animation: animation,\n                        options,\n                    };\n                }));\n            }\n        }\n        /**\n         * If there are some removed value that haven't been dealt with,\n         * we need to create a new animation that falls back either to the value\n         * defined in the style prop, or the last read value.\n         */\n        if (removedKeys.size) {\n            const fallbackAnimation = {};\n            /**\n             * If the initial prop contains a transition we can use that, otherwise\n             * allow the animation function to use the visual element's default.\n             */\n            if (typeof props.initial !== \"boolean\") {\n                const initialTransition = resolveVariant(visualElement, Array.isArray(props.initial)\n                    ? props.initial[0]\n                    : props.initial);\n                if (initialTransition && initialTransition.transition) {\n                    fallbackAnimation.transition = initialTransition.transition;\n                }\n            }\n            removedKeys.forEach((key) => {\n                const fallbackTarget = visualElement.getBaseTarget(key);\n                const motionValue = visualElement.getValue(key);\n                if (motionValue)\n                    motionValue.liveStyle = true;\n                // @ts-expect-error - @mattgperry to figure if we should do something here\n                fallbackAnimation[key] = fallbackTarget ?? null;\n            });\n            animations.push({ animation: fallbackAnimation });\n        }\n        let shouldAnimate = Boolean(animations.length);\n        if (isInitialRender &&\n            (props.initial === false || props.initial === props.animate) &&\n            !visualElement.manuallyAnimateOnMount) {\n            shouldAnimate = false;\n        }\n        isInitialRender = false;\n        return shouldAnimate ? animate(animations) : Promise.resolve();\n    }\n    /**\n     * Change whether a certain animation type is active.\n     */\n    function setActive(type, isActive) {\n        // If the active state hasn't changed, we can safely do nothing here\n        if (state[type].isActive === isActive)\n            return Promise.resolve();\n        // Propagate active change to children\n        visualElement.variantChildren?.forEach((child) => child.animationState?.setActive(type, isActive));\n        state[type].isActive = isActive;\n        const animations = animateChanges(type);\n        for (const key in state) {\n            state[key].protectedKeys = {};\n        }\n        return animations;\n    }\n    return {\n        animateChanges,\n        setActive,\n        setAnimateFunction,\n        getState: () => state,\n        reset: () => {\n            state = createState();\n            /**\n             * Temporarily disabling resetting this flag as it prevents components\n             * with initial={false} from animating after being remounted, for instance\n             * as the child of an Activity component.\n             */\n            // isInitialRender = true\n        },\n    };\n}\nfunction checkVariantsDidChange(prev, next) {\n    if (typeof next === \"string\") {\n        return next !== prev;\n    }\n    else if (Array.isArray(next)) {\n        return !shallowCompare(next, prev);\n    }\n    return false;\n}\nfunction createTypeState(isActive = false) {\n    return {\n        isActive,\n        protectedKeys: {},\n        needsAnimating: {},\n        prevResolvedValues: {},\n    };\n}\nfunction createState() {\n    return {\n        animate: createTypeState(true),\n        whileInView: createTypeState(),\n        whileHover: createTypeState(),\n        whileTap: createTypeState(),\n        whileDrag: createTypeState(),\n        whileFocus: createTypeState(),\n        exit: createTypeState(),\n    };\n}\n\nexport { checkVariantsDidChange, createAnimationState };\n//# sourceMappingURL=animation-state.mjs.map\n","import { resolveVariant } from '../../render/utils/resolve-dynamic-variants.mjs';\nimport { animateTarget } from './visual-element-target.mjs';\nimport { animateVariant } from './visual-element-variant.mjs';\n\nfunction animateVisualElement(visualElement, definition, options = {}) {\n    visualElement.notify(\"AnimationStart\", definition);\n    let animation;\n    if (Array.isArray(definition)) {\n        const animations = definition.map((variant) => animateVariant(visualElement, variant, options));\n        animation = Promise.all(animations);\n    }\n    else if (typeof definition === \"string\") {\n        animation = animateVariant(visualElement, definition, options);\n    }\n    else {\n        const resolvedDefinition = typeof definition === \"function\"\n            ? resolveVariant(visualElement, definition, options.custom)\n            : definition;\n        animation = Promise.all(animateTarget(visualElement, resolvedDefinition, options));\n    }\n    return animation.then(() => {\n        visualElement.notify(\"AnimationComplete\", definition);\n    });\n}\n\nexport { animateVisualElement };\n//# sourceMappingURL=visual-element.mjs.map\n","class Feature {\n    constructor(node) {\n        this.isMounted = false;\n        this.node = node;\n    }\n    update() { }\n}\n\nexport { Feature };\n//# sourceMappingURL=Feature.mjs.map\n","import { Feature } from '../Feature.mjs';\n\nlet id = 0;\nclass ExitAnimationFeature extends Feature {\n    constructor() {\n        super(...arguments);\n        this.id = id++;\n    }\n    update() {\n        if (!this.node.presenceContext)\n            return;\n        const { isPresent, onExitComplete } = this.node.presenceContext;\n        const { isPresent: prevIsPresent } = this.node.prevPresenceContext || {};\n        if (!this.node.animationState || isPresent === prevIsPresent) {\n            return;\n        }\n        const exitAnimation = this.node.animationState.setActive(\"exit\", !isPresent);\n        if (onExitComplete && !isPresent) {\n            exitAnimation.then(() => {\n                onExitComplete(this.id);\n            });\n        }\n    }\n    mount() {\n        const { register, onExitComplete } = this.node.presenceContext || {};\n        if (onExitComplete) {\n            onExitComplete(this.id);\n        }\n        if (register) {\n            this.unmount = register(this.id);\n        }\n    }\n    unmount() { }\n}\n\nexport { ExitAnimationFeature };\n//# sourceMappingURL=exit.mjs.map\n","import { AnimationFeature } from './animation/index.mjs';\nimport { ExitAnimationFeature } from './animation/exit.mjs';\n\nconst animations = {\n    animation: {\n        Feature: AnimationFeature,\n    },\n    exit: {\n        Feature: ExitAnimationFeature,\n    },\n};\n\nexport { animations };\n//# sourceMappingURL=animations.mjs.map\n","import { isAnimationControls } from '../../../animation/utils/is-animation-controls.mjs';\nimport { createAnimationState } from '../../../render/utils/animation-state.mjs';\nimport { Feature } from '../Feature.mjs';\n\nclass AnimationFeature extends Feature {\n    /**\n     * We dynamically generate the AnimationState manager as it contains a reference\n     * to the underlying animation library. We only want to load that if we load this,\n     * so people can optionally code split it out using the `m` component.\n     */\n    constructor(node) {\n        super(node);\n        node.animationState || (node.animationState = createAnimationState(node));\n    }\n    updateAnimationControlsSubscription() {\n        const { animate } = this.node.getProps();\n        if (isAnimationControls(animate)) {\n            this.unmountControls = animate.subscribe(this.node);\n        }\n    }\n    /**\n     * Subscribe any provided AnimationControls to the component's VisualElement\n     */\n    mount() {\n        this.updateAnimationControlsSubscription();\n    }\n    update() {\n        const { animate } = this.node.getProps();\n        const { animate: prevAnimate } = this.node.prevProps || {};\n        if (animate !== prevAnimate) {\n            this.updateAnimationControlsSubscription();\n        }\n    }\n    unmount() {\n        this.node.animationState.reset();\n        this.unmountControls?.();\n    }\n}\n\nexport { AnimationFeature };\n//# sourceMappingURL=index.mjs.map\n","const isDragging = {\n    x: false,\n    y: false,\n};\nfunction isDragActive() {\n    return isDragging.x || isDragging.y;\n}\n\nexport { isDragActive, isDragging };\n","const interactiveElements = new Set([\n    \"BUTTON\",\n    \"INPUT\",\n    \"SELECT\",\n    \"TEXTAREA\",\n    \"A\",\n]);\n/**\n * Checks if an element is an interactive form element that should prevent\n * drag gestures from starting when clicked.\n *\n * This specifically targets form controls, buttons, and links - not just any\n * element with tabIndex, since motion elements with tap handlers automatically\n * get tabIndex=0 for keyboard accessibility.\n */\nfunction isElementKeyboardAccessible(element) {\n    return (interactiveElements.has(element.tagName) ||\n        element.isContentEditable === true);\n}\n\nexport { isElementKeyboardAccessible };\n","function addDomEvent(target, eventName, handler, options = { passive: true }) {\n    target.addEventListener(eventName, handler, options);\n    return () => target.removeEventListener(eventName, handler);\n}\n\nexport { addDomEvent };\n//# sourceMappingURL=add-dom-event.mjs.map\n","const isPrimaryPointer = (event) => {\n    if (event.pointerType === \"mouse\") {\n        return typeof event.button !== \"number\" || event.button <= 0;\n    }\n    else {\n        /**\n         * isPrimary is true for all mice buttons, whereas every touch point\n         * is regarded as its own input. So subsequent concurrent touch points\n         * will be false.\n         *\n         * Specifically match against false here as incomplete versions of\n         * PointerEvents in very old browser might have it set as undefined.\n         */\n        return event.isPrimary !== false;\n    }\n};\n\nexport { isPrimaryPointer };\n","import { isPrimaryPointer } from 'motion-dom';\n\nfunction extractEventInfo(event) {\n    return {\n        point: {\n            x: event.pageX,\n            y: event.pageY,\n        },\n    };\n}\nconst addPointerInfo = (handler) => {\n    return (event) => isPrimaryPointer(event) && handler(event, extractEventInfo(event));\n};\n\nexport { addPointerInfo, extractEventInfo };\n//# sourceMappingURL=event-info.mjs.map\n","import { addDomEvent } from './add-dom-event.mjs';\nimport { addPointerInfo } from './event-info.mjs';\n\nfunction addPointerEvent(target, eventName, handler, options) {\n    return addDomEvent(target, eventName, addPointerInfo(handler), options);\n}\n\nexport { addPointerEvent };\n//# sourceMappingURL=add-pointer-event.mjs.map\n","import { mixNumber } from 'motion-dom';\n\nconst SCALE_PRECISION = 0.0001;\nconst SCALE_MIN = 1 - SCALE_PRECISION;\nconst SCALE_MAX = 1 + SCALE_PRECISION;\nconst TRANSLATE_PRECISION = 0.01;\nconst TRANSLATE_MIN = 0 - TRANSLATE_PRECISION;\nconst TRANSLATE_MAX = 0 + TRANSLATE_PRECISION;\nfunction calcLength(axis) {\n    return axis.max - axis.min;\n}\nfunction isNear(value, target, maxDistance) {\n    return Math.abs(value - target) <= maxDistance;\n}\nfunction calcAxisDelta(delta, source, target, origin = 0.5) {\n    delta.origin = origin;\n    delta.originPoint = mixNumber(source.min, source.max, delta.origin);\n    delta.scale = calcLength(target) / calcLength(source);\n    delta.translate =\n        mixNumber(target.min, target.max, delta.origin) - delta.originPoint;\n    if ((delta.scale >= SCALE_MIN && delta.scale <= SCALE_MAX) ||\n        isNaN(delta.scale)) {\n        delta.scale = 1.0;\n    }\n    if ((delta.translate >= TRANSLATE_MIN &&\n        delta.translate <= TRANSLATE_MAX) ||\n        isNaN(delta.translate)) {\n        delta.translate = 0.0;\n    }\n}\nfunction calcBoxDelta(delta, source, target, origin) {\n    calcAxisDelta(delta.x, source.x, target.x, origin ? origin.originX : undefined);\n    calcAxisDelta(delta.y, source.y, target.y, origin ? origin.originY : undefined);\n}\nfunction calcRelativeAxis(target, relative, parent) {\n    target.min = parent.min + relative.min;\n    target.max = target.min + calcLength(relative);\n}\nfunction calcRelativeBox(target, relative, parent) {\n    calcRelativeAxis(target.x, relative.x, parent.x);\n    calcRelativeAxis(target.y, relative.y, parent.y);\n}\nfunction calcRelativeAxisPosition(target, layout, parent) {\n    target.min = layout.min - parent.min;\n    target.max = target.min + calcLength(layout);\n}\nfunction calcRelativePosition(target, layout, parent) {\n    calcRelativeAxisPosition(target.x, layout.x, parent.x);\n    calcRelativeAxisPosition(target.y, layout.y, parent.y);\n}\n\nexport { calcAxisDelta, calcBoxDelta, calcLength, calcRelativeAxis, calcRelativeAxisPosition, calcRelativeBox, calcRelativePosition, isNear };\n//# sourceMappingURL=delta-calc.mjs.map\n","function eachAxis(callback) {\n    return [callback(\"x\"), callback(\"y\")];\n}\n\nexport { eachAxis };\n//# sourceMappingURL=each-axis.mjs.map\n","// Fixes https://github.com/motiondivision/motion/issues/2270\nconst getContextWindow = ({ current }) => {\n    return current ? current.ownerDocument.defaultView : null;\n};\n\nexport { getContextWindow };\n//# sourceMappingURL=get-context-window.mjs.map\n","const distance = (a, b) => Math.abs(a - b);\nfunction distance2D(a, b) {\n    // Multi-dimensional\n    const xDelta = distance(a.x, b.x);\n    const yDelta = distance(a.y, b.y);\n    return Math.sqrt(xDelta ** 2 + yDelta ** 2);\n}\n\nexport { distance, distance2D };\n//# sourceMappingURL=distance.mjs.map\n","import { frame, isPrimaryPointer, cancelFrame, frameData } from 'motion-dom';\nimport { pipe, secondsToMilliseconds, millisecondsToSeconds } from 'motion-utils';\nimport { addPointerEvent } from '../../events/add-pointer-event.mjs';\nimport { extractEventInfo } from '../../events/event-info.mjs';\nimport { distance2D } from '../../utils/distance.mjs';\n\nconst overflowStyles = /*#__PURE__*/ new Set([\"auto\", \"scroll\"]);\n/**\n * @internal\n */\nclass PanSession {\n    constructor(event, handlers, { transformPagePoint, contextWindow = window, dragSnapToOrigin = false, distanceThreshold = 3, element, } = {}) {\n        /**\n         * @internal\n         */\n        this.startEvent = null;\n        /**\n         * @internal\n         */\n        this.lastMoveEvent = null;\n        /**\n         * @internal\n         */\n        this.lastMoveEventInfo = null;\n        /**\n         * @internal\n         */\n        this.handlers = {};\n        /**\n         * @internal\n         */\n        this.contextWindow = window;\n        /**\n         * Scroll positions of scrollable ancestors and window.\n         * @internal\n         */\n        this.scrollPositions = new Map();\n        /**\n         * Cleanup function for scroll listeners.\n         * @internal\n         */\n        this.removeScrollListeners = null;\n        this.onElementScroll = (event) => {\n            this.handleScroll(event.target);\n        };\n        this.onWindowScroll = () => {\n            this.handleScroll(window);\n        };\n        this.updatePoint = () => {\n            if (!(this.lastMoveEvent && this.lastMoveEventInfo))\n                return;\n            const info = getPanInfo(this.lastMoveEventInfo, this.history);\n            const isPanStarted = this.startEvent !== null;\n            // Only start panning if the offset is larger than 3 pixels. If we make it\n            // any larger than this we'll want to reset the pointer history\n            // on the first update to avoid visual snapping to the cursor.\n            const isDistancePastThreshold = distance2D(info.offset, { x: 0, y: 0 }) >= this.distanceThreshold;\n            if (!isPanStarted && !isDistancePastThreshold)\n                return;\n            const { point } = info;\n            const { timestamp } = frameData;\n            this.history.push({ ...point, timestamp });\n            const { onStart, onMove } = this.handlers;\n            if (!isPanStarted) {\n                onStart && onStart(this.lastMoveEvent, info);\n                this.startEvent = this.lastMoveEvent;\n            }\n            onMove && onMove(this.lastMoveEvent, info);\n        };\n        this.handlePointerMove = (event, info) => {\n            this.lastMoveEvent = event;\n            this.lastMoveEventInfo = transformPoint(info, this.transformPagePoint);\n            // Throttle mouse move event to once per frame\n            frame.update(this.updatePoint, true);\n        };\n        this.handlePointerUp = (event, info) => {\n            this.end();\n            const { onEnd, onSessionEnd, resumeAnimation } = this.handlers;\n            // Resume animation if dragSnapToOrigin is set OR if no drag started (user just clicked)\n            // This ensures constraint animations continue when interrupted by a click\n            if (this.dragSnapToOrigin || !this.startEvent) {\n                resumeAnimation && resumeAnimation();\n            }\n            if (!(this.lastMoveEvent && this.lastMoveEventInfo))\n                return;\n            const panInfo = getPanInfo(event.type === \"pointercancel\"\n                ? this.lastMoveEventInfo\n                : transformPoint(info, this.transformPagePoint), this.history);\n            if (this.startEvent && onEnd) {\n                onEnd(event, panInfo);\n            }\n            onSessionEnd && onSessionEnd(event, panInfo);\n        };\n        // If we have more than one touch, don't start detecting this gesture\n        if (!isPrimaryPointer(event))\n            return;\n        this.dragSnapToOrigin = dragSnapToOrigin;\n        this.handlers = handlers;\n        this.transformPagePoint = transformPagePoint;\n        this.distanceThreshold = distanceThreshold;\n        this.contextWindow = contextWindow || window;\n        const info = extractEventInfo(event);\n        const initialInfo = transformPoint(info, this.transformPagePoint);\n        const { point } = initialInfo;\n        const { timestamp } = frameData;\n        this.history = [{ ...point, timestamp }];\n        const { onSessionStart } = handlers;\n        onSessionStart &&\n            onSessionStart(event, getPanInfo(initialInfo, this.history));\n        this.removeListeners = pipe(addPointerEvent(this.contextWindow, \"pointermove\", this.handlePointerMove), addPointerEvent(this.contextWindow, \"pointerup\", this.handlePointerUp), addPointerEvent(this.contextWindow, \"pointercancel\", this.handlePointerUp));\n        // Start scroll tracking if element provided\n        if (element) {\n            this.startScrollTracking(element);\n        }\n    }\n    /**\n     * Start tracking scroll on ancestors and window.\n     */\n    startScrollTracking(element) {\n        // Store initial scroll positions for scrollable ancestors\n        let current = element.parentElement;\n        while (current) {\n            const style = getComputedStyle(current);\n            if (overflowStyles.has(style.overflowX) ||\n                overflowStyles.has(style.overflowY)) {\n                this.scrollPositions.set(current, {\n                    x: current.scrollLeft,\n                    y: current.scrollTop,\n                });\n            }\n            current = current.parentElement;\n        }\n        // Track window scroll\n        this.scrollPositions.set(window, {\n            x: window.scrollX,\n            y: window.scrollY,\n        });\n        // Capture listener catches element scroll events as they bubble\n        window.addEventListener(\"scroll\", this.onElementScroll, {\n            capture: true,\n            passive: true,\n        });\n        // Direct window scroll listener (window scroll doesn't bubble)\n        window.addEventListener(\"scroll\", this.onWindowScroll, {\n            passive: true,\n        });\n        this.removeScrollListeners = () => {\n            window.removeEventListener(\"scroll\", this.onElementScroll, {\n                capture: true,\n            });\n            window.removeEventListener(\"scroll\", this.onWindowScroll);\n        };\n    }\n    /**\n     * Handle scroll compensation during drag.\n     *\n     * For element scroll: adjusts history origin since pageX/pageY doesn't change.\n     * For window scroll: adjusts lastMoveEventInfo since pageX/pageY would change.\n     */\n    handleScroll(target) {\n        const initial = this.scrollPositions.get(target);\n        if (!initial)\n            return;\n        const isWindow = target === window;\n        const current = isWindow\n            ? { x: window.scrollX, y: window.scrollY }\n            : {\n                x: target.scrollLeft,\n                y: target.scrollTop,\n            };\n        const delta = { x: current.x - initial.x, y: current.y - initial.y };\n        if (delta.x === 0 && delta.y === 0)\n            return;\n        if (isWindow) {\n            // Window scroll: pageX/pageY changes, so update lastMoveEventInfo\n            if (this.lastMoveEventInfo) {\n                this.lastMoveEventInfo.point.x += delta.x;\n                this.lastMoveEventInfo.point.y += delta.y;\n            }\n        }\n        else {\n            // Element scroll: pageX/pageY unchanged, so adjust history origin\n            if (this.history.length > 0) {\n                this.history[0].x -= delta.x;\n                this.history[0].y -= delta.y;\n            }\n        }\n        this.scrollPositions.set(target, current);\n        frame.update(this.updatePoint, true);\n    }\n    updateHandlers(handlers) {\n        this.handlers = handlers;\n    }\n    end() {\n        this.removeListeners && this.removeListeners();\n        this.removeScrollListeners && this.removeScrollListeners();\n        this.scrollPositions.clear();\n        cancelFrame(this.updatePoint);\n    }\n}\nfunction transformPoint(info, transformPagePoint) {\n    return transformPagePoint ? { point: transformPagePoint(info.point) } : info;\n}\nfunction subtractPoint(a, b) {\n    return { x: a.x - b.x, y: a.y - b.y };\n}\nfunction getPanInfo({ point }, history) {\n    return {\n        point,\n        delta: subtractPoint(point, lastDevicePoint(history)),\n        offset: subtractPoint(point, startDevicePoint(history)),\n        velocity: getVelocity(history, 0.1),\n    };\n}\nfunction startDevicePoint(history) {\n    return history[0];\n}\nfunction lastDevicePoint(history) {\n    return history[history.length - 1];\n}\nfunction getVelocity(history, timeDelta) {\n    if (history.length < 2) {\n        return { x: 0, y: 0 };\n    }\n    let i = history.length - 1;\n    let timestampedPoint = null;\n    const lastPoint = lastDevicePoint(history);\n    while (i >= 0) {\n        timestampedPoint = history[i];\n        if (lastPoint.timestamp - timestampedPoint.timestamp >\n            secondsToMilliseconds(timeDelta)) {\n            break;\n        }\n        i--;\n    }\n    if (!timestampedPoint) {\n        return { x: 0, y: 0 };\n    }\n    const time = millisecondsToSeconds(lastPoint.timestamp - timestampedPoint.timestamp);\n    if (time === 0) {\n        return { x: 0, y: 0 };\n    }\n    const currentVelocity = {\n        x: (lastPoint.x - timestampedPoint.x) / time,\n        y: (lastPoint.y - timestampedPoint.y) / time,\n    };\n    if (currentVelocity.x === Infinity) {\n        currentVelocity.x = 0;\n    }\n    if (currentVelocity.y === Infinity) {\n        currentVelocity.y = 0;\n    }\n    return currentVelocity;\n}\n\nexport { PanSession };\n//# sourceMappingURL=PanSession.mjs.map\n","import { mixNumber } from 'motion-dom';\nimport { progress, clamp } from 'motion-utils';\nimport { calcLength } from '../../../projection/geometry/delta-calc.mjs';\n\n/**\n * Apply constraints to a point. These constraints are both physical along an\n * axis, and an elastic factor that determines how much to constrain the point\n * by if it does lie outside the defined parameters.\n */\nfunction applyConstraints(point, { min, max }, elastic) {\n    if (min !== undefined && point < min) {\n        // If we have a min point defined, and this is outside of that, constrain\n        point = elastic\n            ? mixNumber(min, point, elastic.min)\n            : Math.max(point, min);\n    }\n    else if (max !== undefined && point > max) {\n        // If we have a max point defined, and this is outside of that, constrain\n        point = elastic\n            ? mixNumber(max, point, elastic.max)\n            : Math.min(point, max);\n    }\n    return point;\n}\n/**\n * Calculate constraints in terms of the viewport when defined relatively to the\n * measured axis. This is measured from the nearest edge, so a max constraint of 200\n * on an axis with a max value of 300 would return a constraint of 500 - axis length\n */\nfunction calcRelativeAxisConstraints(axis, min, max) {\n    return {\n        min: min !== undefined ? axis.min + min : undefined,\n        max: max !== undefined\n            ? axis.max + max - (axis.max - axis.min)\n            : undefined,\n    };\n}\n/**\n * Calculate constraints in terms of the viewport when\n * defined relatively to the measured bounding box.\n */\nfunction calcRelativeConstraints(layoutBox, { top, left, bottom, right }) {\n    return {\n        x: calcRelativeAxisConstraints(layoutBox.x, left, right),\n        y: calcRelativeAxisConstraints(layoutBox.y, top, bottom),\n    };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative axis\n */\nfunction calcViewportAxisConstraints(layoutAxis, constraintsAxis) {\n    let min = constraintsAxis.min - layoutAxis.min;\n    let max = constraintsAxis.max - layoutAxis.max;\n    // If the constraints axis is actually smaller than the layout axis then we can\n    // flip the constraints\n    if (constraintsAxis.max - constraintsAxis.min <\n        layoutAxis.max - layoutAxis.min) {\n        [min, max] = [max, min];\n    }\n    return { min, max };\n}\n/**\n * Calculate viewport constraints when defined as another viewport-relative box\n */\nfunction calcViewportConstraints(layoutBox, constraintsBox) {\n    return {\n        x: calcViewportAxisConstraints(layoutBox.x, constraintsBox.x),\n        y: calcViewportAxisConstraints(layoutBox.y, constraintsBox.y),\n    };\n}\n/**\n * Calculate a transform origin relative to the source axis, between 0-1, that results\n * in an asthetically pleasing scale/transform needed to project from source to target.\n */\nfunction calcOrigin(source, target) {\n    let origin = 0.5;\n    const sourceLength = calcLength(source);\n    const targetLength = calcLength(target);\n    if (targetLength > sourceLength) {\n        origin = progress(target.min, target.max - sourceLength, source.min);\n    }\n    else if (sourceLength > targetLength) {\n        origin = progress(source.min, source.max - targetLength, target.min);\n    }\n    return clamp(0, 1, origin);\n}\n/**\n * Rebase the calculated viewport constraints relative to the layout.min point.\n */\nfunction rebaseAxisConstraints(layout, constraints) {\n    const relativeConstraints = {};\n    if (constraints.min !== undefined) {\n        relativeConstraints.min = constraints.min - layout.min;\n    }\n    if (constraints.max !== undefined) {\n        relativeConstraints.max = constraints.max - layout.min;\n    }\n    return relativeConstraints;\n}\nconst defaultElastic = 0.35;\n/**\n * Accepts a dragElastic prop and returns resolved elastic values for each axis.\n */\nfunction resolveDragElastic(dragElastic = defaultElastic) {\n    if (dragElastic === false) {\n        dragElastic = 0;\n    }\n    else if (dragElastic === true) {\n        dragElastic = defaultElastic;\n    }\n    return {\n        x: resolveAxisElastic(dragElastic, \"left\", \"right\"),\n        y: resolveAxisElastic(dragElastic, \"top\", \"bottom\"),\n    };\n}\nfunction resolveAxisElastic(dragElastic, minLabel, maxLabel) {\n    return {\n        min: resolvePointElastic(dragElastic, minLabel),\n        max: resolvePointElastic(dragElastic, maxLabel),\n    };\n}\nfunction resolvePointElastic(dragElastic, label) {\n    return typeof dragElastic === \"number\"\n        ? dragElastic\n        : dragElastic[label] || 0;\n}\n\nexport { applyConstraints, calcOrigin, calcRelativeAxisConstraints, calcRelativeConstraints, calcViewportAxisConstraints, calcViewportConstraints, defaultElastic, rebaseAxisConstraints, resolveAxisElastic, resolveDragElastic, resolvePointElastic };\n//# sourceMappingURL=constraints.mjs.map\n","import { frame, mixNumber, isElementKeyboardAccessible, setDragLock, percent } from 'motion-dom';\nimport { invariant } from 'motion-utils';\nimport { animateMotionValue } from '../../animation/interfaces/motion-value.mjs';\nimport { addDomEvent } from '../../events/add-dom-event.mjs';\nimport { addPointerEvent } from '../../events/add-pointer-event.mjs';\nimport { extractEventInfo } from '../../events/event-info.mjs';\nimport { convertBoxToBoundingBox, convertBoundingBoxToBox } from '../../projection/geometry/conversion.mjs';\nimport { calcLength } from '../../projection/geometry/delta-calc.mjs';\nimport { createBox } from '../../projection/geometry/models.mjs';\nimport { eachAxis } from '../../projection/utils/each-axis.mjs';\nimport { measurePageBox } from '../../projection/utils/measure.mjs';\nimport { getContextWindow } from '../../utils/get-context-window.mjs';\nimport { isRefObject } from '../../utils/is-ref-object.mjs';\nimport { addValueToWillChange } from '../../value/use-will-change/add-will-change.mjs';\nimport { PanSession } from '../pan/PanSession.mjs';\nimport { applyConstraints, calcRelativeConstraints, resolveDragElastic, rebaseAxisConstraints, calcViewportConstraints, calcOrigin, defaultElastic } from './utils/constraints.mjs';\n\nconst elementDragControls = new WeakMap();\nclass VisualElementDragControls {\n    constructor(visualElement) {\n        this.openDragLock = null;\n        this.isDragging = false;\n        this.currentDirection = null;\n        this.originPoint = { x: 0, y: 0 };\n        /**\n         * The permitted boundaries of travel, in pixels.\n         */\n        this.constraints = false;\n        this.hasMutatedConstraints = false;\n        /**\n         * The per-axis resolved elastic values.\n         */\n        this.elastic = createBox();\n        /**\n         * The latest pointer event. Used as fallback when the `cancel` and `stop` functions are called without arguments.\n         */\n        this.latestPointerEvent = null;\n        /**\n         * The latest pan info. Used as fallback when the `cancel` and `stop` functions are called without arguments.\n         */\n        this.latestPanInfo = null;\n        this.visualElement = visualElement;\n    }\n    start(originEvent, { snapToCursor = false, distanceThreshold } = {}) {\n        /**\n         * Don't start dragging if this component is exiting\n         */\n        const { presenceContext } = this.visualElement;\n        if (presenceContext && presenceContext.isPresent === false)\n            return;\n        const onSessionStart = (event) => {\n            // Stop or pause animations based on context:\n            // - snapToCursor: stop because we'll set new position values\n            // - otherwise: pause to allow resume if no drag starts (for constraint animations)\n            if (snapToCursor) {\n                this.stopAnimation();\n                this.snapToCursor(extractEventInfo(event).point);\n            }\n            else {\n                this.pauseAnimation();\n            }\n        };\n        const onStart = (event, info) => {\n            // Stop any paused animation so motion values reflect true current position\n            // (pauseAnimation was called in onSessionStart to allow resume if no drag started)\n            this.stopAnimation();\n            // Attempt to grab the global drag gesture lock - maybe make this part of PanSession\n            const { drag, dragPropagation, onDragStart } = this.getProps();\n            if (drag && !dragPropagation) {\n                if (this.openDragLock)\n                    this.openDragLock();\n                this.openDragLock = setDragLock(drag);\n                // If we don 't have the lock, don't start dragging\n                if (!this.openDragLock)\n                    return;\n            }\n            this.latestPointerEvent = event;\n            this.latestPanInfo = info;\n            this.isDragging = true;\n            this.currentDirection = null;\n            this.resolveConstraints();\n            if (this.visualElement.projection) {\n                this.visualElement.projection.isAnimationBlocked = true;\n                this.visualElement.projection.target = undefined;\n            }\n            /**\n             * Record gesture origin and pointer offset\n             */\n            eachAxis((axis) => {\n                let current = this.getAxisMotionValue(axis).get() || 0;\n                /**\n                 * If the MotionValue is a percentage value convert to px\n                 */\n                if (percent.test(current)) {\n                    const { projection } = this.visualElement;\n                    if (projection && projection.layout) {\n                        const measuredAxis = projection.layout.layoutBox[axis];\n                        if (measuredAxis) {\n                            const length = calcLength(measuredAxis);\n                            current = length * (parseFloat(current) / 100);\n                        }\n                    }\n                }\n                this.originPoint[axis] = current;\n            });\n            // Fire onDragStart event\n            if (onDragStart) {\n                frame.postRender(() => onDragStart(event, info));\n            }\n            addValueToWillChange(this.visualElement, \"transform\");\n            const { animationState } = this.visualElement;\n            animationState && animationState.setActive(\"whileDrag\", true);\n        };\n        const onMove = (event, info) => {\n            this.latestPointerEvent = event;\n            this.latestPanInfo = info;\n            const { dragPropagation, dragDirectionLock, onDirectionLock, onDrag, } = this.getProps();\n            // If we didn't successfully receive the gesture lock, early return.\n            if (!dragPropagation && !this.openDragLock)\n                return;\n            const { offset } = info;\n            // Attempt to detect drag direction if directionLock is true\n            if (dragDirectionLock && this.currentDirection === null) {\n                this.currentDirection = getCurrentDirection(offset);\n                // If we've successfully set a direction, notify listener\n                if (this.currentDirection !== null) {\n                    onDirectionLock && onDirectionLock(this.currentDirection);\n                }\n                return;\n            }\n            // Update each point with the latest position\n            this.updateAxis(\"x\", info.point, offset);\n            this.updateAxis(\"y\", info.point, offset);\n            /**\n             * Ideally we would leave the renderer to fire naturally at the end of\n             * this frame but if the element is about to change layout as the result\n             * of a re-render we want to ensure the browser can read the latest\n             * bounding box to ensure the pointer and element don't fall out of sync.\n             */\n            this.visualElement.render();\n            /**\n             * This must fire after the render call as it might trigger a state\n             * change which itself might trigger a layout update.\n             */\n            onDrag && onDrag(event, info);\n        };\n        const onSessionEnd = (event, info) => {\n            this.latestPointerEvent = event;\n            this.latestPanInfo = info;\n            this.stop(event, info);\n            this.latestPointerEvent = null;\n            this.latestPanInfo = null;\n        };\n        const resumeAnimation = () => eachAxis((axis) => this.getAnimationState(axis) === \"paused\" &&\n            this.getAxisMotionValue(axis).animation?.play());\n        const { dragSnapToOrigin } = this.getProps();\n        this.panSession = new PanSession(originEvent, {\n            onSessionStart,\n            onStart,\n            onMove,\n            onSessionEnd,\n            resumeAnimation,\n        }, {\n            transformPagePoint: this.visualElement.getTransformPagePoint(),\n            dragSnapToOrigin,\n            distanceThreshold,\n            contextWindow: getContextWindow(this.visualElement),\n            element: this.visualElement.current,\n        });\n    }\n    /**\n     * @internal\n     */\n    stop(event, panInfo) {\n        const finalEvent = event || this.latestPointerEvent;\n        const finalPanInfo = panInfo || this.latestPanInfo;\n        const isDragging = this.isDragging;\n        this.cancel();\n        if (!isDragging || !finalPanInfo || !finalEvent)\n            return;\n        const { velocity } = finalPanInfo;\n        this.startAnimation(velocity);\n        const { onDragEnd } = this.getProps();\n        if (onDragEnd) {\n            frame.postRender(() => onDragEnd(finalEvent, finalPanInfo));\n        }\n    }\n    /**\n     * @internal\n     */\n    cancel() {\n        this.isDragging = false;\n        const { projection, animationState } = this.visualElement;\n        if (projection) {\n            projection.isAnimationBlocked = false;\n        }\n        this.panSession && this.panSession.end();\n        this.panSession = undefined;\n        const { dragPropagation } = this.getProps();\n        if (!dragPropagation && this.openDragLock) {\n            this.openDragLock();\n            this.openDragLock = null;\n        }\n        animationState && animationState.setActive(\"whileDrag\", false);\n    }\n    updateAxis(axis, _point, offset) {\n        const { drag } = this.getProps();\n        // If we're not dragging this axis, do an early return.\n        if (!offset || !shouldDrag(axis, drag, this.currentDirection))\n            return;\n        const axisValue = this.getAxisMotionValue(axis);\n        let next = this.originPoint[axis] + offset[axis];\n        // Apply constraints\n        if (this.constraints && this.constraints[axis]) {\n            next = applyConstraints(next, this.constraints[axis], this.elastic[axis]);\n        }\n        axisValue.set(next);\n    }\n    resolveConstraints() {\n        const { dragConstraints, dragElastic } = this.getProps();\n        const layout = this.visualElement.projection &&\n            !this.visualElement.projection.layout\n            ? this.visualElement.projection.measure(false)\n            : this.visualElement.projection?.layout;\n        const prevConstraints = this.constraints;\n        if (dragConstraints && isRefObject(dragConstraints)) {\n            if (!this.constraints) {\n                this.constraints = this.resolveRefConstraints();\n            }\n        }\n        else {\n            if (dragConstraints && layout) {\n                this.constraints = calcRelativeConstraints(layout.layoutBox, dragConstraints);\n            }\n            else {\n                this.constraints = false;\n            }\n        }\n        this.elastic = resolveDragElastic(dragElastic);\n        /**\n         * If we're outputting to external MotionValues, we want to rebase the measured constraints\n         * from viewport-relative to component-relative.\n         */\n        if (prevConstraints !== this.constraints &&\n            layout &&\n            this.constraints &&\n            !this.hasMutatedConstraints) {\n            eachAxis((axis) => {\n                if (this.constraints !== false &&\n                    this.getAxisMotionValue(axis)) {\n                    this.constraints[axis] = rebaseAxisConstraints(layout.layoutBox[axis], this.constraints[axis]);\n                }\n            });\n        }\n    }\n    resolveRefConstraints() {\n        const { dragConstraints: constraints, onMeasureDragConstraints } = this.getProps();\n        if (!constraints || !isRefObject(constraints))\n            return false;\n        const constraintsElement = constraints.current;\n        invariant(constraintsElement !== null, \"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.\", \"drag-constraints-ref\");\n        const { projection } = this.visualElement;\n        // TODO\n        if (!projection || !projection.layout)\n            return false;\n        const constraintsBox = measurePageBox(constraintsElement, projection.root, this.visualElement.getTransformPagePoint());\n        let measuredConstraints = calcViewportConstraints(projection.layout.layoutBox, constraintsBox);\n        /**\n         * If there's an onMeasureDragConstraints listener we call it and\n         * if different constraints are returned, set constraints to that\n         */\n        if (onMeasureDragConstraints) {\n            const userConstraints = onMeasureDragConstraints(convertBoxToBoundingBox(measuredConstraints));\n            this.hasMutatedConstraints = !!userConstraints;\n            if (userConstraints) {\n                measuredConstraints = convertBoundingBoxToBox(userConstraints);\n            }\n        }\n        return measuredConstraints;\n    }\n    startAnimation(velocity) {\n        const { drag, dragMomentum, dragElastic, dragTransition, dragSnapToOrigin, onDragTransitionEnd, } = this.getProps();\n        const constraints = this.constraints || {};\n        const momentumAnimations = eachAxis((axis) => {\n            if (!shouldDrag(axis, drag, this.currentDirection)) {\n                return;\n            }\n            let transition = (constraints && constraints[axis]) || {};\n            if (dragSnapToOrigin)\n                transition = { min: 0, max: 0 };\n            /**\n             * Overdamp the boundary spring if `dragElastic` is disabled. There's still a frame\n             * of spring animations so we should look into adding a disable spring option to `inertia`.\n             * We could do something here where we affect the `bounceStiffness` and `bounceDamping`\n             * using the value of `dragElastic`.\n             */\n            const bounceStiffness = dragElastic ? 200 : 1000000;\n            const bounceDamping = dragElastic ? 40 : 10000000;\n            const inertia = {\n                type: \"inertia\",\n                velocity: dragMomentum ? velocity[axis] : 0,\n                bounceStiffness,\n                bounceDamping,\n                timeConstant: 750,\n                restDelta: 1,\n                restSpeed: 10,\n                ...dragTransition,\n                ...transition,\n            };\n            // If we're not animating on an externally-provided `MotionValue` we can use the\n            // component's animation controls which will handle interactions with whileHover (etc),\n            // otherwise we just have to animate the `MotionValue` itself.\n            return this.startAxisValueAnimation(axis, inertia);\n        });\n        // Run all animations and then resolve the new drag constraints.\n        return Promise.all(momentumAnimations).then(onDragTransitionEnd);\n    }\n    startAxisValueAnimation(axis, transition) {\n        const axisValue = this.getAxisMotionValue(axis);\n        addValueToWillChange(this.visualElement, axis);\n        return axisValue.start(animateMotionValue(axis, axisValue, 0, transition, this.visualElement, false));\n    }\n    stopAnimation() {\n        eachAxis((axis) => this.getAxisMotionValue(axis).stop());\n    }\n    pauseAnimation() {\n        eachAxis((axis) => this.getAxisMotionValue(axis).animation?.pause());\n    }\n    getAnimationState(axis) {\n        return this.getAxisMotionValue(axis).animation?.state;\n    }\n    /**\n     * Drag works differently depending on which props are provided.\n     *\n     * - If _dragX and _dragY are provided, we output the gesture delta directly to those motion values.\n     * - Otherwise, we apply the delta to the x/y motion values.\n     */\n    getAxisMotionValue(axis) {\n        const dragKey = `_drag${axis.toUpperCase()}`;\n        const props = this.visualElement.getProps();\n        const externalMotionValue = props[dragKey];\n        return externalMotionValue\n            ? externalMotionValue\n            : this.visualElement.getValue(axis, (props.initial\n                ? props.initial[axis]\n                : undefined) || 0);\n    }\n    snapToCursor(point) {\n        eachAxis((axis) => {\n            const { drag } = this.getProps();\n            // If we're not dragging this axis, do an early return.\n            if (!shouldDrag(axis, drag, this.currentDirection))\n                return;\n            const { projection } = this.visualElement;\n            const axisValue = this.getAxisMotionValue(axis);\n            if (projection && projection.layout) {\n                const { min, max } = projection.layout.layoutBox[axis];\n                /**\n                 * The layout measurement includes the current transform value,\n                 * so we need to add it back to get the correct snap position.\n                 * This fixes an issue where elements with initial coordinates\n                 * would snap to the wrong position on the first drag.\n                 */\n                const current = axisValue.get() || 0;\n                axisValue.set(point[axis] - mixNumber(min, max, 0.5) + current);\n            }\n        });\n    }\n    /**\n     * When the viewport resizes we want to check if the measured constraints\n     * have changed and, if so, reposition the element within those new constraints\n     * relative to where it was before the resize.\n     */\n    scalePositionWithinConstraints() {\n        if (!this.visualElement.current)\n            return;\n        const { drag, dragConstraints } = this.getProps();\n        const { projection } = this.visualElement;\n        if (!isRefObject(dragConstraints) || !projection || !this.constraints)\n            return;\n        /**\n         * Stop current animations as there can be visual glitching if we try to do\n         * this mid-animation\n         */\n        this.stopAnimation();\n        /**\n         * Record the relative position of the dragged element relative to the\n         * constraints box and save as a progress value.\n         */\n        const boxProgress = { x: 0, y: 0 };\n        eachAxis((axis) => {\n            const axisValue = this.getAxisMotionValue(axis);\n            if (axisValue && this.constraints !== false) {\n                const latest = axisValue.get();\n                boxProgress[axis] = calcOrigin({ min: latest, max: latest }, this.constraints[axis]);\n            }\n        });\n        /**\n         * Update the layout of this element and resolve the latest drag constraints\n         */\n        const { transformTemplate } = this.visualElement.getProps();\n        this.visualElement.current.style.transform = transformTemplate\n            ? transformTemplate({}, \"\")\n            : \"none\";\n        projection.root && projection.root.updateScroll();\n        projection.updateLayout();\n        this.resolveConstraints();\n        /**\n         * For each axis, calculate the current progress of the layout axis\n         * within the new constraints.\n         */\n        eachAxis((axis) => {\n            if (!shouldDrag(axis, drag, null))\n                return;\n            /**\n             * Calculate a new transform based on the previous box progress\n             */\n            const axisValue = this.getAxisMotionValue(axis);\n            const { min, max } = this.constraints[axis];\n            axisValue.set(mixNumber(min, max, boxProgress[axis]));\n        });\n    }\n    addListeners() {\n        if (!this.visualElement.current)\n            return;\n        elementDragControls.set(this.visualElement, this);\n        const element = this.visualElement.current;\n        /**\n         * Attach a pointerdown event listener on this DOM element to initiate drag tracking.\n         */\n        const stopPointerListener = addPointerEvent(element, \"pointerdown\", (event) => {\n            const { drag, dragListener = true } = this.getProps();\n            if (drag &&\n                dragListener &&\n                !isElementKeyboardAccessible(event.target)) {\n                this.start(event);\n            }\n        });\n        const measureDragConstraints = () => {\n            const { dragConstraints } = this.getProps();\n            if (isRefObject(dragConstraints) && dragConstraints.current) {\n                this.constraints = this.resolveRefConstraints();\n            }\n        };\n        const { projection } = this.visualElement;\n        const stopMeasureLayoutListener = projection.addEventListener(\"measure\", measureDragConstraints);\n        if (projection && !projection.layout) {\n            projection.root && projection.root.updateScroll();\n            projection.updateLayout();\n        }\n        frame.read(measureDragConstraints);\n        /**\n         * Attach a window resize listener to scale the draggable target within its defined\n         * constraints as the window resizes.\n         */\n        const stopResizeListener = addDomEvent(window, \"resize\", () => this.scalePositionWithinConstraints());\n        /**\n         * If the element's layout changes, calculate the delta and apply that to\n         * the drag gesture's origin point.\n         */\n        const stopLayoutUpdateListener = projection.addEventListener(\"didUpdate\", (({ delta, hasLayoutChanged }) => {\n            if (this.isDragging && hasLayoutChanged) {\n                eachAxis((axis) => {\n                    const motionValue = this.getAxisMotionValue(axis);\n                    if (!motionValue)\n                        return;\n                    this.originPoint[axis] += delta[axis].translate;\n                    motionValue.set(motionValue.get() + delta[axis].translate);\n                });\n                this.visualElement.render();\n            }\n        }));\n        return () => {\n            stopResizeListener();\n            stopPointerListener();\n            stopMeasureLayoutListener();\n            stopLayoutUpdateListener && stopLayoutUpdateListener();\n        };\n    }\n    getProps() {\n        const props = this.visualElement.getProps();\n        const { drag = false, dragDirectionLock = false, dragPropagation = false, dragConstraints = false, dragElastic = defaultElastic, dragMomentum = true, } = props;\n        return {\n            ...props,\n            drag,\n            dragDirectionLock,\n            dragPropagation,\n            dragConstraints,\n            dragElastic,\n            dragMomentum,\n        };\n    }\n}\nfunction shouldDrag(direction, drag, currentDirection) {\n    return ((drag === true || drag === direction) &&\n        (currentDirection === null || currentDirection === direction));\n}\n/**\n * Based on an x/y offset determine the current drag direction. If both axis' offsets are lower\n * than the provided threshold, return `null`.\n *\n * @param offset - The x/y offset from origin.\n * @param lockThreshold - (Optional) - the minimum absolute offset before we can determine a drag direction.\n */\nfunction getCurrentDirection(offset, lockThreshold = 10) {\n    let direction = null;\n    if (Math.abs(offset.y) > lockThreshold) {\n        direction = \"y\";\n    }\n    else if (Math.abs(offset.x) > lockThreshold) {\n        direction = \"x\";\n    }\n    return direction;\n}\n\nexport { VisualElementDragControls, elementDragControls };\n//# sourceMappingURL=VisualElementDragControls.mjs.map\n","import { isDragging } from './is-active.mjs';\n\nfunction setDragLock(axis) {\n    if (axis === \"x\" || axis === \"y\") {\n        if (isDragging[axis]) {\n            return null;\n        }\n        else {\n            isDragging[axis] = true;\n            return () => {\n                isDragging[axis] = false;\n            };\n        }\n    }\n    else {\n        if (isDragging.x || isDragging.y) {\n            return null;\n        }\n        else {\n            isDragging.x = isDragging.y = true;\n            return () => {\n                isDragging.x = isDragging.y = false;\n            };\n        }\n    }\n}\n\nexport { setDragLock };\n","import { frame } from 'motion-dom';\nimport { noop } from 'motion-utils';\nimport { addPointerEvent } from '../../events/add-pointer-event.mjs';\nimport { Feature } from '../../motion/features/Feature.mjs';\nimport { getContextWindow } from '../../utils/get-context-window.mjs';\nimport { PanSession } from './PanSession.mjs';\n\nconst asyncHandler = (handler) => (event, info) => {\n    if (handler) {\n        frame.postRender(() => handler(event, info));\n    }\n};\nclass PanGesture extends Feature {\n    constructor() {\n        super(...arguments);\n        this.removePointerDownListener = noop;\n    }\n    onPointerDown(pointerDownEvent) {\n        this.session = new PanSession(pointerDownEvent, this.createPanHandlers(), {\n            transformPagePoint: this.node.getTransformPagePoint(),\n            contextWindow: getContextWindow(this.node),\n        });\n    }\n    createPanHandlers() {\n        const { onPanSessionStart, onPanStart, onPan, onPanEnd } = this.node.getProps();\n        return {\n            onSessionStart: asyncHandler(onPanSessionStart),\n            onStart: asyncHandler(onPanStart),\n            onMove: onPan,\n            onEnd: (event, info) => {\n                delete this.session;\n                if (onPanEnd) {\n                    frame.postRender(() => onPanEnd(event, info));\n                }\n            },\n        };\n    }\n    mount() {\n        this.removePointerDownListener = addPointerEvent(this.node.current, \"pointerdown\", (event) => this.onPointerDown(event));\n    }\n    update() {\n        this.session && this.session.updateHandlers(this.createPanHandlers());\n    }\n    unmount() {\n        this.removePointerDownListener();\n        this.session && this.session.end();\n    }\n}\n\nexport { PanGesture };\n//# sourceMappingURL=index.mjs.map\n","/**\n * This should only ever be modified on the client otherwise it'll\n * persist through server requests. If we need instanced states we\n * could lazy-init via root.\n */\nconst globalProjectionState = {\n    /**\n     * Global flag as to whether the tree has animated since the last time\n     * we resized the window\n     */\n    hasAnimatedSinceResize: true,\n    /**\n     * We set this to true once, on the first update. Any nodes added to the tree beyond that\n     * update will be given a `data-projection-id` attribute.\n     */\n    hasEverUpdated: false,\n};\n\nexport { globalProjectionState };\n//# sourceMappingURL=state.mjs.map\n","\"use client\";\nimport { jsx } from 'react/jsx-runtime';\nimport { frame, microtask } from 'motion-dom';\nimport { useContext, Component } from 'react';\nimport { usePresence } from '../../../components/AnimatePresence/use-presence.mjs';\nimport { LayoutGroupContext } from '../../../context/LayoutGroupContext.mjs';\nimport { SwitchLayoutGroupContext } from '../../../context/SwitchLayoutGroupContext.mjs';\nimport { globalProjectionState } from '../../../projection/node/state.mjs';\n\n/**\n * Track whether we've taken any snapshots yet. If not,\n * we can safely skip notification of didUpdate.\n *\n * Difficult to capture in a test but to prevent flickering\n * we must set this to true either on update or unmount.\n * Running `next-env/layout-id` in Safari will show this behaviour if broken.\n */\nlet hasTakenAnySnapshot = false;\nclass MeasureLayoutWithContext extends Component {\n    /**\n     * This only mounts projection nodes for components that\n     * need measuring, we might want to do it for all components\n     * in order to incorporate transforms\n     */\n    componentDidMount() {\n        const { visualElement, layoutGroup, switchLayoutGroup, layoutId } = this.props;\n        const { projection } = visualElement;\n        if (projection) {\n            if (layoutGroup.group)\n                layoutGroup.group.add(projection);\n            if (switchLayoutGroup && switchLayoutGroup.register && layoutId) {\n                switchLayoutGroup.register(projection);\n            }\n            if (hasTakenAnySnapshot) {\n                projection.root.didUpdate();\n            }\n            projection.addEventListener(\"animationComplete\", () => {\n                this.safeToRemove();\n            });\n            projection.setOptions({\n                ...projection.options,\n                onExitComplete: () => this.safeToRemove(),\n            });\n        }\n        globalProjectionState.hasEverUpdated = true;\n    }\n    getSnapshotBeforeUpdate(prevProps) {\n        const { layoutDependency, visualElement, drag, isPresent } = this.props;\n        const { projection } = visualElement;\n        if (!projection)\n            return null;\n        /**\n         * TODO: We use this data in relegate to determine whether to\n         * promote a previous element. There's no guarantee its presence data\n         * will have updated by this point - if a bug like this arises it will\n         * have to be that we markForRelegation and then find a new lead some other way,\n         * perhaps in didUpdate\n         */\n        projection.isPresent = isPresent;\n        hasTakenAnySnapshot = true;\n        if (drag ||\n            prevProps.layoutDependency !== layoutDependency ||\n            layoutDependency === undefined ||\n            prevProps.isPresent !== isPresent) {\n            projection.willUpdate();\n        }\n        else {\n            this.safeToRemove();\n        }\n        if (prevProps.isPresent !== isPresent) {\n            if (isPresent) {\n                projection.promote();\n            }\n            else if (!projection.relegate()) {\n                /**\n                 * If there's another stack member taking over from this one,\n                 * it's in charge of the exit animation and therefore should\n                 * be in charge of the safe to remove. Otherwise we call it here.\n                 */\n                frame.postRender(() => {\n                    const stack = projection.getStack();\n                    if (!stack || !stack.members.length) {\n                        this.safeToRemove();\n                    }\n                });\n            }\n        }\n        return null;\n    }\n    componentDidUpdate() {\n        const { projection } = this.props.visualElement;\n        if (projection) {\n            projection.root.didUpdate();\n            microtask.postRender(() => {\n                if (!projection.currentAnimation && projection.isLead()) {\n                    this.safeToRemove();\n                }\n            });\n        }\n    }\n    componentWillUnmount() {\n        const { visualElement, layoutGroup, switchLayoutGroup: promoteContext, } = this.props;\n        const { projection } = visualElement;\n        hasTakenAnySnapshot = true;\n        if (projection) {\n            projection.scheduleCheckAfterUnmount();\n            if (layoutGroup && layoutGroup.group)\n                layoutGroup.group.remove(projection);\n            if (promoteContext && promoteContext.deregister)\n                promoteContext.deregister(projection);\n        }\n    }\n    safeToRemove() {\n        const { safeToRemove } = this.props;\n        safeToRemove && safeToRemove();\n    }\n    render() {\n        return null;\n    }\n}\nfunction MeasureLayout(props) {\n    const [isPresent, safeToRemove] = usePresence();\n    const layoutGroup = useContext(LayoutGroupContext);\n    return (jsx(MeasureLayoutWithContext, { ...props, layoutGroup: layoutGroup, switchLayoutGroup: useContext(SwitchLayoutGroupContext), isPresent: isPresent, safeToRemove: safeToRemove }));\n}\n\nexport { MeasureLayout };\n//# sourceMappingURL=MeasureLayout.mjs.map\n","\"use client\";\nimport { useContext, useId, useEffect, useCallback } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\n\n/**\n * When a component is the child of `AnimatePresence`, it can use `usePresence`\n * to access information about whether it's still present in the React tree.\n *\n * ```jsx\n * import { usePresence } from \"framer-motion\"\n *\n * export const Component = () => {\n *   const [isPresent, safeToRemove] = usePresence()\n *\n *   useEffect(() => {\n *     !isPresent && setTimeout(safeToRemove, 1000)\n *   }, [isPresent])\n *\n *   return <div />\n * }\n * ```\n *\n * If `isPresent` is `false`, it means that a component has been removed the tree, but\n * `AnimatePresence` won't really remove it until `safeToRemove` has been called.\n *\n * @public\n */\nfunction usePresence(subscribe = true) {\n    const context = useContext(PresenceContext);\n    if (context === null)\n        return [true, null];\n    const { isPresent, onExitComplete, register } = context;\n    // It's safe to call the following hooks conditionally (after an early return) because the context will always\n    // either be null or non-null for the lifespan of the component.\n    const id = useId();\n    useEffect(() => {\n        if (subscribe) {\n            return register(id);\n        }\n    }, [subscribe]);\n    const safeToRemove = useCallback(() => subscribe && onExitComplete && onExitComplete(id), [id, onExitComplete, subscribe]);\n    return !isPresent && onExitComplete ? [false, safeToRemove] : [true];\n}\n/**\n * Similar to `usePresence`, except `useIsPresent` simply returns whether or not the component is present.\n * There is no `safeToRemove` function.\n *\n * ```jsx\n * import { useIsPresent } from \"framer-motion\"\n *\n * export const Component = () => {\n *   const isPresent = useIsPresent()\n *\n *   useEffect(() => {\n *     !isPresent && console.log(\"I've been removed!\")\n *   }, [isPresent])\n *\n *   return <div />\n * }\n * ```\n *\n * @public\n */\nfunction useIsPresent() {\n    return isPresent(useContext(PresenceContext));\n}\nfunction isPresent(context) {\n    return context === null ? true : context.isPresent;\n}\n\nexport { isPresent, useIsPresent, usePresence };\n//# sourceMappingURL=use-presence.mjs.map\n","function isObject(value) {\n    return typeof value === \"object\" && value !== null;\n}\n\nexport { isObject };\n","import { isObject } from 'motion-utils';\n\n/**\n * Checks if an element is an SVG element in a way\n * that works across iframes\n */\nfunction isSVGElement(element) {\n    return isObject(element) && \"ownerSVGElement\" in element;\n}\n\nexport { isSVGElement };\n","const compareByDepth = (a, b) => a.depth - b.depth;\n\nexport { compareByDepth };\n//# sourceMappingURL=compare-by-depth.mjs.map\n","import { addUniqueItem, removeItem } from 'motion-utils';\nimport { compareByDepth } from './compare-by-depth.mjs';\n\nclass FlatTree {\n    constructor() {\n        this.children = [];\n        this.isDirty = false;\n    }\n    add(child) {\n        addUniqueItem(this.children, child);\n        this.isDirty = true;\n    }\n    remove(child) {\n        removeItem(this.children, child);\n        this.isDirty = true;\n    }\n    forEach(callback) {\n        this.isDirty && this.children.sort(compareByDepth);\n        this.isDirty = false;\n        this.children.forEach(callback);\n    }\n}\n\nexport { FlatTree };\n//# sourceMappingURL=flat-tree.mjs.map\n","import { time, frame, cancelFrame } from 'motion-dom';\nimport { secondsToMilliseconds } from 'motion-utils';\n\n/**\n * Timeout defined in ms\n */\nfunction delay(callback, timeout) {\n    const start = time.now();\n    const checkElapsed = ({ timestamp }) => {\n        const elapsed = timestamp - start;\n        if (elapsed >= timeout) {\n            cancelFrame(checkElapsed);\n            callback(elapsed - timeout);\n        }\n    };\n    frame.setup(checkElapsed, true);\n    return () => cancelFrame(checkElapsed);\n}\nfunction delayInSeconds(callback, timeout) {\n    return delay(callback, secondsToMilliseconds(timeout));\n}\n\nexport { delay, delayInSeconds };\n//# sourceMappingURL=delay.mjs.map\n","import { mixNumber, percent, px } from 'motion-dom';\nimport { progress, circOut, noop } from 'motion-utils';\n\nconst borders = [\"TopLeft\", \"TopRight\", \"BottomLeft\", \"BottomRight\"];\nconst numBorders = borders.length;\nconst asNumber = (value) => typeof value === \"string\" ? parseFloat(value) : value;\nconst isPx = (value) => typeof value === \"number\" || px.test(value);\nfunction mixValues(target, follow, lead, progress, shouldCrossfadeOpacity, isOnlyMember) {\n    if (shouldCrossfadeOpacity) {\n        target.opacity = mixNumber(0, lead.opacity ?? 1, easeCrossfadeIn(progress));\n        target.opacityExit = mixNumber(follow.opacity ?? 1, 0, easeCrossfadeOut(progress));\n    }\n    else if (isOnlyMember) {\n        target.opacity = mixNumber(follow.opacity ?? 1, lead.opacity ?? 1, progress);\n    }\n    /**\n     * Mix border radius\n     */\n    for (let i = 0; i < numBorders; i++) {\n        const borderLabel = `border${borders[i]}Radius`;\n        let followRadius = getRadius(follow, borderLabel);\n        let leadRadius = getRadius(lead, borderLabel);\n        if (followRadius === undefined && leadRadius === undefined)\n            continue;\n        followRadius || (followRadius = 0);\n        leadRadius || (leadRadius = 0);\n        const canMix = followRadius === 0 ||\n            leadRadius === 0 ||\n            isPx(followRadius) === isPx(leadRadius);\n        if (canMix) {\n            target[borderLabel] = Math.max(mixNumber(asNumber(followRadius), asNumber(leadRadius), progress), 0);\n            if (percent.test(leadRadius) || percent.test(followRadius)) {\n                target[borderLabel] += \"%\";\n            }\n        }\n        else {\n            target[borderLabel] = leadRadius;\n        }\n    }\n    /**\n     * Mix rotation\n     */\n    if (follow.rotate || lead.rotate) {\n        target.rotate = mixNumber(follow.rotate || 0, lead.rotate || 0, progress);\n    }\n}\nfunction getRadius(values, radiusName) {\n    return values[radiusName] !== undefined\n        ? values[radiusName]\n        : values.borderRadius;\n}\n// /**\n//  * We only want to mix the background color if there's a follow element\n//  * that we're not crossfading opacity between. For instance with switch\n//  * AnimateSharedLayout animations, this helps the illusion of a continuous\n//  * element being animated but also cuts down on the number of paints triggered\n//  * for elements where opacity is doing that work for us.\n//  */\n// if (\n//     !hasFollowElement &&\n//     latestLeadValues.backgroundColor &&\n//     latestFollowValues.backgroundColor\n// ) {\n//     /**\n//      * This isn't ideal performance-wise as mixColor is creating a new function every frame.\n//      * We could probably create a mixer that runs at the start of the animation but\n//      * the idea behind the crossfader is that it runs dynamically between two potentially\n//      * changing targets (ie opacity or borderRadius may be animating independently via variants)\n//      */\n//     leadState.backgroundColor = followState.backgroundColor = mixColor(\n//         latestFollowValues.backgroundColor as string,\n//         latestLeadValues.backgroundColor as string\n//     )(p)\n// }\nconst easeCrossfadeIn = /*@__PURE__*/ compress(0, 0.5, circOut);\nconst easeCrossfadeOut = /*@__PURE__*/ compress(0.5, 0.95, noop);\nfunction compress(min, max, easing) {\n    return (p) => {\n        // Could replace ifs with clamp\n        if (p < min)\n            return 0;\n        if (p > max)\n            return 1;\n        return easing(progress(min, max, p));\n    };\n}\n\nexport { mixValues };\n//# sourceMappingURL=mix-values.mjs.map\n","/**\n * Reset an axis to the provided origin box.\n *\n * This is a mutative operation.\n */\nfunction copyAxisInto(axis, originAxis) {\n    axis.min = originAxis.min;\n    axis.max = originAxis.max;\n}\n/**\n * Reset a box to the provided origin box.\n *\n * This is a mutative operation.\n */\nfunction copyBoxInto(box, originBox) {\n    copyAxisInto(box.x, originBox.x);\n    copyAxisInto(box.y, originBox.y);\n}\n/**\n * Reset a delta to the provided origin box.\n *\n * This is a mutative operation.\n */\nfunction copyAxisDeltaInto(delta, originDelta) {\n    delta.translate = originDelta.translate;\n    delta.scale = originDelta.scale;\n    delta.originPoint = originDelta.originPoint;\n    delta.origin = originDelta.origin;\n}\n\nexport { copyAxisDeltaInto, copyAxisInto, copyBoxInto };\n//# sourceMappingURL=copy.mjs.map\n","import { percent, mixNumber } from 'motion-dom';\nimport { scalePoint } from './delta-apply.mjs';\n\n/**\n * Remove a delta from a point. This is essentially the steps of applyPointDelta in reverse\n */\nfunction removePointDelta(point, translate, scale, originPoint, boxScale) {\n    point -= translate;\n    point = scalePoint(point, 1 / scale, originPoint);\n    if (boxScale !== undefined) {\n        point = scalePoint(point, 1 / boxScale, originPoint);\n    }\n    return point;\n}\n/**\n * Remove a delta from an axis. This is essentially the steps of applyAxisDelta in reverse\n */\nfunction removeAxisDelta(axis, translate = 0, scale = 1, origin = 0.5, boxScale, originAxis = axis, sourceAxis = axis) {\n    if (percent.test(translate)) {\n        translate = parseFloat(translate);\n        const relativeProgress = mixNumber(sourceAxis.min, sourceAxis.max, translate / 100);\n        translate = relativeProgress - sourceAxis.min;\n    }\n    if (typeof translate !== \"number\")\n        return;\n    let originPoint = mixNumber(originAxis.min, originAxis.max, origin);\n    if (axis === originAxis)\n        originPoint -= translate;\n    axis.min = removePointDelta(axis.min, translate, scale, originPoint, boxScale);\n    axis.max = removePointDelta(axis.max, translate, scale, originPoint, boxScale);\n}\n/**\n * Remove a transforms from an axis. This is essentially the steps of applyAxisTransforms in reverse\n * and acts as a bridge between motion values and removeAxisDelta\n */\nfunction removeAxisTransforms(axis, transforms, [key, scaleKey, originKey], origin, sourceAxis) {\n    removeAxisDelta(axis, transforms[key], transforms[scaleKey], transforms[originKey], transforms.scale, origin, sourceAxis);\n}\n/**\n * The names of the motion values we want to apply as translation, scale and origin.\n */\nconst xKeys = [\"x\", \"scaleX\", \"originX\"];\nconst yKeys = [\"y\", \"scaleY\", \"originY\"];\n/**\n * Remove a transforms from an box. This is essentially the steps of applyAxisBox in reverse\n * and acts as a bridge between motion values and removeAxisDelta\n */\nfunction removeBoxTransforms(box, transforms, originBox, sourceBox) {\n    removeAxisTransforms(box.x, transforms, xKeys, originBox ? originBox.x : undefined, sourceBox ? sourceBox.x : undefined);\n    removeAxisTransforms(box.y, transforms, yKeys, originBox ? originBox.y : undefined, sourceBox ? sourceBox.y : undefined);\n}\n\nexport { removeAxisDelta, removeAxisTransforms, removeBoxTransforms, removePointDelta };\n//# sourceMappingURL=delta-remove.mjs.map\n","import { calcLength } from './delta-calc.mjs';\n\nfunction isAxisDeltaZero(delta) {\n    return delta.translate === 0 && delta.scale === 1;\n}\nfunction isDeltaZero(delta) {\n    return isAxisDeltaZero(delta.x) && isAxisDeltaZero(delta.y);\n}\nfunction axisEquals(a, b) {\n    return a.min === b.min && a.max === b.max;\n}\nfunction boxEquals(a, b) {\n    return axisEquals(a.x, b.x) && axisEquals(a.y, b.y);\n}\nfunction axisEqualsRounded(a, b) {\n    return (Math.round(a.min) === Math.round(b.min) &&\n        Math.round(a.max) === Math.round(b.max));\n}\nfunction boxEqualsRounded(a, b) {\n    return axisEqualsRounded(a.x, b.x) && axisEqualsRounded(a.y, b.y);\n}\nfunction aspectRatio(box) {\n    return calcLength(box.x) / calcLength(box.y);\n}\nfunction axisDeltaEquals(a, b) {\n    return (a.translate === b.translate &&\n        a.scale === b.scale &&\n        a.originPoint === b.originPoint);\n}\n\nexport { aspectRatio, axisDeltaEquals, axisEquals, axisEqualsRounded, boxEquals, boxEqualsRounded, isDeltaZero };\n//# sourceMappingURL=utils.mjs.map\n","import { addUniqueItem, removeItem } from 'motion-utils';\n\nclass NodeStack {\n    constructor() {\n        this.members = [];\n    }\n    add(node) {\n        addUniqueItem(this.members, node);\n        node.scheduleRender();\n    }\n    remove(node) {\n        removeItem(this.members, node);\n        if (node === this.prevLead) {\n            this.prevLead = undefined;\n        }\n        if (node === this.lead) {\n            const prevLead = this.members[this.members.length - 1];\n            if (prevLead) {\n                this.promote(prevLead);\n            }\n        }\n    }\n    relegate(node) {\n        const indexOfNode = this.members.findIndex((member) => node === member);\n        if (indexOfNode === 0)\n            return false;\n        /**\n         * Find the next projection node that is present\n         */\n        let prevLead;\n        for (let i = indexOfNode; i >= 0; i--) {\n            const member = this.members[i];\n            if (member.isPresent !== false) {\n                prevLead = member;\n                break;\n            }\n        }\n        if (prevLead) {\n            this.promote(prevLead);\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    promote(node, preserveFollowOpacity) {\n        const prevLead = this.lead;\n        if (node === prevLead)\n            return;\n        this.prevLead = prevLead;\n        this.lead = node;\n        node.show();\n        if (prevLead) {\n            prevLead.instance && prevLead.scheduleRender();\n            node.scheduleRender();\n            node.resumeFrom = prevLead;\n            if (preserveFollowOpacity) {\n                node.resumeFrom.preserveOpacity = true;\n            }\n            if (prevLead.snapshot) {\n                node.snapshot = prevLead.snapshot;\n                node.snapshot.latestValues =\n                    prevLead.animationValues || prevLead.latestValues;\n            }\n            if (node.root && node.root.isUpdating) {\n                node.isLayoutDirty = true;\n            }\n            const { crossfade } = node.options;\n            if (crossfade === false) {\n                prevLead.hide();\n            }\n            /**\n             * TODO:\n             *   - Test border radius when previous node was deleted\n             *   - boxShadow mixing\n             *   - Shared between element A in scrolled container and element B (scroll stays the same or changes)\n             *   - Shared between element A in transformed container and element B (transform stays the same or changes)\n             *   - Shared between element A in scrolled page and element B (scroll stays the same or changes)\n             * ---\n             *   - Crossfade opacity of root nodes\n             *   - layoutId changes after animation\n             *   - layoutId changes mid animation\n             */\n        }\n    }\n    exitAnimationComplete() {\n        this.members.forEach((node) => {\n            const { options, resumingFrom } = node;\n            options.onExitComplete && options.onExitComplete();\n            if (resumingFrom) {\n                resumingFrom.options.onExitComplete &&\n                    resumingFrom.options.onExitComplete();\n            }\n        });\n    }\n    scheduleRender() {\n        this.members.forEach((node) => {\n            node.instance && node.scheduleRender(false);\n        });\n    }\n    /**\n     * Clear any leads that have been removed this render to prevent them from being\n     * used in future animations and to prevent memory leaks\n     */\n    removeLeadSnapshot() {\n        if (this.lead && this.lead.snapshot) {\n            this.lead.snapshot = undefined;\n        }\n    }\n}\n\nexport { NodeStack };\n//# sourceMappingURL=stack.mjs.map\n","import { statsBuffer, isSVGElement, isSVGSVGElement, frame, getValueTransition, cancelFrame, time, frameData, frameSteps, microtask, activeAnimations, motionValue, mixNumber } from 'motion-dom';\nimport { SubscriptionManager, clamp, noop } from 'motion-utils';\nimport { animateSingleValue } from '../../animation/animate/single-value.mjs';\nimport { getOptimisedAppearId } from '../../animation/optimized-appear/get-appear-id.mjs';\nimport { FlatTree } from '../../render/utils/flat-tree.mjs';\nimport { delay } from '../../utils/delay.mjs';\nimport { resolveMotionValue } from '../../value/utils/resolve-motion-value.mjs';\nimport { mixValues } from '../animation/mix-values.mjs';\nimport { copyBoxInto, copyAxisDeltaInto } from '../geometry/copy.mjs';\nimport { translateAxis, transformBox, applyBoxDelta, applyTreeDeltas } from '../geometry/delta-apply.mjs';\nimport { calcLength, calcRelativeBox, calcRelativePosition, calcBoxDelta, isNear } from '../geometry/delta-calc.mjs';\nimport { removeBoxTransforms } from '../geometry/delta-remove.mjs';\nimport { createBox, createDelta } from '../geometry/models.mjs';\nimport { boxEqualsRounded, isDeltaZero, axisDeltaEquals, aspectRatio, boxEquals } from '../geometry/utils.mjs';\nimport { NodeStack } from '../shared/stack.mjs';\nimport { scaleCorrectors } from '../styles/scale-correction.mjs';\nimport { buildProjectionTransform } from '../styles/transform.mjs';\nimport { eachAxis } from '../utils/each-axis.mjs';\nimport { hasTransform, hasScale, has2DTranslate } from '../utils/has-transform.mjs';\nimport { globalProjectionState } from './state.mjs';\n\nconst metrics = {\n    nodes: 0,\n    calculatedTargetDeltas: 0,\n    calculatedProjections: 0,\n};\nconst transformAxes = [\"\", \"X\", \"Y\", \"Z\"];\n/**\n * We use 1000 as the animation target as 0-1000 maps better to pixels than 0-1\n * which has a noticeable difference in spring animations\n */\nconst animationTarget = 1000;\nlet id = 0;\nfunction resetDistortingTransform(key, visualElement, values, sharedAnimationValues) {\n    const { latestValues } = visualElement;\n    // Record the distorting transform and then temporarily set it to 0\n    if (latestValues[key]) {\n        values[key] = latestValues[key];\n        visualElement.setStaticValue(key, 0);\n        if (sharedAnimationValues) {\n            sharedAnimationValues[key] = 0;\n        }\n    }\n}\nfunction cancelTreeOptimisedTransformAnimations(projectionNode) {\n    projectionNode.hasCheckedOptimisedAppear = true;\n    if (projectionNode.root === projectionNode)\n        return;\n    const { visualElement } = projectionNode.options;\n    if (!visualElement)\n        return;\n    const appearId = getOptimisedAppearId(visualElement);\n    if (window.MotionHasOptimisedAnimation(appearId, \"transform\")) {\n        const { layout, layoutId } = projectionNode.options;\n        window.MotionCancelOptimisedAnimation(appearId, \"transform\", frame, !(layout || layoutId));\n    }\n    const { parent } = projectionNode;\n    if (parent && !parent.hasCheckedOptimisedAppear) {\n        cancelTreeOptimisedTransformAnimations(parent);\n    }\n}\nfunction createProjectionNode({ attachResizeListener, defaultParent, measureScroll, checkIsScrollRoot, resetTransform, }) {\n    return class ProjectionNode {\n        constructor(latestValues = {}, parent = defaultParent?.()) {\n            /**\n             * A unique ID generated for every projection node.\n             */\n            this.id = id++;\n            /**\n             * An id that represents a unique session instigated by startUpdate.\n             */\n            this.animationId = 0;\n            this.animationCommitId = 0;\n            /**\n             * A Set containing all this component's children. This is used to iterate\n             * through the children.\n             *\n             * TODO: This could be faster to iterate as a flat array stored on the root node.\n             */\n            this.children = new Set();\n            /**\n             * Options for the node. We use this to configure what kind of layout animations\n             * we should perform (if any).\n             */\n            this.options = {};\n            /**\n             * We use this to detect when its safe to shut down part of a projection tree.\n             * We have to keep projecting children for scale correction and relative projection\n             * until all their parents stop performing layout animations.\n             */\n            this.isTreeAnimating = false;\n            this.isAnimationBlocked = false;\n            /**\n             * Flag to true if we think this layout has been changed. We can't always know this,\n             * currently we set it to true every time a component renders, or if it has a layoutDependency\n             * if that has changed between renders. Additionally, components can be grouped by LayoutGroup\n             * and if one node is dirtied, they all are.\n             */\n            this.isLayoutDirty = false;\n            /**\n             * Flag to true if we think the projection calculations for this node needs\n             * recalculating as a result of an updated transform or layout animation.\n             */\n            this.isProjectionDirty = false;\n            /**\n             * Flag to true if the layout *or* transform has changed. This then gets propagated\n             * throughout the projection tree, forcing any element below to recalculate on the next frame.\n             */\n            this.isSharedProjectionDirty = false;\n            /**\n             * Flag transform dirty. This gets propagated throughout the whole tree but is only\n             * respected by shared nodes.\n             */\n            this.isTransformDirty = false;\n            /**\n             * Block layout updates for instant layout transitions throughout the tree.\n             */\n            this.updateManuallyBlocked = false;\n            this.updateBlockedByResize = false;\n            /**\n             * Set to true between the start of the first `willUpdate` call and the end of the `didUpdate`\n             * call.\n             */\n            this.isUpdating = false;\n            /**\n             * If this is an SVG element we currently disable projection transforms\n             */\n            this.isSVG = false;\n            /**\n             * Flag to true (during promotion) if a node doing an instant layout transition needs to reset\n             * its projection styles.\n             */\n            this.needsReset = false;\n            /**\n             * Flags whether this node should have its transform reset prior to measuring.\n             */\n            this.shouldResetTransform = false;\n            /**\n             * Store whether this node has been checked for optimised appear animations. As\n             * effects fire bottom-up, and we want to look up the tree for appear animations,\n             * this makes sure we only check each path once, stopping at nodes that\n             * have already been checked.\n             */\n            this.hasCheckedOptimisedAppear = false;\n            /**\n             * An object representing the calculated contextual/accumulated/tree scale.\n             * This will be used to scale calculcated projection transforms, as these are\n             * calculated in screen-space but need to be scaled for elements to layoutly\n             * make it to their calculated destinations.\n             *\n             * TODO: Lazy-init\n             */\n            this.treeScale = { x: 1, y: 1 };\n            /**\n             *\n             */\n            this.eventHandlers = new Map();\n            this.hasTreeAnimated = false;\n            this.layoutVersion = 0;\n            // Note: Currently only running on root node\n            this.updateScheduled = false;\n            this.scheduleUpdate = () => this.update();\n            this.projectionUpdateScheduled = false;\n            this.checkUpdateFailed = () => {\n                if (this.isUpdating) {\n                    this.isUpdating = false;\n                    this.clearAllSnapshots();\n                }\n            };\n            /**\n             * This is a multi-step process as shared nodes might be of different depths. Nodes\n             * are sorted by depth order, so we need to resolve the entire tree before moving to\n             * the next step.\n             */\n            this.updateProjection = () => {\n                this.projectionUpdateScheduled = false;\n                /**\n                 * Reset debug counts. Manually resetting rather than creating a new\n                 * object each frame.\n                 */\n                if (statsBuffer.value) {\n                    metrics.nodes =\n                        metrics.calculatedTargetDeltas =\n                            metrics.calculatedProjections =\n                                0;\n                }\n                this.nodes.forEach(propagateDirtyNodes);\n                this.nodes.forEach(resolveTargetDelta);\n                this.nodes.forEach(calcProjection);\n                this.nodes.forEach(cleanDirtyNodes);\n                if (statsBuffer.addProjectionMetrics) {\n                    statsBuffer.addProjectionMetrics(metrics);\n                }\n            };\n            /**\n             * Frame calculations\n             */\n            this.resolvedRelativeTargetAt = 0.0;\n            this.linkedParentVersion = 0;\n            this.hasProjected = false;\n            this.isVisible = true;\n            this.animationProgress = 0;\n            /**\n             * Shared layout\n             */\n            // TODO Only running on root node\n            this.sharedNodes = new Map();\n            this.latestValues = latestValues;\n            this.root = parent ? parent.root || parent : this;\n            this.path = parent ? [...parent.path, parent] : [];\n            this.parent = parent;\n            this.depth = parent ? parent.depth + 1 : 0;\n            for (let i = 0; i < this.path.length; i++) {\n                this.path[i].shouldResetTransform = true;\n            }\n            if (this.root === this)\n                this.nodes = new FlatTree();\n        }\n        addEventListener(name, handler) {\n            if (!this.eventHandlers.has(name)) {\n                this.eventHandlers.set(name, new SubscriptionManager());\n            }\n            return this.eventHandlers.get(name).add(handler);\n        }\n        notifyListeners(name, ...args) {\n            const subscriptionManager = this.eventHandlers.get(name);\n            subscriptionManager && subscriptionManager.notify(...args);\n        }\n        hasListeners(name) {\n            return this.eventHandlers.has(name);\n        }\n        /**\n         * Lifecycles\n         */\n        mount(instance) {\n            if (this.instance)\n                return;\n            this.isSVG = isSVGElement(instance) && !isSVGSVGElement(instance);\n            this.instance = instance;\n            const { layoutId, layout, visualElement } = this.options;\n            if (visualElement && !visualElement.current) {\n                visualElement.mount(instance);\n            }\n            this.root.nodes.add(this);\n            this.parent && this.parent.children.add(this);\n            if (this.root.hasTreeAnimated && (layout || layoutId)) {\n                this.isLayoutDirty = true;\n            }\n            if (attachResizeListener) {\n                let cancelDelay;\n                let innerWidth = 0;\n                const resizeUnblockUpdate = () => (this.root.updateBlockedByResize = false);\n                // Set initial innerWidth in a frame.read callback to batch the read\n                frame.read(() => {\n                    innerWidth = window.innerWidth;\n                });\n                attachResizeListener(instance, () => {\n                    const newInnerWidth = window.innerWidth;\n                    if (newInnerWidth === innerWidth)\n                        return;\n                    innerWidth = newInnerWidth;\n                    this.root.updateBlockedByResize = true;\n                    cancelDelay && cancelDelay();\n                    cancelDelay = delay(resizeUnblockUpdate, 250);\n                    if (globalProjectionState.hasAnimatedSinceResize) {\n                        globalProjectionState.hasAnimatedSinceResize = false;\n                        this.nodes.forEach(finishAnimation);\n                    }\n                });\n            }\n            if (layoutId) {\n                this.root.registerSharedNode(layoutId, this);\n            }\n            // Only register the handler if it requires layout animation\n            if (this.options.animate !== false &&\n                visualElement &&\n                (layoutId || layout)) {\n                this.addEventListener(\"didUpdate\", ({ delta, hasLayoutChanged, hasRelativeLayoutChanged, layout: newLayout, }) => {\n                    if (this.isTreeAnimationBlocked()) {\n                        this.target = undefined;\n                        this.relativeTarget = undefined;\n                        return;\n                    }\n                    // TODO: Check here if an animation exists\n                    const layoutTransition = this.options.transition ||\n                        visualElement.getDefaultTransition() ||\n                        defaultLayoutTransition;\n                    const { onLayoutAnimationStart, onLayoutAnimationComplete, } = visualElement.getProps();\n                    /**\n                     * The target layout of the element might stay the same,\n                     * but its position relative to its parent has changed.\n                     */\n                    const hasTargetChanged = !this.targetLayout ||\n                        !boxEqualsRounded(this.targetLayout, newLayout);\n                    /*\n                     * Note: Disabled to fix relative animations always triggering new\n                     * layout animations. If this causes further issues, we can try\n                     * a different approach to detecting relative target changes.\n                     */\n                    // || hasRelativeLayoutChanged\n                    /**\n                     * If the layout hasn't seemed to have changed, it might be that the\n                     * element is visually in the same place in the document but its position\n                     * relative to its parent has indeed changed. So here we check for that.\n                     */\n                    const hasOnlyRelativeTargetChanged = !hasLayoutChanged && hasRelativeLayoutChanged;\n                    if (this.options.layoutRoot ||\n                        this.resumeFrom ||\n                        hasOnlyRelativeTargetChanged ||\n                        (hasLayoutChanged &&\n                            (hasTargetChanged || !this.currentAnimation))) {\n                        if (this.resumeFrom) {\n                            this.resumingFrom = this.resumeFrom;\n                            this.resumingFrom.resumingFrom = undefined;\n                        }\n                        const animationOptions = {\n                            ...getValueTransition(layoutTransition, \"layout\"),\n                            onPlay: onLayoutAnimationStart,\n                            onComplete: onLayoutAnimationComplete,\n                        };\n                        if (visualElement.shouldReduceMotion ||\n                            this.options.layoutRoot) {\n                            animationOptions.delay = 0;\n                            animationOptions.type = false;\n                        }\n                        this.startAnimation(animationOptions);\n                        /**\n                         * Set animation origin after starting animation to avoid layout jump\n                         * caused by stopping previous layout animation\n                         */\n                        this.setAnimationOrigin(delta, hasOnlyRelativeTargetChanged);\n                    }\n                    else {\n                        /**\n                         * If the layout hasn't changed and we have an animation that hasn't started yet,\n                         * finish it immediately. Otherwise it will be animating from a location\n                         * that was probably never committed to screen and look like a jumpy box.\n                         */\n                        if (!hasLayoutChanged) {\n                            finishAnimation(this);\n                        }\n                        if (this.isLead() && this.options.onExitComplete) {\n                            this.options.onExitComplete();\n                        }\n                    }\n                    this.targetLayout = newLayout;\n                });\n            }\n        }\n        unmount() {\n            this.options.layoutId && this.willUpdate();\n            this.root.nodes.remove(this);\n            const stack = this.getStack();\n            stack && stack.remove(this);\n            this.parent && this.parent.children.delete(this);\n            this.instance = undefined;\n            this.eventHandlers.clear();\n            cancelFrame(this.updateProjection);\n        }\n        // only on the root\n        blockUpdate() {\n            this.updateManuallyBlocked = true;\n        }\n        unblockUpdate() {\n            this.updateManuallyBlocked = false;\n        }\n        isUpdateBlocked() {\n            return this.updateManuallyBlocked || this.updateBlockedByResize;\n        }\n        isTreeAnimationBlocked() {\n            return (this.isAnimationBlocked ||\n                (this.parent && this.parent.isTreeAnimationBlocked()) ||\n                false);\n        }\n        // Note: currently only running on root node\n        startUpdate() {\n            if (this.isUpdateBlocked())\n                return;\n            this.isUpdating = true;\n            this.nodes && this.nodes.forEach(resetSkewAndRotation);\n            this.animationId++;\n        }\n        getTransformTemplate() {\n            const { visualElement } = this.options;\n            return visualElement && visualElement.getProps().transformTemplate;\n        }\n        willUpdate(shouldNotifyListeners = true) {\n            this.root.hasTreeAnimated = true;\n            if (this.root.isUpdateBlocked()) {\n                this.options.onExitComplete && this.options.onExitComplete();\n                return;\n            }\n            /**\n             * If we're running optimised appear animations then these must be\n             * cancelled before measuring the DOM. This is so we can measure\n             * the true layout of the element rather than the WAAPI animation\n             * which will be unaffected by the resetSkewAndRotate step.\n             *\n             * Note: This is a DOM write. Worst case scenario is this is sandwiched\n             * between other snapshot reads which will cause unnecessary style recalculations.\n             * This has to happen here though, as we don't yet know which nodes will need\n             * snapshots in startUpdate(), but we only want to cancel optimised animations\n             * if a layout animation measurement is actually going to be affected by them.\n             */\n            if (window.MotionCancelOptimisedAnimation &&\n                !this.hasCheckedOptimisedAppear) {\n                cancelTreeOptimisedTransformAnimations(this);\n            }\n            !this.root.isUpdating && this.root.startUpdate();\n            if (this.isLayoutDirty)\n                return;\n            this.isLayoutDirty = true;\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                node.shouldResetTransform = true;\n                node.updateScroll(\"snapshot\");\n                if (node.options.layoutRoot) {\n                    node.willUpdate(false);\n                }\n            }\n            const { layoutId, layout } = this.options;\n            if (layoutId === undefined && !layout)\n                return;\n            const transformTemplate = this.getTransformTemplate();\n            this.prevTransformTemplateValue = transformTemplate\n                ? transformTemplate(this.latestValues, \"\")\n                : undefined;\n            this.updateSnapshot();\n            shouldNotifyListeners && this.notifyListeners(\"willUpdate\");\n        }\n        update() {\n            this.updateScheduled = false;\n            const updateWasBlocked = this.isUpdateBlocked();\n            // When doing an instant transition, we skip the layout update,\n            // but should still clean up the measurements so that the next\n            // snapshot could be taken correctly.\n            if (updateWasBlocked) {\n                this.unblockUpdate();\n                this.clearAllSnapshots();\n                this.nodes.forEach(clearMeasurements);\n                return;\n            }\n            /**\n             * If this is a repeat of didUpdate then ignore the animation.\n             */\n            if (this.animationId <= this.animationCommitId) {\n                this.nodes.forEach(clearIsLayoutDirty);\n                return;\n            }\n            this.animationCommitId = this.animationId;\n            if (!this.isUpdating) {\n                this.nodes.forEach(clearIsLayoutDirty);\n            }\n            else {\n                this.isUpdating = false;\n                /**\n                 * Write\n                 */\n                this.nodes.forEach(resetTransformStyle);\n                /**\n                 * Read ==================\n                 */\n                // Update layout measurements of updated children\n                this.nodes.forEach(updateLayout);\n                /**\n                 * Write\n                 */\n                // Notify listeners that the layout is updated\n                this.nodes.forEach(notifyLayoutUpdate);\n            }\n            this.clearAllSnapshots();\n            /**\n             * Manually flush any pending updates. Ideally\n             * we could leave this to the following requestAnimationFrame but this seems\n             * to leave a flash of incorrectly styled content.\n             */\n            const now = time.now();\n            frameData.delta = clamp(0, 1000 / 60, now - frameData.timestamp);\n            frameData.timestamp = now;\n            frameData.isProcessing = true;\n            frameSteps.update.process(frameData);\n            frameSteps.preRender.process(frameData);\n            frameSteps.render.process(frameData);\n            frameData.isProcessing = false;\n        }\n        didUpdate() {\n            if (!this.updateScheduled) {\n                this.updateScheduled = true;\n                microtask.read(this.scheduleUpdate);\n            }\n        }\n        clearAllSnapshots() {\n            this.nodes.forEach(clearSnapshot);\n            this.sharedNodes.forEach(removeLeadSnapshots);\n        }\n        scheduleUpdateProjection() {\n            if (!this.projectionUpdateScheduled) {\n                this.projectionUpdateScheduled = true;\n                frame.preRender(this.updateProjection, false, true);\n            }\n        }\n        scheduleCheckAfterUnmount() {\n            /**\n             * If the unmounting node is in a layoutGroup and did trigger a willUpdate,\n             * we manually call didUpdate to give a chance to the siblings to animate.\n             * Otherwise, cleanup all snapshots to prevents future nodes from reusing them.\n             */\n            frame.postRender(() => {\n                if (this.isLayoutDirty) {\n                    this.root.didUpdate();\n                }\n                else {\n                    this.root.checkUpdateFailed();\n                }\n            });\n        }\n        /**\n         * Update measurements\n         */\n        updateSnapshot() {\n            if (this.snapshot || !this.instance)\n                return;\n            this.snapshot = this.measure();\n            if (this.snapshot &&\n                !calcLength(this.snapshot.measuredBox.x) &&\n                !calcLength(this.snapshot.measuredBox.y)) {\n                this.snapshot = undefined;\n            }\n        }\n        updateLayout() {\n            if (!this.instance)\n                return;\n            this.updateScroll();\n            if (!(this.options.alwaysMeasureLayout && this.isLead()) &&\n                !this.isLayoutDirty) {\n                return;\n            }\n            /**\n             * When a node is mounted, it simply resumes from the prevLead's\n             * snapshot instead of taking a new one, but the ancestors scroll\n             * might have updated while the prevLead is unmounted. We need to\n             * update the scroll again to make sure the layout we measure is\n             * up to date.\n             */\n            if (this.resumeFrom && !this.resumeFrom.instance) {\n                for (let i = 0; i < this.path.length; i++) {\n                    const node = this.path[i];\n                    node.updateScroll();\n                }\n            }\n            const prevLayout = this.layout;\n            this.layout = this.measure(false);\n            this.layoutVersion++;\n            this.layoutCorrected = createBox();\n            this.isLayoutDirty = false;\n            this.projectionDelta = undefined;\n            this.notifyListeners(\"measure\", this.layout.layoutBox);\n            const { visualElement } = this.options;\n            visualElement &&\n                visualElement.notify(\"LayoutMeasure\", this.layout.layoutBox, prevLayout ? prevLayout.layoutBox : undefined);\n        }\n        updateScroll(phase = \"measure\") {\n            let needsMeasurement = Boolean(this.options.layoutScroll && this.instance);\n            if (this.scroll &&\n                this.scroll.animationId === this.root.animationId &&\n                this.scroll.phase === phase) {\n                needsMeasurement = false;\n            }\n            if (needsMeasurement && this.instance) {\n                const isRoot = checkIsScrollRoot(this.instance);\n                this.scroll = {\n                    animationId: this.root.animationId,\n                    phase,\n                    isRoot,\n                    offset: measureScroll(this.instance),\n                    wasRoot: this.scroll ? this.scroll.isRoot : isRoot,\n                };\n            }\n        }\n        resetTransform() {\n            if (!resetTransform)\n                return;\n            const isResetRequested = this.isLayoutDirty ||\n                this.shouldResetTransform ||\n                this.options.alwaysMeasureLayout;\n            const hasProjection = this.projectionDelta && !isDeltaZero(this.projectionDelta);\n            const transformTemplate = this.getTransformTemplate();\n            const transformTemplateValue = transformTemplate\n                ? transformTemplate(this.latestValues, \"\")\n                : undefined;\n            const transformTemplateHasChanged = transformTemplateValue !== this.prevTransformTemplateValue;\n            if (isResetRequested &&\n                this.instance &&\n                (hasProjection ||\n                    hasTransform(this.latestValues) ||\n                    transformTemplateHasChanged)) {\n                resetTransform(this.instance, transformTemplateValue);\n                this.shouldResetTransform = false;\n                this.scheduleRender();\n            }\n        }\n        measure(removeTransform = true) {\n            const pageBox = this.measurePageBox();\n            let layoutBox = this.removeElementScroll(pageBox);\n            /**\n             * Measurements taken during the pre-render stage\n             * still have transforms applied so we remove them\n             * via calculation.\n             */\n            if (removeTransform) {\n                layoutBox = this.removeTransform(layoutBox);\n            }\n            roundBox(layoutBox);\n            return {\n                animationId: this.root.animationId,\n                measuredBox: pageBox,\n                layoutBox,\n                latestValues: {},\n                source: this.id,\n            };\n        }\n        measurePageBox() {\n            const { visualElement } = this.options;\n            if (!visualElement)\n                return createBox();\n            const box = visualElement.measureViewportBox();\n            const wasInScrollRoot = this.scroll?.wasRoot || this.path.some(checkNodeWasScrollRoot);\n            if (!wasInScrollRoot) {\n                // Remove viewport scroll to give page-relative coordinates\n                const { scroll } = this.root;\n                if (scroll) {\n                    translateAxis(box.x, scroll.offset.x);\n                    translateAxis(box.y, scroll.offset.y);\n                }\n            }\n            return box;\n        }\n        removeElementScroll(box) {\n            const boxWithoutScroll = createBox();\n            copyBoxInto(boxWithoutScroll, box);\n            if (this.scroll?.wasRoot) {\n                return boxWithoutScroll;\n            }\n            /**\n             * Performance TODO: Keep a cumulative scroll offset down the tree\n             * rather than loop back up the path.\n             */\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                const { scroll, options } = node;\n                if (node !== this.root && scroll && options.layoutScroll) {\n                    /**\n                     * If this is a new scroll root, we want to remove all previous scrolls\n                     * from the viewport box.\n                     */\n                    if (scroll.wasRoot) {\n                        copyBoxInto(boxWithoutScroll, box);\n                    }\n                    translateAxis(boxWithoutScroll.x, scroll.offset.x);\n                    translateAxis(boxWithoutScroll.y, scroll.offset.y);\n                }\n            }\n            return boxWithoutScroll;\n        }\n        applyTransform(box, transformOnly = false) {\n            const withTransforms = createBox();\n            copyBoxInto(withTransforms, box);\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                if (!transformOnly &&\n                    node.options.layoutScroll &&\n                    node.scroll &&\n                    node !== node.root) {\n                    transformBox(withTransforms, {\n                        x: -node.scroll.offset.x,\n                        y: -node.scroll.offset.y,\n                    });\n                }\n                if (!hasTransform(node.latestValues))\n                    continue;\n                transformBox(withTransforms, node.latestValues);\n            }\n            if (hasTransform(this.latestValues)) {\n                transformBox(withTransforms, this.latestValues);\n            }\n            return withTransforms;\n        }\n        removeTransform(box) {\n            const boxWithoutTransform = createBox();\n            copyBoxInto(boxWithoutTransform, box);\n            for (let i = 0; i < this.path.length; i++) {\n                const node = this.path[i];\n                if (!node.instance)\n                    continue;\n                if (!hasTransform(node.latestValues))\n                    continue;\n                hasScale(node.latestValues) && node.updateSnapshot();\n                const sourceBox = createBox();\n                const nodeBox = node.measurePageBox();\n                copyBoxInto(sourceBox, nodeBox);\n                removeBoxTransforms(boxWithoutTransform, node.latestValues, node.snapshot ? node.snapshot.layoutBox : undefined, sourceBox);\n            }\n            if (hasTransform(this.latestValues)) {\n                removeBoxTransforms(boxWithoutTransform, this.latestValues);\n            }\n            return boxWithoutTransform;\n        }\n        setTargetDelta(delta) {\n            this.targetDelta = delta;\n            this.root.scheduleUpdateProjection();\n            this.isProjectionDirty = true;\n        }\n        setOptions(options) {\n            this.options = {\n                ...this.options,\n                ...options,\n                crossfade: options.crossfade !== undefined ? options.crossfade : true,\n            };\n        }\n        clearMeasurements() {\n            this.scroll = undefined;\n            this.layout = undefined;\n            this.snapshot = undefined;\n            this.prevTransformTemplateValue = undefined;\n            this.targetDelta = undefined;\n            this.target = undefined;\n            this.isLayoutDirty = false;\n        }\n        forceRelativeParentToResolveTarget() {\n            if (!this.relativeParent)\n                return;\n            /**\n             * If the parent target isn't up-to-date, force it to update.\n             * This is an unfortunate de-optimisation as it means any updating relative\n             * projection will cause all the relative parents to recalculate back\n             * up the tree.\n             */\n            if (this.relativeParent.resolvedRelativeTargetAt !==\n                frameData.timestamp) {\n                this.relativeParent.resolveTargetDelta(true);\n            }\n        }\n        resolveTargetDelta(forceRecalculation = false) {\n            /**\n             * Once the dirty status of nodes has been spread through the tree, we also\n             * need to check if we have a shared node of a different depth that has itself\n             * been dirtied.\n             */\n            const lead = this.getLead();\n            this.isProjectionDirty || (this.isProjectionDirty = lead.isProjectionDirty);\n            this.isTransformDirty || (this.isTransformDirty = lead.isTransformDirty);\n            this.isSharedProjectionDirty || (this.isSharedProjectionDirty = lead.isSharedProjectionDirty);\n            const isShared = Boolean(this.resumingFrom) || this !== lead;\n            /**\n             * We don't use transform for this step of processing so we don't\n             * need to check whether any nodes have changed transform.\n             */\n            const canSkip = !(forceRecalculation ||\n                (isShared && this.isSharedProjectionDirty) ||\n                this.isProjectionDirty ||\n                this.parent?.isProjectionDirty ||\n                this.attemptToResolveRelativeTarget ||\n                this.root.updateBlockedByResize);\n            if (canSkip)\n                return;\n            const { layout, layoutId } = this.options;\n            /**\n             * If we have no layout, we can't perform projection, so early return\n             */\n            if (!this.layout || !(layout || layoutId))\n                return;\n            this.resolvedRelativeTargetAt = frameData.timestamp;\n            const relativeParent = this.getClosestProjectingParent();\n            if (relativeParent &&\n                this.linkedParentVersion !== relativeParent.layoutVersion &&\n                !relativeParent.options.layoutRoot) {\n                this.removeRelativeTarget();\n            }\n            /**\n             * If we don't have a targetDelta but do have a layout, we can attempt to resolve\n             * a relativeParent. This will allow a component to perform scale correction\n             * even if no animation has started.\n             */\n            if (!this.targetDelta && !this.relativeTarget) {\n                if (relativeParent && relativeParent.layout) {\n                    this.createRelativeTarget(relativeParent, this.layout.layoutBox, relativeParent.layout.layoutBox);\n                }\n                else {\n                    this.removeRelativeTarget();\n                }\n            }\n            /**\n             * If we have no relative target or no target delta our target isn't valid\n             * for this frame.\n             */\n            if (!this.relativeTarget && !this.targetDelta)\n                return;\n            /**\n             * Lazy-init target data structure\n             */\n            if (!this.target) {\n                this.target = createBox();\n                this.targetWithTransforms = createBox();\n            }\n            /**\n             * If we've got a relative box for this component, resolve it into a target relative to the parent.\n             */\n            if (this.relativeTarget &&\n                this.relativeTargetOrigin &&\n                this.relativeParent &&\n                this.relativeParent.target) {\n                this.forceRelativeParentToResolveTarget();\n                calcRelativeBox(this.target, this.relativeTarget, this.relativeParent.target);\n                /**\n                 * If we've only got a targetDelta, resolve it into a target\n                 */\n            }\n            else if (this.targetDelta) {\n                if (Boolean(this.resumingFrom)) {\n                    // TODO: This is creating a new object every frame\n                    this.target = this.applyTransform(this.layout.layoutBox);\n                }\n                else {\n                    copyBoxInto(this.target, this.layout.layoutBox);\n                }\n                applyBoxDelta(this.target, this.targetDelta);\n            }\n            else {\n                /**\n                 * If no target, use own layout as target\n                 */\n                copyBoxInto(this.target, this.layout.layoutBox);\n            }\n            /**\n             * If we've been told to attempt to resolve a relative target, do so.\n             */\n            if (this.attemptToResolveRelativeTarget) {\n                this.attemptToResolveRelativeTarget = false;\n                if (relativeParent &&\n                    Boolean(relativeParent.resumingFrom) ===\n                        Boolean(this.resumingFrom) &&\n                    !relativeParent.options.layoutScroll &&\n                    relativeParent.target &&\n                    this.animationProgress !== 1) {\n                    this.createRelativeTarget(relativeParent, this.target, relativeParent.target);\n                }\n                else {\n                    this.relativeParent = this.relativeTarget = undefined;\n                }\n            }\n            /**\n             * Increase debug counter for resolved target deltas\n             */\n            if (statsBuffer.value) {\n                metrics.calculatedTargetDeltas++;\n            }\n        }\n        getClosestProjectingParent() {\n            if (!this.parent ||\n                hasScale(this.parent.latestValues) ||\n                has2DTranslate(this.parent.latestValues)) {\n                return undefined;\n            }\n            if (this.parent.isProjecting()) {\n                return this.parent;\n            }\n            else {\n                return this.parent.getClosestProjectingParent();\n            }\n        }\n        isProjecting() {\n            return Boolean((this.relativeTarget ||\n                this.targetDelta ||\n                this.options.layoutRoot) &&\n                this.layout);\n        }\n        createRelativeTarget(relativeParent, layout, parentLayout) {\n            this.relativeParent = relativeParent;\n            this.linkedParentVersion = relativeParent.layoutVersion;\n            this.forceRelativeParentToResolveTarget();\n            this.relativeTarget = createBox();\n            this.relativeTargetOrigin = createBox();\n            calcRelativePosition(this.relativeTargetOrigin, layout, parentLayout);\n            copyBoxInto(this.relativeTarget, this.relativeTargetOrigin);\n        }\n        removeRelativeTarget() {\n            this.relativeParent = this.relativeTarget = undefined;\n        }\n        calcProjection() {\n            const lead = this.getLead();\n            const isShared = Boolean(this.resumingFrom) || this !== lead;\n            let canSkip = true;\n            /**\n             * If this is a normal layout animation and neither this node nor its nearest projecting\n             * is dirty then we can't skip.\n             */\n            if (this.isProjectionDirty || this.parent?.isProjectionDirty) {\n                canSkip = false;\n            }\n            /**\n             * If this is a shared layout animation and this node's shared projection is dirty then\n             * we can't skip.\n             */\n            if (isShared &&\n                (this.isSharedProjectionDirty || this.isTransformDirty)) {\n                canSkip = false;\n            }\n            /**\n             * If we have resolved the target this frame we must recalculate the\n             * projection to ensure it visually represents the internal calculations.\n             */\n            if (this.resolvedRelativeTargetAt === frameData.timestamp) {\n                canSkip = false;\n            }\n            if (canSkip)\n                return;\n            const { layout, layoutId } = this.options;\n            /**\n             * If this section of the tree isn't animating we can\n             * delete our target sources for the following frame.\n             */\n            this.isTreeAnimating = Boolean((this.parent && this.parent.isTreeAnimating) ||\n                this.currentAnimation ||\n                this.pendingAnimation);\n            if (!this.isTreeAnimating) {\n                this.targetDelta = this.relativeTarget = undefined;\n            }\n            if (!this.layout || !(layout || layoutId))\n                return;\n            /**\n             * Reset the corrected box with the latest values from box, as we're then going\n             * to perform mutative operations on it.\n             */\n            copyBoxInto(this.layoutCorrected, this.layout.layoutBox);\n            /**\n             * Record previous tree scales before updating.\n             */\n            const prevTreeScaleX = this.treeScale.x;\n            const prevTreeScaleY = this.treeScale.y;\n            /**\n             * Apply all the parent deltas to this box to produce the corrected box. This\n             * is the layout box, as it will appear on screen as a result of the transforms of its parents.\n             */\n            applyTreeDeltas(this.layoutCorrected, this.treeScale, this.path, isShared);\n            /**\n             * If this layer needs to perform scale correction but doesn't have a target,\n             * use the layout as the target.\n             */\n            if (lead.layout &&\n                !lead.target &&\n                (this.treeScale.x !== 1 || this.treeScale.y !== 1)) {\n                lead.target = lead.layout.layoutBox;\n                lead.targetWithTransforms = createBox();\n            }\n            const { target } = lead;\n            if (!target) {\n                /**\n                 * If we don't have a target to project into, but we were previously\n                 * projecting, we want to remove the stored transform and schedule\n                 * a render to ensure the elements reflect the removed transform.\n                 */\n                if (this.prevProjectionDelta) {\n                    this.createProjectionDeltas();\n                    this.scheduleRender();\n                }\n                return;\n            }\n            if (!this.projectionDelta || !this.prevProjectionDelta) {\n                this.createProjectionDeltas();\n            }\n            else {\n                copyAxisDeltaInto(this.prevProjectionDelta.x, this.projectionDelta.x);\n                copyAxisDeltaInto(this.prevProjectionDelta.y, this.projectionDelta.y);\n            }\n            /**\n             * Update the delta between the corrected box and the target box before user-set transforms were applied.\n             * This will allow us to calculate the corrected borderRadius and boxShadow to compensate\n             * for our layout reprojection, but still allow them to be scaled correctly by the user.\n             * It might be that to simplify this we may want to accept that user-set scale is also corrected\n             * and we wouldn't have to keep and calc both deltas, OR we could support a user setting\n             * to allow people to choose whether these styles are corrected based on just the\n             * layout reprojection or the final bounding box.\n             */\n            calcBoxDelta(this.projectionDelta, this.layoutCorrected, target, this.latestValues);\n            if (this.treeScale.x !== prevTreeScaleX ||\n                this.treeScale.y !== prevTreeScaleY ||\n                !axisDeltaEquals(this.projectionDelta.x, this.prevProjectionDelta.x) ||\n                !axisDeltaEquals(this.projectionDelta.y, this.prevProjectionDelta.y)) {\n                this.hasProjected = true;\n                this.scheduleRender();\n                this.notifyListeners(\"projectionUpdate\", target);\n            }\n            /**\n             * Increase debug counter for recalculated projections\n             */\n            if (statsBuffer.value) {\n                metrics.calculatedProjections++;\n            }\n        }\n        hide() {\n            this.isVisible = false;\n            // TODO: Schedule render\n        }\n        show() {\n            this.isVisible = true;\n            // TODO: Schedule render\n        }\n        scheduleRender(notifyAll = true) {\n            this.options.visualElement?.scheduleRender();\n            if (notifyAll) {\n                const stack = this.getStack();\n                stack && stack.scheduleRender();\n            }\n            if (this.resumingFrom && !this.resumingFrom.instance) {\n                this.resumingFrom = undefined;\n            }\n        }\n        createProjectionDeltas() {\n            this.prevProjectionDelta = createDelta();\n            this.projectionDelta = createDelta();\n            this.projectionDeltaWithTransform = createDelta();\n        }\n        setAnimationOrigin(delta, hasOnlyRelativeTargetChanged = false) {\n            const snapshot = this.snapshot;\n            const snapshotLatestValues = snapshot ? snapshot.latestValues : {};\n            const mixedValues = { ...this.latestValues };\n            const targetDelta = createDelta();\n            if (!this.relativeParent ||\n                !this.relativeParent.options.layoutRoot) {\n                this.relativeTarget = this.relativeTargetOrigin = undefined;\n            }\n            this.attemptToResolveRelativeTarget = !hasOnlyRelativeTargetChanged;\n            const relativeLayout = createBox();\n            const snapshotSource = snapshot ? snapshot.source : undefined;\n            const layoutSource = this.layout ? this.layout.source : undefined;\n            const isSharedLayoutAnimation = snapshotSource !== layoutSource;\n            const stack = this.getStack();\n            const isOnlyMember = !stack || stack.members.length <= 1;\n            const shouldCrossfadeOpacity = Boolean(isSharedLayoutAnimation &&\n                !isOnlyMember &&\n                this.options.crossfade === true &&\n                !this.path.some(hasOpacityCrossfade));\n            this.animationProgress = 0;\n            let prevRelativeTarget;\n            this.mixTargetDelta = (latest) => {\n                const progress = latest / 1000;\n                mixAxisDelta(targetDelta.x, delta.x, progress);\n                mixAxisDelta(targetDelta.y, delta.y, progress);\n                this.setTargetDelta(targetDelta);\n                if (this.relativeTarget &&\n                    this.relativeTargetOrigin &&\n                    this.layout &&\n                    this.relativeParent &&\n                    this.relativeParent.layout) {\n                    calcRelativePosition(relativeLayout, this.layout.layoutBox, this.relativeParent.layout.layoutBox);\n                    mixBox(this.relativeTarget, this.relativeTargetOrigin, relativeLayout, progress);\n                    /**\n                     * If this is an unchanged relative target we can consider the\n                     * projection not dirty.\n                     */\n                    if (prevRelativeTarget &&\n                        boxEquals(this.relativeTarget, prevRelativeTarget)) {\n                        this.isProjectionDirty = false;\n                    }\n                    if (!prevRelativeTarget)\n                        prevRelativeTarget = createBox();\n                    copyBoxInto(prevRelativeTarget, this.relativeTarget);\n                }\n                if (isSharedLayoutAnimation) {\n                    this.animationValues = mixedValues;\n                    mixValues(mixedValues, snapshotLatestValues, this.latestValues, progress, shouldCrossfadeOpacity, isOnlyMember);\n                }\n                this.root.scheduleUpdateProjection();\n                this.scheduleRender();\n                this.animationProgress = progress;\n            };\n            this.mixTargetDelta(this.options.layoutRoot ? 1000 : 0);\n        }\n        startAnimation(options) {\n            this.notifyListeners(\"animationStart\");\n            this.currentAnimation?.stop();\n            this.resumingFrom?.currentAnimation?.stop();\n            if (this.pendingAnimation) {\n                cancelFrame(this.pendingAnimation);\n                this.pendingAnimation = undefined;\n            }\n            /**\n             * Start the animation in the next frame to have a frame with progress 0,\n             * where the target is the same as when the animation started, so we can\n             * calculate the relative positions correctly for instant transitions.\n             */\n            this.pendingAnimation = frame.update(() => {\n                globalProjectionState.hasAnimatedSinceResize = true;\n                activeAnimations.layout++;\n                this.motionValue || (this.motionValue = motionValue(0));\n                this.currentAnimation = animateSingleValue(this.motionValue, [0, 1000], {\n                    ...options,\n                    velocity: 0,\n                    isSync: true,\n                    onUpdate: (latest) => {\n                        this.mixTargetDelta(latest);\n                        options.onUpdate && options.onUpdate(latest);\n                    },\n                    onStop: () => {\n                        activeAnimations.layout--;\n                    },\n                    onComplete: () => {\n                        activeAnimations.layout--;\n                        options.onComplete && options.onComplete();\n                        this.completeAnimation();\n                    },\n                });\n                if (this.resumingFrom) {\n                    this.resumingFrom.currentAnimation = this.currentAnimation;\n                }\n                this.pendingAnimation = undefined;\n            });\n        }\n        completeAnimation() {\n            if (this.resumingFrom) {\n                this.resumingFrom.currentAnimation = undefined;\n                this.resumingFrom.preserveOpacity = undefined;\n            }\n            const stack = this.getStack();\n            stack && stack.exitAnimationComplete();\n            this.resumingFrom =\n                this.currentAnimation =\n                    this.animationValues =\n                        undefined;\n            this.notifyListeners(\"animationComplete\");\n        }\n        finishAnimation() {\n            if (this.currentAnimation) {\n                this.mixTargetDelta && this.mixTargetDelta(animationTarget);\n                this.currentAnimation.stop();\n            }\n            this.completeAnimation();\n        }\n        applyTransformsToTarget() {\n            const lead = this.getLead();\n            let { targetWithTransforms, target, layout, latestValues } = lead;\n            if (!targetWithTransforms || !target || !layout)\n                return;\n            /**\n             * If we're only animating position, and this element isn't the lead element,\n             * then instead of projecting into the lead box we instead want to calculate\n             * a new target that aligns the two boxes but maintains the layout shape.\n             */\n            if (this !== lead &&\n                this.layout &&\n                layout &&\n                shouldAnimatePositionOnly(this.options.animationType, this.layout.layoutBox, layout.layoutBox)) {\n                target = this.target || createBox();\n                const xLength = calcLength(this.layout.layoutBox.x);\n                target.x.min = lead.target.x.min;\n                target.x.max = target.x.min + xLength;\n                const yLength = calcLength(this.layout.layoutBox.y);\n                target.y.min = lead.target.y.min;\n                target.y.max = target.y.min + yLength;\n            }\n            copyBoxInto(targetWithTransforms, target);\n            /**\n             * Apply the latest user-set transforms to the targetBox to produce the targetBoxFinal.\n             * This is the final box that we will then project into by calculating a transform delta and\n             * applying it to the corrected box.\n             */\n            transformBox(targetWithTransforms, latestValues);\n            /**\n             * Update the delta between the corrected box and the final target box, after\n             * user-set transforms are applied to it. This will be used by the renderer to\n             * create a transform style that will reproject the element from its layout layout\n             * into the desired bounding box.\n             */\n            calcBoxDelta(this.projectionDeltaWithTransform, this.layoutCorrected, targetWithTransforms, latestValues);\n        }\n        registerSharedNode(layoutId, node) {\n            if (!this.sharedNodes.has(layoutId)) {\n                this.sharedNodes.set(layoutId, new NodeStack());\n            }\n            const stack = this.sharedNodes.get(layoutId);\n            stack.add(node);\n            const config = node.options.initialPromotionConfig;\n            node.promote({\n                transition: config ? config.transition : undefined,\n                preserveFollowOpacity: config && config.shouldPreserveFollowOpacity\n                    ? config.shouldPreserveFollowOpacity(node)\n                    : undefined,\n            });\n        }\n        isLead() {\n            const stack = this.getStack();\n            return stack ? stack.lead === this : true;\n        }\n        getLead() {\n            const { layoutId } = this.options;\n            return layoutId ? this.getStack()?.lead || this : this;\n        }\n        getPrevLead() {\n            const { layoutId } = this.options;\n            return layoutId ? this.getStack()?.prevLead : undefined;\n        }\n        getStack() {\n            const { layoutId } = this.options;\n            if (layoutId)\n                return this.root.sharedNodes.get(layoutId);\n        }\n        promote({ needsReset, transition, preserveFollowOpacity, } = {}) {\n            const stack = this.getStack();\n            if (stack)\n                stack.promote(this, preserveFollowOpacity);\n            if (needsReset) {\n                this.projectionDelta = undefined;\n                this.needsReset = true;\n            }\n            if (transition)\n                this.setOptions({ transition });\n        }\n        relegate() {\n            const stack = this.getStack();\n            if (stack) {\n                return stack.relegate(this);\n            }\n            else {\n                return false;\n            }\n        }\n        resetSkewAndRotation() {\n            const { visualElement } = this.options;\n            if (!visualElement)\n                return;\n            // If there's no detected skew or rotation values, we can early return without a forced render.\n            let hasDistortingTransform = false;\n            /**\n             * An unrolled check for rotation values. Most elements don't have any rotation and\n             * skipping the nested loop and new object creation is 50% faster.\n             */\n            const { latestValues } = visualElement;\n            if (latestValues.z ||\n                latestValues.rotate ||\n                latestValues.rotateX ||\n                latestValues.rotateY ||\n                latestValues.rotateZ ||\n                latestValues.skewX ||\n                latestValues.skewY) {\n                hasDistortingTransform = true;\n            }\n            // If there's no distorting values, we don't need to do any more.\n            if (!hasDistortingTransform)\n                return;\n            const resetValues = {};\n            if (latestValues.z) {\n                resetDistortingTransform(\"z\", visualElement, resetValues, this.animationValues);\n            }\n            // Check the skew and rotate value of all axes and reset to 0\n            for (let i = 0; i < transformAxes.length; i++) {\n                resetDistortingTransform(`rotate${transformAxes[i]}`, visualElement, resetValues, this.animationValues);\n                resetDistortingTransform(`skew${transformAxes[i]}`, visualElement, resetValues, this.animationValues);\n            }\n            // Force a render of this element to apply the transform with all skews and rotations\n            // set to 0.\n            visualElement.render();\n            // Put back all the values we reset\n            for (const key in resetValues) {\n                visualElement.setStaticValue(key, resetValues[key]);\n                if (this.animationValues) {\n                    this.animationValues[key] = resetValues[key];\n                }\n            }\n            // Schedule a render for the next frame. This ensures we won't visually\n            // see the element with the reset rotate value applied.\n            visualElement.scheduleRender();\n        }\n        applyProjectionStyles(targetStyle, // CSSStyleDeclaration - doesn't allow numbers to be assigned to properties\n        styleProp) {\n            if (!this.instance || this.isSVG)\n                return;\n            if (!this.isVisible) {\n                targetStyle.visibility = \"hidden\";\n                return;\n            }\n            const transformTemplate = this.getTransformTemplate();\n            if (this.needsReset) {\n                this.needsReset = false;\n                targetStyle.visibility = \"\";\n                targetStyle.opacity = \"\";\n                targetStyle.pointerEvents =\n                    resolveMotionValue(styleProp?.pointerEvents) || \"\";\n                targetStyle.transform = transformTemplate\n                    ? transformTemplate(this.latestValues, \"\")\n                    : \"none\";\n                return;\n            }\n            const lead = this.getLead();\n            if (!this.projectionDelta || !this.layout || !lead.target) {\n                if (this.options.layoutId) {\n                    targetStyle.opacity =\n                        this.latestValues.opacity !== undefined\n                            ? this.latestValues.opacity\n                            : 1;\n                    targetStyle.pointerEvents =\n                        resolveMotionValue(styleProp?.pointerEvents) || \"\";\n                }\n                if (this.hasProjected && !hasTransform(this.latestValues)) {\n                    targetStyle.transform = transformTemplate\n                        ? transformTemplate({}, \"\")\n                        : \"none\";\n                    this.hasProjected = false;\n                }\n                return;\n            }\n            targetStyle.visibility = \"\";\n            const valuesToRender = lead.animationValues || lead.latestValues;\n            this.applyTransformsToTarget();\n            let transform = buildProjectionTransform(this.projectionDeltaWithTransform, this.treeScale, valuesToRender);\n            if (transformTemplate) {\n                transform = transformTemplate(valuesToRender, transform);\n            }\n            targetStyle.transform = transform;\n            const { x, y } = this.projectionDelta;\n            targetStyle.transformOrigin = `${x.origin * 100}% ${y.origin * 100}% 0`;\n            if (lead.animationValues) {\n                /**\n                 * If the lead component is animating, assign this either the entering/leaving\n                 * opacity\n                 */\n                targetStyle.opacity =\n                    lead === this\n                        ? valuesToRender.opacity ??\n                            this.latestValues.opacity ??\n                            1\n                        : this.preserveOpacity\n                            ? this.latestValues.opacity\n                            : valuesToRender.opacityExit;\n            }\n            else {\n                /**\n                 * Or we're not animating at all, set the lead component to its layout\n                 * opacity and other components to hidden.\n                 */\n                targetStyle.opacity =\n                    lead === this\n                        ? valuesToRender.opacity !== undefined\n                            ? valuesToRender.opacity\n                            : \"\"\n                        : valuesToRender.opacityExit !== undefined\n                            ? valuesToRender.opacityExit\n                            : 0;\n            }\n            /**\n             * Apply scale correction\n             */\n            for (const key in scaleCorrectors) {\n                if (valuesToRender[key] === undefined)\n                    continue;\n                const { correct, applyTo, isCSSVariable } = scaleCorrectors[key];\n                /**\n                 * Only apply scale correction to the value if we have an\n                 * active projection transform. Otherwise these values become\n                 * vulnerable to distortion if the element changes size without\n                 * a corresponding layout animation.\n                 */\n                const corrected = transform === \"none\"\n                    ? valuesToRender[key]\n                    : correct(valuesToRender[key], lead);\n                if (applyTo) {\n                    const num = applyTo.length;\n                    for (let i = 0; i < num; i++) {\n                        targetStyle[applyTo[i]] = corrected;\n                    }\n                }\n                else {\n                    // If this is a CSS variable, set it directly on the instance.\n                    // Replacing this function from creating styles to setting them\n                    // would be a good place to remove per frame object creation\n                    if (isCSSVariable) {\n                        this.options.visualElement.renderState.vars[key] = corrected;\n                    }\n                    else {\n                        targetStyle[key] = corrected;\n                    }\n                }\n            }\n            /**\n             * Disable pointer events on follow components. This is to ensure\n             * that if a follow component covers a lead component it doesn't block\n             * pointer events on the lead.\n             */\n            if (this.options.layoutId) {\n                targetStyle.pointerEvents =\n                    lead === this\n                        ? resolveMotionValue(styleProp?.pointerEvents) || \"\"\n                        : \"none\";\n            }\n        }\n        clearSnapshot() {\n            this.resumeFrom = this.snapshot = undefined;\n        }\n        // Only run on root\n        resetTree() {\n            this.root.nodes.forEach((node) => node.currentAnimation?.stop());\n            this.root.nodes.forEach(clearMeasurements);\n            this.root.sharedNodes.clear();\n        }\n    };\n}\nfunction updateLayout(node) {\n    node.updateLayout();\n}\nfunction notifyLayoutUpdate(node) {\n    const snapshot = node.resumeFrom?.snapshot || node.snapshot;\n    if (node.isLead() &&\n        node.layout &&\n        snapshot &&\n        node.hasListeners(\"didUpdate\")) {\n        const { layoutBox: layout, measuredBox: measuredLayout } = node.layout;\n        const { animationType } = node.options;\n        const isShared = snapshot.source !== node.layout.source;\n        // TODO Maybe we want to also resize the layout snapshot so we don't trigger\n        // animations for instance if layout=\"size\" and an element has only changed position\n        if (animationType === \"size\") {\n            eachAxis((axis) => {\n                const axisSnapshot = isShared\n                    ? snapshot.measuredBox[axis]\n                    : snapshot.layoutBox[axis];\n                const length = calcLength(axisSnapshot);\n                axisSnapshot.min = layout[axis].min;\n                axisSnapshot.max = axisSnapshot.min + length;\n            });\n        }\n        else if (shouldAnimatePositionOnly(animationType, snapshot.layoutBox, layout)) {\n            eachAxis((axis) => {\n                const axisSnapshot = isShared\n                    ? snapshot.measuredBox[axis]\n                    : snapshot.layoutBox[axis];\n                const length = calcLength(layout[axis]);\n                axisSnapshot.max = axisSnapshot.min + length;\n                /**\n                 * Ensure relative target gets resized and rerendererd\n                 */\n                if (node.relativeTarget && !node.currentAnimation) {\n                    node.isProjectionDirty = true;\n                    node.relativeTarget[axis].max =\n                        node.relativeTarget[axis].min + length;\n                }\n            });\n        }\n        const layoutDelta = createDelta();\n        calcBoxDelta(layoutDelta, layout, snapshot.layoutBox);\n        const visualDelta = createDelta();\n        if (isShared) {\n            calcBoxDelta(visualDelta, node.applyTransform(measuredLayout, true), snapshot.measuredBox);\n        }\n        else {\n            calcBoxDelta(visualDelta, layout, snapshot.layoutBox);\n        }\n        const hasLayoutChanged = !isDeltaZero(layoutDelta);\n        let hasRelativeLayoutChanged = false;\n        if (!node.resumeFrom) {\n            const relativeParent = node.getClosestProjectingParent();\n            /**\n             * If the relativeParent is itself resuming from a different element then\n             * the relative snapshot is not relavent\n             */\n            if (relativeParent && !relativeParent.resumeFrom) {\n                const { snapshot: parentSnapshot, layout: parentLayout } = relativeParent;\n                if (parentSnapshot && parentLayout) {\n                    const relativeSnapshot = createBox();\n                    calcRelativePosition(relativeSnapshot, snapshot.layoutBox, parentSnapshot.layoutBox);\n                    const relativeLayout = createBox();\n                    calcRelativePosition(relativeLayout, layout, parentLayout.layoutBox);\n                    if (!boxEqualsRounded(relativeSnapshot, relativeLayout)) {\n                        hasRelativeLayoutChanged = true;\n                    }\n                    if (relativeParent.options.layoutRoot) {\n                        node.relativeTarget = relativeLayout;\n                        node.relativeTargetOrigin = relativeSnapshot;\n                        node.relativeParent = relativeParent;\n                    }\n                }\n            }\n        }\n        node.notifyListeners(\"didUpdate\", {\n            layout,\n            snapshot,\n            delta: visualDelta,\n            layoutDelta,\n            hasLayoutChanged,\n            hasRelativeLayoutChanged,\n        });\n    }\n    else if (node.isLead()) {\n        const { onExitComplete } = node.options;\n        onExitComplete && onExitComplete();\n    }\n    /**\n     * Clearing transition\n     * TODO: Investigate why this transition is being passed in as {type: false } from Framer\n     * and why we need it at all\n     */\n    node.options.transition = undefined;\n}\nfunction propagateDirtyNodes(node) {\n    /**\n     * Increase debug counter for nodes encountered this frame\n     */\n    if (statsBuffer.value) {\n        metrics.nodes++;\n    }\n    if (!node.parent)\n        return;\n    /**\n     * If this node isn't projecting, propagate isProjectionDirty. It will have\n     * no performance impact but it will allow the next child that *is* projecting\n     * but *isn't* dirty to just check its parent to see if *any* ancestor needs\n     * correcting.\n     */\n    if (!node.isProjecting()) {\n        node.isProjectionDirty = node.parent.isProjectionDirty;\n    }\n    /**\n     * Propagate isSharedProjectionDirty and isTransformDirty\n     * throughout the whole tree. A future revision can take another look at\n     * this but for safety we still recalcualte shared nodes.\n     */\n    node.isSharedProjectionDirty || (node.isSharedProjectionDirty = Boolean(node.isProjectionDirty ||\n        node.parent.isProjectionDirty ||\n        node.parent.isSharedProjectionDirty));\n    node.isTransformDirty || (node.isTransformDirty = node.parent.isTransformDirty);\n}\nfunction cleanDirtyNodes(node) {\n    node.isProjectionDirty =\n        node.isSharedProjectionDirty =\n            node.isTransformDirty =\n                false;\n}\nfunction clearSnapshot(node) {\n    node.clearSnapshot();\n}\nfunction clearMeasurements(node) {\n    node.clearMeasurements();\n}\nfunction clearIsLayoutDirty(node) {\n    node.isLayoutDirty = false;\n}\nfunction resetTransformStyle(node) {\n    const { visualElement } = node.options;\n    if (visualElement && visualElement.getProps().onBeforeLayoutMeasure) {\n        visualElement.notify(\"BeforeLayoutMeasure\");\n    }\n    node.resetTransform();\n}\nfunction finishAnimation(node) {\n    node.finishAnimation();\n    node.targetDelta = node.relativeTarget = node.target = undefined;\n    node.isProjectionDirty = true;\n}\nfunction resolveTargetDelta(node) {\n    node.resolveTargetDelta();\n}\nfunction calcProjection(node) {\n    node.calcProjection();\n}\nfunction resetSkewAndRotation(node) {\n    node.resetSkewAndRotation();\n}\nfunction removeLeadSnapshots(stack) {\n    stack.removeLeadSnapshot();\n}\nfunction mixAxisDelta(output, delta, p) {\n    output.translate = mixNumber(delta.translate, 0, p);\n    output.scale = mixNumber(delta.scale, 1, p);\n    output.origin = delta.origin;\n    output.originPoint = delta.originPoint;\n}\nfunction mixAxis(output, from, to, p) {\n    output.min = mixNumber(from.min, to.min, p);\n    output.max = mixNumber(from.max, to.max, p);\n}\nfunction mixBox(output, from, to, p) {\n    mixAxis(output.x, from.x, to.x, p);\n    mixAxis(output.y, from.y, to.y, p);\n}\nfunction hasOpacityCrossfade(node) {\n    return (node.animationValues && node.animationValues.opacityExit !== undefined);\n}\nconst defaultLayoutTransition = {\n    duration: 0.45,\n    ease: [0.4, 0, 0.1, 1],\n};\nconst userAgentContains = (string) => typeof navigator !== \"undefined\" &&\n    navigator.userAgent &&\n    navigator.userAgent.toLowerCase().includes(string);\n/**\n * Measured bounding boxes must be rounded in Safari and\n * left untouched in Chrome, otherwise non-integer layouts within scaled-up elements\n * can appear to jump.\n */\nconst roundPoint = userAgentContains(\"applewebkit/\") && !userAgentContains(\"chrome/\")\n    ? Math.round\n    : noop;\nfunction roundAxis(axis) {\n    // Round to the nearest .5 pixels to support subpixel layouts\n    axis.min = roundPoint(axis.min);\n    axis.max = roundPoint(axis.max);\n}\nfunction roundBox(box) {\n    roundAxis(box.x);\n    roundAxis(box.y);\n}\nfunction shouldAnimatePositionOnly(animationType, snapshot, layout) {\n    return (animationType === \"position\" ||\n        (animationType === \"preserve-aspect\" &&\n            !isNear(aspectRatio(snapshot), aspectRatio(layout), 0.2)));\n}\nfunction checkNodeWasScrollRoot(node) {\n    return node !== node.root && node.scroll?.wasRoot;\n}\n\nexport { cleanDirtyNodes, createProjectionNode, mixAxis, mixAxisDelta, mixBox, propagateDirtyNodes };\n//# sourceMappingURL=create-projection-node.mjs.map\n","import { isSVGElement } from './is-svg-element.mjs';\n\n/**\n * Checks if an element is specifically an SVGSVGElement (the root SVG element)\n * in a way that works across iframes\n */\nfunction isSVGSVGElement(element) {\n    return isSVGElement(element) && element.tagName === \"svg\";\n}\n\nexport { isSVGSVGElement };\n","import { isMotionValue, motionValue } from 'motion-dom';\nimport { animateMotionValue } from '../interfaces/motion-value.mjs';\n\nfunction animateSingleValue(value, keyframes, options) {\n    const motionValue$1 = isMotionValue(value) ? value : motionValue(value);\n    motionValue$1.start(animateMotionValue(\"\", motionValue$1, keyframes, options));\n    return motionValue$1.animation;\n}\n\nexport { animateSingleValue };\n//# sourceMappingURL=single-value.mjs.map\n","function buildProjectionTransform(delta, treeScale, latestTransform) {\n    let transform = \"\";\n    /**\n     * The translations we use to calculate are always relative to the viewport coordinate space.\n     * But when we apply scales, we also scale the coordinate space of an element and its children.\n     * For instance if we have a treeScale (the culmination of all parent scales) of 0.5 and we need\n     * to move an element 100 pixels, we actually need to move it 200 in within that scaled space.\n     */\n    const xTranslate = delta.x.translate / treeScale.x;\n    const yTranslate = delta.y.translate / treeScale.y;\n    const zTranslate = latestTransform?.z || 0;\n    if (xTranslate || yTranslate || zTranslate) {\n        transform = `translate3d(${xTranslate}px, ${yTranslate}px, ${zTranslate}px) `;\n    }\n    /**\n     * Apply scale correction for the tree transform.\n     * This will apply scale to the screen-orientated axes.\n     */\n    if (treeScale.x !== 1 || treeScale.y !== 1) {\n        transform += `scale(${1 / treeScale.x}, ${1 / treeScale.y}) `;\n    }\n    if (latestTransform) {\n        const { transformPerspective, rotate, rotateX, rotateY, skewX, skewY } = latestTransform;\n        if (transformPerspective)\n            transform = `perspective(${transformPerspective}px) ${transform}`;\n        if (rotate)\n            transform += `rotate(${rotate}deg) `;\n        if (rotateX)\n            transform += `rotateX(${rotateX}deg) `;\n        if (rotateY)\n            transform += `rotateY(${rotateY}deg) `;\n        if (skewX)\n            transform += `skewX(${skewX}deg) `;\n        if (skewY)\n            transform += `skewY(${skewY}deg) `;\n    }\n    /**\n     * Apply scale to match the size of the element to the size we want it.\n     * This will apply scale to the element-orientated axes.\n     */\n    const elementScaleX = delta.x.scale * treeScale.x;\n    const elementScaleY = delta.y.scale * treeScale.y;\n    if (elementScaleX !== 1 || elementScaleY !== 1) {\n        transform += `scale(${elementScaleX}, ${elementScaleY})`;\n    }\n    return transform || \"none\";\n}\n\nexport { buildProjectionTransform };\n//# sourceMappingURL=transform.mjs.map\n","import { addDomEvent } from '../../events/add-dom-event.mjs';\nimport { createProjectionNode } from './create-projection-node.mjs';\n\nconst DocumentProjectionNode = createProjectionNode({\n    attachResizeListener: (ref, notify) => addDomEvent(ref, \"resize\", notify),\n    measureScroll: () => ({\n        x: document.documentElement.scrollLeft || document.body.scrollLeft,\n        y: document.documentElement.scrollTop || document.body.scrollTop,\n    }),\n    checkIsScrollRoot: () => true,\n});\n\nexport { DocumentProjectionNode };\n//# sourceMappingURL=DocumentProjectionNode.mjs.map\n","import { createProjectionNode } from './create-projection-node.mjs';\nimport { DocumentProjectionNode } from './DocumentProjectionNode.mjs';\n\nconst rootProjectionNode = {\n    current: undefined,\n};\nconst HTMLProjectionNode = createProjectionNode({\n    measureScroll: (instance) => ({\n        x: instance.scrollLeft,\n        y: instance.scrollTop,\n    }),\n    defaultParent: () => {\n        if (!rootProjectionNode.current) {\n            const documentNode = new DocumentProjectionNode({});\n            documentNode.mount(window);\n            documentNode.setOptions({ layoutScroll: true });\n            rootProjectionNode.current = documentNode;\n        }\n        return rootProjectionNode.current;\n    },\n    resetTransform: (instance, value) => {\n        instance.style.transform = value !== undefined ? value : \"none\";\n    },\n    checkIsScrollRoot: (instance) => Boolean(window.getComputedStyle(instance).position === \"fixed\"),\n});\n\nexport { HTMLProjectionNode, rootProjectionNode };\n//# sourceMappingURL=HTMLProjectionNode.mjs.map\n","import { DragGesture } from '../../gestures/drag/index.mjs';\nimport { PanGesture } from '../../gestures/pan/index.mjs';\nimport { MeasureLayout } from './layout/MeasureLayout.mjs';\nimport { HTMLProjectionNode } from '../../projection/node/HTMLProjectionNode.mjs';\n\nconst drag = {\n    pan: {\n        Feature: PanGesture,\n    },\n    drag: {\n        Feature: DragGesture,\n        ProjectionNode: HTMLProjectionNode,\n        MeasureLayout,\n    },\n};\n\nexport { drag };\n//# sourceMappingURL=drag.mjs.map\n","import { Feature } from '../../motion/features/Feature.mjs';\nimport { noop } from 'motion-utils';\nimport { VisualElementDragControls } from './VisualElementDragControls.mjs';\n\nclass DragGesture extends Feature {\n    constructor(node) {\n        super(node);\n        this.removeGroupControls = noop;\n        this.removeListeners = noop;\n        this.controls = new VisualElementDragControls(node);\n    }\n    mount() {\n        // If we've been provided a DragControls for manual control over the drag gesture,\n        // subscribe this component to it on mount.\n        const { dragControls } = this.node.getProps();\n        if (dragControls) {\n            this.removeGroupControls = dragControls.subscribe(this.controls);\n        }\n        this.removeListeners = this.controls.addListeners() || noop;\n    }\n    update() {\n        const { dragControls } = this.node.getProps();\n        const { dragControls: prevDragControls } = this.node.prevProps || {};\n        if (dragControls !== prevDragControls) {\n            this.removeGroupControls();\n            if (dragControls) {\n                this.removeGroupControls = dragControls.subscribe(this.controls);\n            }\n        }\n    }\n    unmount() {\n        this.removeGroupControls();\n        this.removeListeners();\n    }\n}\n\nexport { DragGesture };\n//# sourceMappingURL=index.mjs.map\n","import { resolveElements } from '../../utils/resolve-elements.mjs';\n\nfunction setupGesture(elementOrSelector, options) {\n    const elements = resolveElements(elementOrSelector);\n    const gestureAbortController = new AbortController();\n    const eventOptions = {\n        passive: true,\n        ...options,\n        signal: gestureAbortController.signal,\n    };\n    const cancel = () => gestureAbortController.abort();\n    return [elements, eventOptions, cancel];\n}\n\nexport { setupGesture };\n","function resolveElements(elementOrSelector, scope, selectorCache) {\n    if (elementOrSelector instanceof EventTarget) {\n        return [elementOrSelector];\n    }\n    else if (typeof elementOrSelector === \"string\") {\n        let root = document;\n        if (scope) {\n            root = scope.current;\n        }\n        const elements = selectorCache?.[elementOrSelector] ??\n            root.querySelectorAll(elementOrSelector);\n        return elements ? Array.from(elements) : [];\n    }\n    return Array.from(elementOrSelector);\n}\n\nexport { resolveElements };\n","import { isDragActive } from './drag/state/is-active.mjs';\nimport { setupGesture } from './utils/setup.mjs';\n\nfunction isValidHover(event) {\n    return !(event.pointerType === \"touch\" || isDragActive());\n}\n/**\n * Create a hover gesture. hover() is different to .addEventListener(\"pointerenter\")\n * in that it has an easier syntax, filters out polyfilled touch events, interoperates\n * with drag gestures, and automatically removes the \"pointerennd\" event listener when the hover ends.\n *\n * @public\n */\nfunction hover(elementOrSelector, onHoverStart, options = {}) {\n    const [elements, eventOptions, cancel] = setupGesture(elementOrSelector, options);\n    const onPointerEnter = (enterEvent) => {\n        if (!isValidHover(enterEvent))\n            return;\n        const { target } = enterEvent;\n        const onHoverEnd = onHoverStart(target, enterEvent);\n        if (typeof onHoverEnd !== \"function\" || !target)\n            return;\n        const onPointerLeave = (leaveEvent) => {\n            if (!isValidHover(leaveEvent))\n                return;\n            onHoverEnd(leaveEvent);\n            target.removeEventListener(\"pointerleave\", onPointerLeave);\n        };\n        target.addEventListener(\"pointerleave\", onPointerLeave, eventOptions);\n    };\n    elements.forEach((element) => {\n        element.addEventListener(\"pointerenter\", onPointerEnter, eventOptions);\n    });\n    return cancel;\n}\n\nexport { hover };\n","import { hover, frame } from 'motion-dom';\nimport { extractEventInfo } from '../events/event-info.mjs';\nimport { Feature } from '../motion/features/Feature.mjs';\n\nfunction handleHoverEvent(node, event, lifecycle) {\n    const { props } = node;\n    if (node.animationState && props.whileHover) {\n        node.animationState.setActive(\"whileHover\", lifecycle === \"Start\");\n    }\n    const eventName = (\"onHover\" + lifecycle);\n    const callback = props[eventName];\n    if (callback) {\n        frame.postRender(() => callback(event, extractEventInfo(event)));\n    }\n}\nclass HoverGesture extends Feature {\n    mount() {\n        const { current } = this.node;\n        if (!current)\n            return;\n        this.unmount = hover(current, (_element, startEvent) => {\n            handleHoverEvent(this.node, startEvent, \"Start\");\n            return (endEvent) => handleHoverEvent(this.node, endEvent, \"End\");\n        });\n    }\n    unmount() { }\n}\n\nexport { HoverGesture };\n//# sourceMappingURL=hover.mjs.map\n","/**\n * Recursively traverse up the tree to check whether the provided child node\n * is the parent or a descendant of it.\n *\n * @param parent - Element to find\n * @param child - Element to test against parent\n */\nconst isNodeOrChild = (parent, child) => {\n    if (!child) {\n        return false;\n    }\n    else if (parent === child) {\n        return true;\n    }\n    else {\n        return isNodeOrChild(parent, child.parentElement);\n    }\n};\n\nexport { isNodeOrChild };\n","const isPressing = new WeakSet();\n\nexport { isPressing };\n","import { isPressing } from './state.mjs';\n\n/**\n * Filter out events that are not \"Enter\" keys.\n */\nfunction filterEvents(callback) {\n    return (event) => {\n        if (event.key !== \"Enter\")\n            return;\n        callback(event);\n    };\n}\nfunction firePointerEvent(target, type) {\n    target.dispatchEvent(new PointerEvent(\"pointer\" + type, { isPrimary: true, bubbles: true }));\n}\nconst enableKeyboardPress = (focusEvent, eventOptions) => {\n    const element = focusEvent.currentTarget;\n    if (!element)\n        return;\n    const handleKeydown = filterEvents(() => {\n        if (isPressing.has(element))\n            return;\n        firePointerEvent(element, \"down\");\n        const handleKeyup = filterEvents(() => {\n            firePointerEvent(element, \"up\");\n        });\n        const handleBlur = () => firePointerEvent(element, \"cancel\");\n        element.addEventListener(\"keyup\", handleKeyup, eventOptions);\n        element.addEventListener(\"blur\", handleBlur, eventOptions);\n    });\n    element.addEventListener(\"keydown\", handleKeydown, eventOptions);\n    /**\n     * Add an event listener that fires on blur to remove the keydown events.\n     */\n    element.addEventListener(\"blur\", () => element.removeEventListener(\"keydown\", handleKeydown), eventOptions);\n};\n\nexport { enableKeyboardPress };\n","import { isHTMLElement } from '../../utils/is-html-element.mjs';\nimport { isDragActive } from '../drag/state/is-active.mjs';\nimport { isNodeOrChild } from '../utils/is-node-or-child.mjs';\nimport { isPrimaryPointer } from '../utils/is-primary-pointer.mjs';\nimport { setupGesture } from '../utils/setup.mjs';\nimport { isElementKeyboardAccessible } from './utils/is-keyboard-accessible.mjs';\nimport { enableKeyboardPress } from './utils/keyboard.mjs';\nimport { isPressing } from './utils/state.mjs';\n\n/**\n * Filter out events that are not primary pointer events, or are triggering\n * while a Motion gesture is active.\n */\nfunction isValidPressEvent(event) {\n    return isPrimaryPointer(event) && !isDragActive();\n}\n/**\n * Create a press gesture.\n *\n * Press is different to `\"pointerdown\"`, `\"pointerup\"` in that it\n * automatically filters out secondary pointer events like right\n * click and multitouch.\n *\n * It also adds accessibility support for keyboards, where\n * an element with a press gesture will receive focus and\n *  trigger on Enter `\"keydown\"` and `\"keyup\"` events.\n *\n * This is different to a browser's `\"click\"` event, which does\n * respond to keyboards but only for the `\"click\"` itself, rather\n * than the press start and end/cancel. The element also needs\n * to be focusable for this to work, whereas a press gesture will\n * make an element focusable by default.\n *\n * @public\n */\nfunction press(targetOrSelector, onPressStart, options = {}) {\n    const [targets, eventOptions, cancelEvents] = setupGesture(targetOrSelector, options);\n    const startPress = (startEvent) => {\n        const target = startEvent.currentTarget;\n        if (!isValidPressEvent(startEvent))\n            return;\n        isPressing.add(target);\n        const onPressEnd = onPressStart(target, startEvent);\n        const onPointerEnd = (endEvent, success) => {\n            window.removeEventListener(\"pointerup\", onPointerUp);\n            window.removeEventListener(\"pointercancel\", onPointerCancel);\n            if (isPressing.has(target)) {\n                isPressing.delete(target);\n            }\n            if (!isValidPressEvent(endEvent)) {\n                return;\n            }\n            if (typeof onPressEnd === \"function\") {\n                onPressEnd(endEvent, { success });\n            }\n        };\n        const onPointerUp = (upEvent) => {\n            onPointerEnd(upEvent, target === window ||\n                target === document ||\n                options.useGlobalTarget ||\n                isNodeOrChild(target, upEvent.target));\n        };\n        const onPointerCancel = (cancelEvent) => {\n            onPointerEnd(cancelEvent, false);\n        };\n        window.addEventListener(\"pointerup\", onPointerUp, eventOptions);\n        window.addEventListener(\"pointercancel\", onPointerCancel, eventOptions);\n    };\n    targets.forEach((target) => {\n        const pointerDownTarget = options.useGlobalTarget ? window : target;\n        pointerDownTarget.addEventListener(\"pointerdown\", startPress, eventOptions);\n        if (isHTMLElement(target)) {\n            target.addEventListener(\"focus\", (event) => enableKeyboardPress(event, eventOptions));\n            if (!isElementKeyboardAccessible(target) &&\n                !target.hasAttribute(\"tabindex\")) {\n                target.tabIndex = 0;\n            }\n        }\n    });\n    return cancelEvents;\n}\n\nexport { press };\n","import { isObject } from 'motion-utils';\n\n/**\n * Checks if an element is an HTML element in a way\n * that works across iframes\n */\nfunction isHTMLElement(element) {\n    return isObject(element) && \"offsetHeight\" in element;\n}\n\nexport { isHTMLElement };\n","import { press, frame } from 'motion-dom';\nimport { extractEventInfo } from '../events/event-info.mjs';\nimport { Feature } from '../motion/features/Feature.mjs';\n\nfunction handlePressEvent(node, event, lifecycle) {\n    const { props } = node;\n    if (node.current instanceof HTMLButtonElement && node.current.disabled) {\n        return;\n    }\n    if (node.animationState && props.whileTap) {\n        node.animationState.setActive(\"whileTap\", lifecycle === \"Start\");\n    }\n    const eventName = (\"onTap\" + (lifecycle === \"End\" ? \"\" : lifecycle));\n    const callback = props[eventName];\n    if (callback) {\n        frame.postRender(() => callback(event, extractEventInfo(event)));\n    }\n}\nclass PressGesture extends Feature {\n    mount() {\n        const { current } = this.node;\n        if (!current)\n            return;\n        this.unmount = press(current, (_element, startEvent) => {\n            handlePressEvent(this.node, startEvent, \"Start\");\n            return (endEvent, { success }) => handlePressEvent(this.node, endEvent, success ? \"End\" : \"Cancel\");\n        }, { useGlobalTarget: this.node.props.globalTapTarget });\n    }\n    unmount() { }\n}\n\nexport { PressGesture };\n//# sourceMappingURL=press.mjs.map\n","/**\n * Map an IntersectionHandler callback to an element. We only ever make one handler for one\n * element, so even though these handlers might all be triggered by different\n * observers, we can keep them in the same map.\n */\nconst observerCallbacks = new WeakMap();\n/**\n * Multiple observers can be created for multiple element/document roots. Each with\n * different settings. So here we store dictionaries of observers to each root,\n * using serialised settings (threshold/margin) as lookup keys.\n */\nconst observers = new WeakMap();\nconst fireObserverCallback = (entry) => {\n    const callback = observerCallbacks.get(entry.target);\n    callback && callback(entry);\n};\nconst fireAllObserverCallbacks = (entries) => {\n    entries.forEach(fireObserverCallback);\n};\nfunction initIntersectionObserver({ root, ...options }) {\n    const lookupRoot = root || document;\n    /**\n     * If we don't have an observer lookup map for this root, create one.\n     */\n    if (!observers.has(lookupRoot)) {\n        observers.set(lookupRoot, {});\n    }\n    const rootObservers = observers.get(lookupRoot);\n    const key = JSON.stringify(options);\n    /**\n     * If we don't have an observer for this combination of root and settings,\n     * create one.\n     */\n    if (!rootObservers[key]) {\n        rootObservers[key] = new IntersectionObserver(fireAllObserverCallbacks, { root, ...options });\n    }\n    return rootObservers[key];\n}\nfunction observeIntersection(element, options, callback) {\n    const rootInteresectionObserver = initIntersectionObserver(options);\n    observerCallbacks.set(element, callback);\n    rootInteresectionObserver.observe(element);\n    return () => {\n        observerCallbacks.delete(element);\n        rootInteresectionObserver.unobserve(element);\n    };\n}\n\nexport { observeIntersection };\n//# sourceMappingURL=observers.mjs.map\n","import { Feature } from '../Feature.mjs';\nimport { observeIntersection } from './observers.mjs';\n\nconst thresholdNames = {\n    some: 0,\n    all: 1,\n};\nclass InViewFeature extends Feature {\n    constructor() {\n        super(...arguments);\n        this.hasEnteredView = false;\n        this.isInView = false;\n    }\n    startObserver() {\n        this.unmount();\n        const { viewport = {} } = this.node.getProps();\n        const { root, margin: rootMargin, amount = \"some\", once } = viewport;\n        const options = {\n            root: root ? root.current : undefined,\n            rootMargin,\n            threshold: typeof amount === \"number\" ? amount : thresholdNames[amount],\n        };\n        const onIntersectionUpdate = (entry) => {\n            const { isIntersecting } = entry;\n            /**\n             * If there's been no change in the viewport state, early return.\n             */\n            if (this.isInView === isIntersecting)\n                return;\n            this.isInView = isIntersecting;\n            /**\n             * Handle hasEnteredView. If this is only meant to run once, and\n             * element isn't visible, early return. Otherwise set hasEnteredView to true.\n             */\n            if (once && !isIntersecting && this.hasEnteredView) {\n                return;\n            }\n            else if (isIntersecting) {\n                this.hasEnteredView = true;\n            }\n            if (this.node.animationState) {\n                this.node.animationState.setActive(\"whileInView\", isIntersecting);\n            }\n            /**\n             * Use the latest committed props rather than the ones in scope\n             * when this observer is created\n             */\n            const { onViewportEnter, onViewportLeave } = this.node.getProps();\n            const callback = isIntersecting ? onViewportEnter : onViewportLeave;\n            callback && callback(entry);\n        };\n        return observeIntersection(this.node.current, options, onIntersectionUpdate);\n    }\n    mount() {\n        this.startObserver();\n    }\n    update() {\n        if (typeof IntersectionObserver === \"undefined\")\n            return;\n        const { props, prevProps } = this.node;\n        const hasOptionsChanged = [\"amount\", \"margin\", \"root\"].some(hasViewportOptionChanged(props, prevProps));\n        if (hasOptionsChanged) {\n            this.startObserver();\n        }\n    }\n    unmount() { }\n}\nfunction hasViewportOptionChanged({ viewport = {} }, { viewport: prevViewport = {} } = {}) {\n    return (name) => viewport[name] !== prevViewport[name];\n}\n\nexport { InViewFeature };\n//# sourceMappingURL=index.mjs.map\n","import { HoverGesture } from '../../gestures/hover.mjs';\nimport { FocusGesture } from '../../gestures/focus.mjs';\nimport { PressGesture } from '../../gestures/press.mjs';\nimport { InViewFeature } from './viewport/index.mjs';\n\nconst gestureAnimations = {\n    inView: {\n        Feature: InViewFeature,\n    },\n    tap: {\n        Feature: PressGesture,\n    },\n    focus: {\n        Feature: FocusGesture,\n    },\n    hover: {\n        Feature: HoverGesture,\n    },\n};\n\nexport { gestureAnimations };\n//# sourceMappingURL=gestures.mjs.map\n","import { pipe } from 'motion-utils';\nimport { addDomEvent } from '../events/add-dom-event.mjs';\nimport { Feature } from '../motion/features/Feature.mjs';\n\nclass FocusGesture extends Feature {\n    constructor() {\n        super(...arguments);\n        this.isActive = false;\n    }\n    onFocus() {\n        let isFocusVisible = false;\n        /**\n         * If this element doesn't match focus-visible then don't\n         * apply whileHover. But, if matches throws that focus-visible\n         * is not a valid selector then in that browser outline styles will be applied\n         * to the element by default and we want to match that behaviour with whileFocus.\n         */\n        try {\n            isFocusVisible = this.node.current.matches(\":focus-visible\");\n        }\n        catch (e) {\n            isFocusVisible = true;\n        }\n        if (!isFocusVisible || !this.node.animationState)\n            return;\n        this.node.animationState.setActive(\"whileFocus\", true);\n        this.isActive = true;\n    }\n    onBlur() {\n        if (!this.isActive || !this.node.animationState)\n            return;\n        this.node.animationState.setActive(\"whileFocus\", false);\n        this.isActive = false;\n    }\n    mount() {\n        this.unmount = pipe(addDomEvent(this.node.current, \"focus\", () => this.onFocus()), addDomEvent(this.node.current, \"blur\", () => this.onBlur()));\n    }\n    unmount() { }\n}\n\nexport { FocusGesture };\n//# sourceMappingURL=focus.mjs.map\n","import { createDomVisualElement } from '../../dom/create-visual-element.mjs';\nimport { createMotionProxy } from '../create-proxy.mjs';\nimport { featureBundle } from './feature-bundle.mjs';\n\nconst motion = /*@__PURE__*/ createMotionProxy(featureBundle, createDomVisualElement);\n\nexport { motion };\n//# sourceMappingURL=proxy.mjs.map\n","import { animations } from '../../../motion/features/animations.mjs';\nimport { drag } from '../../../motion/features/drag.mjs';\nimport { gestureAnimations } from '../../../motion/features/gestures.mjs';\nimport { layout } from '../../../motion/features/layout.mjs';\n\nconst featureBundle = {\n    ...animations,\n    ...gestureAnimations,\n    ...drag,\n    ...layout,\n};\n\nexport { featureBundle };\n//# sourceMappingURL=feature-bundle.mjs.map\n","import { HTMLProjectionNode } from '../../projection/node/HTMLProjectionNode.mjs';\nimport { MeasureLayout } from './layout/MeasureLayout.mjs';\n\nconst layout = {\n    layout: {\n        ProjectionNode: HTMLProjectionNode,\n        MeasureLayout,\n    },\n};\n\nexport { layout };\n//# sourceMappingURL=layout.mjs.map\n","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","/**\n * Concatenates two arrays faster than the array spread operator.\n */\nconst concatArrays = (array1, array2) => {\n  // Pre-allocate for better V8 optimization\n  const combinedArray = new Array(array1.length + array2.length);\n  for (let i = 0; i < array1.length; i++) {\n    combinedArray[i] = array1[i];\n  }\n  for (let i = 0; i < array2.length; i++) {\n    combinedArray[array1.length + i] = array2[i];\n  }\n  return combinedArray;\n};\n\n// Factory function ensures consistent object shapes\nconst createClassValidatorObject = (classGroupId, validator) => ({\n  classGroupId,\n  validator\n});\n// Factory ensures consistent ClassPartObject shape\nconst createClassPartObject = (nextPart = new Map(), validators = null, classGroupId) => ({\n  nextPart,\n  validators,\n  classGroupId\n});\nconst CLASS_PART_SEPARATOR = '-';\nconst EMPTY_CONFLICTS = [];\n// I use two dots here because one dot is used as prefix for class groups in plugins\nconst ARBITRARY_PROPERTY_PREFIX = 'arbitrary..';\nconst createClassGroupUtils = config => {\n  const classMap = createClassMap(config);\n  const {\n    conflictingClassGroups,\n    conflictingClassGroupModifiers\n  } = config;\n  const getClassGroupId = className => {\n    if (className.startsWith('[') && className.endsWith(']')) {\n      return getGroupIdForArbitraryProperty(className);\n    }\n    const classParts = className.split(CLASS_PART_SEPARATOR);\n    // Classes like `-inset-1` produce an empty string as first classPart. We assume that classes for negative values are used correctly and skip it.\n    const startIndex = classParts[0] === '' && classParts.length > 1 ? 1 : 0;\n    return getGroupRecursive(classParts, startIndex, classMap);\n  };\n  const getConflictingClassGroupIds = (classGroupId, hasPostfixModifier) => {\n    if (hasPostfixModifier) {\n      const modifierConflicts = conflictingClassGroupModifiers[classGroupId];\n      const baseConflicts = conflictingClassGroups[classGroupId];\n      if (modifierConflicts) {\n        if (baseConflicts) {\n          // Merge base conflicts with modifier conflicts\n          return concatArrays(baseConflicts, modifierConflicts);\n        }\n        // Only modifier conflicts\n        return modifierConflicts;\n      }\n      // Fall back to without postfix if no modifier conflicts\n      return baseConflicts || EMPTY_CONFLICTS;\n    }\n    return conflictingClassGroups[classGroupId] || EMPTY_CONFLICTS;\n  };\n  return {\n    getClassGroupId,\n    getConflictingClassGroupIds\n  };\n};\nconst getGroupRecursive = (classParts, startIndex, classPartObject) => {\n  const classPathsLength = classParts.length - startIndex;\n  if (classPathsLength === 0) {\n    return classPartObject.classGroupId;\n  }\n  const currentClassPart = classParts[startIndex];\n  const nextClassPartObject = classPartObject.nextPart.get(currentClassPart);\n  if (nextClassPartObject) {\n    const result = getGroupRecursive(classParts, startIndex + 1, nextClassPartObject);\n    if (result) return result;\n  }\n  const validators = classPartObject.validators;\n  if (validators === null) {\n    return undefined;\n  }\n  // Build classRest string efficiently by joining from startIndex onwards\n  const classRest = startIndex === 0 ? classParts.join(CLASS_PART_SEPARATOR) : classParts.slice(startIndex).join(CLASS_PART_SEPARATOR);\n  const validatorsLength = validators.length;\n  for (let i = 0; i < validatorsLength; i++) {\n    const validatorObj = validators[i];\n    if (validatorObj.validator(classRest)) {\n      return validatorObj.classGroupId;\n    }\n  }\n  return undefined;\n};\n/**\n * Get the class group ID for an arbitrary property.\n *\n * @param className - The class name to get the group ID for. Is expected to be string starting with `[` and ending with `]`.\n */\nconst getGroupIdForArbitraryProperty = className => className.slice(1, -1).indexOf(':') === -1 ? undefined : (() => {\n  const content = className.slice(1, -1);\n  const colonIndex = content.indexOf(':');\n  const property = content.slice(0, colonIndex);\n  return property ? ARBITRARY_PROPERTY_PREFIX + property : undefined;\n})();\n/**\n * Exported for testing only\n */\nconst createClassMap = config => {\n  const {\n    theme,\n    classGroups\n  } = config;\n  return processClassGroups(classGroups, theme);\n};\n// Split into separate functions to maintain monomorphic call sites\nconst processClassGroups = (classGroups, theme) => {\n  const classMap = createClassPartObject();\n  for (const classGroupId in classGroups) {\n    const group = classGroups[classGroupId];\n    processClassesRecursively(group, classMap, classGroupId, theme);\n  }\n  return classMap;\n};\nconst processClassesRecursively = (classGroup, classPartObject, classGroupId, theme) => {\n  const len = classGroup.length;\n  for (let i = 0; i < len; i++) {\n    const classDefinition = classGroup[i];\n    processClassDefinition(classDefinition, classPartObject, classGroupId, theme);\n  }\n};\n// Split into separate functions for each type to maintain monomorphic call sites\nconst processClassDefinition = (classDefinition, classPartObject, classGroupId, theme) => {\n  if (typeof classDefinition === 'string') {\n    processStringDefinition(classDefinition, classPartObject, classGroupId);\n    return;\n  }\n  if (typeof classDefinition === 'function') {\n    processFunctionDefinition(classDefinition, classPartObject, classGroupId, theme);\n    return;\n  }\n  processObjectDefinition(classDefinition, classPartObject, classGroupId, theme);\n};\nconst processStringDefinition = (classDefinition, classPartObject, classGroupId) => {\n  const classPartObjectToEdit = classDefinition === '' ? classPartObject : getPart(classPartObject, classDefinition);\n  classPartObjectToEdit.classGroupId = classGroupId;\n};\nconst processFunctionDefinition = (classDefinition, classPartObject, classGroupId, theme) => {\n  if (isThemeGetter(classDefinition)) {\n    processClassesRecursively(classDefinition(theme), classPartObject, classGroupId, theme);\n    return;\n  }\n  if (classPartObject.validators === null) {\n    classPartObject.validators = [];\n  }\n  classPartObject.validators.push(createClassValidatorObject(classGroupId, classDefinition));\n};\nconst processObjectDefinition = (classDefinition, classPartObject, classGroupId, theme) => {\n  const entries = Object.entries(classDefinition);\n  const len = entries.length;\n  for (let i = 0; i < len; i++) {\n    const [key, value] = entries[i];\n    processClassesRecursively(value, getPart(classPartObject, key), classGroupId, theme);\n  }\n};\nconst getPart = (classPartObject, path) => {\n  let current = classPartObject;\n  const parts = path.split(CLASS_PART_SEPARATOR);\n  const len = parts.length;\n  for (let i = 0; i < len; i++) {\n    const part = parts[i];\n    let next = current.nextPart.get(part);\n    if (!next) {\n      next = createClassPartObject();\n      current.nextPart.set(part, next);\n    }\n    current = next;\n  }\n  return current;\n};\n// Type guard maintains monomorphic check\nconst isThemeGetter = func => 'isThemeGetter' in func && func.isThemeGetter === true;\n\n// LRU cache implementation using plain objects for simplicity\nconst createLruCache = maxCacheSize => {\n  if (maxCacheSize < 1) {\n    return {\n      get: () => undefined,\n      set: () => {}\n    };\n  }\n  let cacheSize = 0;\n  let cache = Object.create(null);\n  let previousCache = Object.create(null);\n  const update = (key, value) => {\n    cache[key] = value;\n    cacheSize++;\n    if (cacheSize > maxCacheSize) {\n      cacheSize = 0;\n      previousCache = cache;\n      cache = Object.create(null);\n    }\n  };\n  return {\n    get(key) {\n      let value = cache[key];\n      if (value !== undefined) {\n        return value;\n      }\n      if ((value = previousCache[key]) !== undefined) {\n        update(key, value);\n        return value;\n      }\n    },\n    set(key, value) {\n      if (key in cache) {\n        cache[key] = value;\n      } else {\n        update(key, value);\n      }\n    }\n  };\n};\nconst IMPORTANT_MODIFIER = '!';\nconst MODIFIER_SEPARATOR = ':';\nconst EMPTY_MODIFIERS = [];\n// Pre-allocated result object shape for consistency\nconst createResultObject = (modifiers, hasImportantModifier, baseClassName, maybePostfixModifierPosition, isExternal) => ({\n  modifiers,\n  hasImportantModifier,\n  baseClassName,\n  maybePostfixModifierPosition,\n  isExternal\n});\nconst createParseClassName = config => {\n  const {\n    prefix,\n    experimentalParseClassName\n  } = config;\n  /**\n   * Parse class name into parts.\n   *\n   * Inspired by `splitAtTopLevelOnly` used in Tailwind CSS\n   * @see https://github.com/tailwindlabs/tailwindcss/blob/v3.2.2/src/util/splitAtTopLevelOnly.js\n   */\n  let parseClassName = className => {\n    // Use simple array with push for better performance\n    const modifiers = [];\n    let bracketDepth = 0;\n    let parenDepth = 0;\n    let modifierStart = 0;\n    let postfixModifierPosition;\n    const len = className.length;\n    for (let index = 0; index < len; index++) {\n      const currentCharacter = className[index];\n      if (bracketDepth === 0 && parenDepth === 0) {\n        if (currentCharacter === MODIFIER_SEPARATOR) {\n          modifiers.push(className.slice(modifierStart, index));\n          modifierStart = index + 1;\n          continue;\n        }\n        if (currentCharacter === '/') {\n          postfixModifierPosition = index;\n          continue;\n        }\n      }\n      if (currentCharacter === '[') bracketDepth++;else if (currentCharacter === ']') bracketDepth--;else if (currentCharacter === '(') parenDepth++;else if (currentCharacter === ')') parenDepth--;\n    }\n    const baseClassNameWithImportantModifier = modifiers.length === 0 ? className : className.slice(modifierStart);\n    // Inline important modifier check\n    let baseClassName = baseClassNameWithImportantModifier;\n    let hasImportantModifier = false;\n    if (baseClassNameWithImportantModifier.endsWith(IMPORTANT_MODIFIER)) {\n      baseClassName = baseClassNameWithImportantModifier.slice(0, -1);\n      hasImportantModifier = true;\n    } else if (\n    /**\n     * In Tailwind CSS v3 the important modifier was at the start of the base class name. This is still supported for legacy reasons.\n     * @see https://github.com/dcastil/tailwind-merge/issues/513#issuecomment-2614029864\n     */\n    baseClassNameWithImportantModifier.startsWith(IMPORTANT_MODIFIER)) {\n      baseClassName = baseClassNameWithImportantModifier.slice(1);\n      hasImportantModifier = true;\n    }\n    const maybePostfixModifierPosition = postfixModifierPosition && postfixModifierPosition > modifierStart ? postfixModifierPosition - modifierStart : undefined;\n    return createResultObject(modifiers, hasImportantModifier, baseClassName, maybePostfixModifierPosition);\n  };\n  if (prefix) {\n    const fullPrefix = prefix + MODIFIER_SEPARATOR;\n    const parseClassNameOriginal = parseClassName;\n    parseClassName = className => className.startsWith(fullPrefix) ? parseClassNameOriginal(className.slice(fullPrefix.length)) : createResultObject(EMPTY_MODIFIERS, false, className, undefined, true);\n  }\n  if (experimentalParseClassName) {\n    const parseClassNameOriginal = parseClassName;\n    parseClassName = className => experimentalParseClassName({\n      className,\n      parseClassName: parseClassNameOriginal\n    });\n  }\n  return parseClassName;\n};\n\n/**\n * Sorts modifiers according to following schema:\n * - Predefined modifiers are sorted alphabetically\n * - When an arbitrary variant appears, it must be preserved which modifiers are before and after it\n */\nconst createSortModifiers = config => {\n  // Pre-compute weights for all known modifiers for O(1) comparison\n  const modifierWeights = new Map();\n  // Assign weights to sensitive modifiers (highest priority, but preserve order)\n  config.orderSensitiveModifiers.forEach((mod, index) => {\n    modifierWeights.set(mod, 1000000 + index); // High weights for sensitive mods\n  });\n  return modifiers => {\n    const result = [];\n    let currentSegment = [];\n    // Process modifiers in one pass\n    for (let i = 0; i < modifiers.length; i++) {\n      const modifier = modifiers[i];\n      // Check if modifier is sensitive (starts with '[' or in orderSensitiveModifiers)\n      const isArbitrary = modifier[0] === '[';\n      const isOrderSensitive = modifierWeights.has(modifier);\n      if (isArbitrary || isOrderSensitive) {\n        // Sort and flush current segment alphabetically\n        if (currentSegment.length > 0) {\n          currentSegment.sort();\n          result.push(...currentSegment);\n          currentSegment = [];\n        }\n        result.push(modifier);\n      } else {\n        // Regular modifier - add to current segment for batch sorting\n        currentSegment.push(modifier);\n      }\n    }\n    // Sort and add any remaining segment items\n    if (currentSegment.length > 0) {\n      currentSegment.sort();\n      result.push(...currentSegment);\n    }\n    return result;\n  };\n};\nconst createConfigUtils = config => ({\n  cache: createLruCache(config.cacheSize),\n  parseClassName: createParseClassName(config),\n  sortModifiers: createSortModifiers(config),\n  ...createClassGroupUtils(config)\n});\nconst SPLIT_CLASSES_REGEX = /\\s+/;\nconst mergeClassList = (classList, configUtils) => {\n  const {\n    parseClassName,\n    getClassGroupId,\n    getConflictingClassGroupIds,\n    sortModifiers\n  } = configUtils;\n  /**\n   * Set of classGroupIds in following format:\n   * `{importantModifier}{variantModifiers}{classGroupId}`\n   * @example 'float'\n   * @example 'hover:focus:bg-color'\n   * @example 'md:!pr'\n   */\n  const classGroupsInConflict = [];\n  const classNames = classList.trim().split(SPLIT_CLASSES_REGEX);\n  let result = '';\n  for (let index = classNames.length - 1; index >= 0; index -= 1) {\n    const originalClassName = classNames[index];\n    const {\n      isExternal,\n      modifiers,\n      hasImportantModifier,\n      baseClassName,\n      maybePostfixModifierPosition\n    } = parseClassName(originalClassName);\n    if (isExternal) {\n      result = originalClassName + (result.length > 0 ? ' ' + result : result);\n      continue;\n    }\n    let hasPostfixModifier = !!maybePostfixModifierPosition;\n    let classGroupId = getClassGroupId(hasPostfixModifier ? baseClassName.substring(0, maybePostfixModifierPosition) : baseClassName);\n    if (!classGroupId) {\n      if (!hasPostfixModifier) {\n        // Not a Tailwind class\n        result = originalClassName + (result.length > 0 ? ' ' + result : result);\n        continue;\n      }\n      classGroupId = getClassGroupId(baseClassName);\n      if (!classGroupId) {\n        // Not a Tailwind class\n        result = originalClassName + (result.length > 0 ? ' ' + result : result);\n        continue;\n      }\n      hasPostfixModifier = false;\n    }\n    // Fast path: skip sorting for empty or single modifier\n    const variantModifier = modifiers.length === 0 ? '' : modifiers.length === 1 ? modifiers[0] : sortModifiers(modifiers).join(':');\n    const modifierId = hasImportantModifier ? variantModifier + IMPORTANT_MODIFIER : variantModifier;\n    const classId = modifierId + classGroupId;\n    if (classGroupsInConflict.indexOf(classId) > -1) {\n      // Tailwind class omitted due to conflict\n      continue;\n    }\n    classGroupsInConflict.push(classId);\n    const conflictGroups = getConflictingClassGroupIds(classGroupId, hasPostfixModifier);\n    for (let i = 0; i < conflictGroups.length; ++i) {\n      const group = conflictGroups[i];\n      classGroupsInConflict.push(modifierId + group);\n    }\n    // Tailwind class not in conflict\n    result = originalClassName + (result.length > 0 ? ' ' + result : result);\n  }\n  return result;\n};\n\n/**\n * The code in this file is copied from https://github.com/lukeed/clsx and modified to suit the needs of tailwind-merge better.\n *\n * Specifically:\n * - Runtime code from https://github.com/lukeed/clsx/blob/v1.2.1/src/index.js\n * - TypeScript types from https://github.com/lukeed/clsx/blob/v1.2.1/clsx.d.ts\n *\n * Original code has MIT license: Copyright (c) Luke Edwards <luke.edwards05@gmail.com> (lukeed.com)\n */\nconst twJoin = (...classLists) => {\n  let index = 0;\n  let argument;\n  let resolvedValue;\n  let string = '';\n  while (index < classLists.length) {\n    if (argument = classLists[index++]) {\n      if (resolvedValue = toValue(argument)) {\n        string && (string += ' ');\n        string += resolvedValue;\n      }\n    }\n  }\n  return string;\n};\nconst toValue = mix => {\n  // Fast path for strings\n  if (typeof mix === 'string') {\n    return mix;\n  }\n  let resolvedValue;\n  let string = '';\n  for (let k = 0; k < mix.length; k++) {\n    if (mix[k]) {\n      if (resolvedValue = toValue(mix[k])) {\n        string && (string += ' ');\n        string += resolvedValue;\n      }\n    }\n  }\n  return string;\n};\nconst createTailwindMerge = (createConfigFirst, ...createConfigRest) => {\n  let configUtils;\n  let cacheGet;\n  let cacheSet;\n  let functionToCall;\n  const initTailwindMerge = classList => {\n    const config = createConfigRest.reduce((previousConfig, createConfigCurrent) => createConfigCurrent(previousConfig), createConfigFirst());\n    configUtils = createConfigUtils(config);\n    cacheGet = configUtils.cache.get;\n    cacheSet = configUtils.cache.set;\n    functionToCall = tailwindMerge;\n    return tailwindMerge(classList);\n  };\n  const tailwindMerge = classList => {\n    const cachedResult = cacheGet(classList);\n    if (cachedResult) {\n      return cachedResult;\n    }\n    const result = mergeClassList(classList, configUtils);\n    cacheSet(classList, result);\n    return result;\n  };\n  functionToCall = initTailwindMerge;\n  return (...args) => functionToCall(twJoin(...args));\n};\nconst fallbackThemeArr = [];\nconst fromTheme = key => {\n  const themeGetter = theme => theme[key] || fallbackThemeArr;\n  themeGetter.isThemeGetter = true;\n  return themeGetter;\n};\nconst arbitraryValueRegex = /^\\[(?:(\\w[\\w-]*):)?(.+)\\]$/i;\nconst arbitraryVariableRegex = /^\\((?:(\\w[\\w-]*):)?(.+)\\)$/i;\nconst fractionRegex = /^\\d+\\/\\d+$/;\nconst tshirtUnitRegex = /^(\\d+(\\.\\d+)?)?(xs|sm|md|lg|xl)$/;\nconst lengthUnitRegex = /\\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\\b(calc|min|max|clamp)\\(.+\\)|^0$/;\nconst colorFunctionRegex = /^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\\(.+\\)$/;\n// Shadow always begins with x and y offset separated by underscore optionally prepended by inset\nconst shadowRegex = /^(inset_)?-?((\\d+)?\\.?(\\d+)[a-z]+|0)_-?((\\d+)?\\.?(\\d+)[a-z]+|0)/;\nconst imageRegex = /^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\\(.+\\)$/;\nconst isFraction = value => fractionRegex.test(value);\nconst isNumber = value => !!value && !Number.isNaN(Number(value));\nconst isInteger = value => !!value && Number.isInteger(Number(value));\nconst isPercent = value => value.endsWith('%') && isNumber(value.slice(0, -1));\nconst isTshirtSize = value => tshirtUnitRegex.test(value);\nconst isAny = () => true;\nconst isLengthOnly = value =>\n// `colorFunctionRegex` check is necessary because color functions can have percentages in them which which would be incorrectly classified as lengths.\n// For example, `hsl(0 0% 0%)` would be classified as a length without this check.\n// I could also use lookbehind assertion in `lengthUnitRegex` but that isn't supported widely enough.\nlengthUnitRegex.test(value) && !colorFunctionRegex.test(value);\nconst isNever = () => false;\nconst isShadow = value => shadowRegex.test(value);\nconst isImage = value => imageRegex.test(value);\nconst isAnyNonArbitrary = value => !isArbitraryValue(value) && !isArbitraryVariable(value);\nconst isArbitrarySize = value => getIsArbitraryValue(value, isLabelSize, isNever);\nconst isArbitraryValue = value => arbitraryValueRegex.test(value);\nconst isArbitraryLength = value => getIsArbitraryValue(value, isLabelLength, isLengthOnly);\nconst isArbitraryNumber = value => getIsArbitraryValue(value, isLabelNumber, isNumber);\nconst isArbitraryPosition = value => getIsArbitraryValue(value, isLabelPosition, isNever);\nconst isArbitraryImage = value => getIsArbitraryValue(value, isLabelImage, isImage);\nconst isArbitraryShadow = value => getIsArbitraryValue(value, isLabelShadow, isShadow);\nconst isArbitraryVariable = value => arbitraryVariableRegex.test(value);\nconst isArbitraryVariableLength = value => getIsArbitraryVariable(value, isLabelLength);\nconst isArbitraryVariableFamilyName = value => getIsArbitraryVariable(value, isLabelFamilyName);\nconst isArbitraryVariablePosition = value => getIsArbitraryVariable(value, isLabelPosition);\nconst isArbitraryVariableSize = value => getIsArbitraryVariable(value, isLabelSize);\nconst isArbitraryVariableImage = value => getIsArbitraryVariable(value, isLabelImage);\nconst isArbitraryVariableShadow = value => getIsArbitraryVariable(value, isLabelShadow, true);\n// Helpers\nconst getIsArbitraryValue = (value, testLabel, testValue) => {\n  const result = arbitraryValueRegex.exec(value);\n  if (result) {\n    if (result[1]) {\n      return testLabel(result[1]);\n    }\n    return testValue(result[2]);\n  }\n  return false;\n};\nconst getIsArbitraryVariable = (value, testLabel, shouldMatchNoLabel = false) => {\n  const result = arbitraryVariableRegex.exec(value);\n  if (result) {\n    if (result[1]) {\n      return testLabel(result[1]);\n    }\n    return shouldMatchNoLabel;\n  }\n  return false;\n};\n// Labels\nconst isLabelPosition = label => label === 'position' || label === 'percentage';\nconst isLabelImage = label => label === 'image' || label === 'url';\nconst isLabelSize = label => label === 'length' || label === 'size' || label === 'bg-size';\nconst isLabelLength = label => label === 'length';\nconst isLabelNumber = label => label === 'number';\nconst isLabelFamilyName = label => label === 'family-name';\nconst isLabelShadow = label => label === 'shadow';\nconst validators = /*#__PURE__*/Object.defineProperty({\n  __proto__: null,\n  isAny,\n  isAnyNonArbitrary,\n  isArbitraryImage,\n  isArbitraryLength,\n  isArbitraryNumber,\n  isArbitraryPosition,\n  isArbitraryShadow,\n  isArbitrarySize,\n  isArbitraryValue,\n  isArbitraryVariable,\n  isArbitraryVariableFamilyName,\n  isArbitraryVariableImage,\n  isArbitraryVariableLength,\n  isArbitraryVariablePosition,\n  isArbitraryVariableShadow,\n  isArbitraryVariableSize,\n  isFraction,\n  isInteger,\n  isNumber,\n  isPercent,\n  isTshirtSize\n}, Symbol.toStringTag, {\n  value: 'Module'\n});\nconst getDefaultConfig = () => {\n  /**\n   * Theme getters for theme variable namespaces\n   * @see https://tailwindcss.com/docs/theme#theme-variable-namespaces\n   */\n  /***/\n  const themeColor = fromTheme('color');\n  const themeFont = fromTheme('font');\n  const themeText = fromTheme('text');\n  const themeFontWeight = fromTheme('font-weight');\n  const themeTracking = fromTheme('tracking');\n  const themeLeading = fromTheme('leading');\n  const themeBreakpoint = fromTheme('breakpoint');\n  const themeContainer = fromTheme('container');\n  const themeSpacing = fromTheme('spacing');\n  const themeRadius = fromTheme('radius');\n  const themeShadow = fromTheme('shadow');\n  const themeInsetShadow = fromTheme('inset-shadow');\n  const themeTextShadow = fromTheme('text-shadow');\n  const themeDropShadow = fromTheme('drop-shadow');\n  const themeBlur = fromTheme('blur');\n  const themePerspective = fromTheme('perspective');\n  const themeAspect = fromTheme('aspect');\n  const themeEase = fromTheme('ease');\n  const themeAnimate = fromTheme('animate');\n  /**\n   * Helpers to avoid repeating the same scales\n   *\n   * We use functions that create a new array every time they're called instead of static arrays.\n   * This ensures that users who modify any scale by mutating the array (e.g. with `array.push(element)`) don't accidentally mutate arrays in other parts of the config.\n   */\n  /***/\n  const scaleBreak = () => ['auto', 'avoid', 'all', 'avoid-page', 'page', 'left', 'right', 'column'];\n  const scalePosition = () => ['center', 'top', 'bottom', 'left', 'right', 'top-left',\n  // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n  'left-top', 'top-right',\n  // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n  'right-top', 'bottom-right',\n  // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n  'right-bottom', 'bottom-left',\n  // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n  'left-bottom'];\n  const scalePositionWithArbitrary = () => [...scalePosition(), isArbitraryVariable, isArbitraryValue];\n  const scaleOverflow = () => ['auto', 'hidden', 'clip', 'visible', 'scroll'];\n  const scaleOverscroll = () => ['auto', 'contain', 'none'];\n  const scaleUnambiguousSpacing = () => [isArbitraryVariable, isArbitraryValue, themeSpacing];\n  const scaleInset = () => [isFraction, 'full', 'auto', ...scaleUnambiguousSpacing()];\n  const scaleGridTemplateColsRows = () => [isInteger, 'none', 'subgrid', isArbitraryVariable, isArbitraryValue];\n  const scaleGridColRowStartAndEnd = () => ['auto', {\n    span: ['full', isInteger, isArbitraryVariable, isArbitraryValue]\n  }, isInteger, isArbitraryVariable, isArbitraryValue];\n  const scaleGridColRowStartOrEnd = () => [isInteger, 'auto', isArbitraryVariable, isArbitraryValue];\n  const scaleGridAutoColsRows = () => ['auto', 'min', 'max', 'fr', isArbitraryVariable, isArbitraryValue];\n  const scaleAlignPrimaryAxis = () => ['start', 'end', 'center', 'between', 'around', 'evenly', 'stretch', 'baseline', 'center-safe', 'end-safe'];\n  const scaleAlignSecondaryAxis = () => ['start', 'end', 'center', 'stretch', 'center-safe', 'end-safe'];\n  const scaleMargin = () => ['auto', ...scaleUnambiguousSpacing()];\n  const scaleSizing = () => [isFraction, 'auto', 'full', 'dvw', 'dvh', 'lvw', 'lvh', 'svw', 'svh', 'min', 'max', 'fit', ...scaleUnambiguousSpacing()];\n  const scaleColor = () => [themeColor, isArbitraryVariable, isArbitraryValue];\n  const scaleBgPosition = () => [...scalePosition(), isArbitraryVariablePosition, isArbitraryPosition, {\n    position: [isArbitraryVariable, isArbitraryValue]\n  }];\n  const scaleBgRepeat = () => ['no-repeat', {\n    repeat: ['', 'x', 'y', 'space', 'round']\n  }];\n  const scaleBgSize = () => ['auto', 'cover', 'contain', isArbitraryVariableSize, isArbitrarySize, {\n    size: [isArbitraryVariable, isArbitraryValue]\n  }];\n  const scaleGradientStopPosition = () => [isPercent, isArbitraryVariableLength, isArbitraryLength];\n  const scaleRadius = () => [\n  // Deprecated since Tailwind CSS v4.0.0\n  '', 'none', 'full', themeRadius, isArbitraryVariable, isArbitraryValue];\n  const scaleBorderWidth = () => ['', isNumber, isArbitraryVariableLength, isArbitraryLength];\n  const scaleLineStyle = () => ['solid', 'dashed', 'dotted', 'double'];\n  const scaleBlendMode = () => ['normal', 'multiply', 'screen', 'overlay', 'darken', 'lighten', 'color-dodge', 'color-burn', 'hard-light', 'soft-light', 'difference', 'exclusion', 'hue', 'saturation', 'color', 'luminosity'];\n  const scaleMaskImagePosition = () => [isNumber, isPercent, isArbitraryVariablePosition, isArbitraryPosition];\n  const scaleBlur = () => [\n  // Deprecated since Tailwind CSS v4.0.0\n  '', 'none', themeBlur, isArbitraryVariable, isArbitraryValue];\n  const scaleRotate = () => ['none', isNumber, isArbitraryVariable, isArbitraryValue];\n  const scaleScale = () => ['none', isNumber, isArbitraryVariable, isArbitraryValue];\n  const scaleSkew = () => [isNumber, isArbitraryVariable, isArbitraryValue];\n  const scaleTranslate = () => [isFraction, 'full', ...scaleUnambiguousSpacing()];\n  return {\n    cacheSize: 500,\n    theme: {\n      animate: ['spin', 'ping', 'pulse', 'bounce'],\n      aspect: ['video'],\n      blur: [isTshirtSize],\n      breakpoint: [isTshirtSize],\n      color: [isAny],\n      container: [isTshirtSize],\n      'drop-shadow': [isTshirtSize],\n      ease: ['in', 'out', 'in-out'],\n      font: [isAnyNonArbitrary],\n      'font-weight': ['thin', 'extralight', 'light', 'normal', 'medium', 'semibold', 'bold', 'extrabold', 'black'],\n      'inset-shadow': [isTshirtSize],\n      leading: ['none', 'tight', 'snug', 'normal', 'relaxed', 'loose'],\n      perspective: ['dramatic', 'near', 'normal', 'midrange', 'distant', 'none'],\n      radius: [isTshirtSize],\n      shadow: [isTshirtSize],\n      spacing: ['px', isNumber],\n      text: [isTshirtSize],\n      'text-shadow': [isTshirtSize],\n      tracking: ['tighter', 'tight', 'normal', 'wide', 'wider', 'widest']\n    },\n    classGroups: {\n      // --------------\n      // --- Layout ---\n      // --------------\n      /**\n       * Aspect Ratio\n       * @see https://tailwindcss.com/docs/aspect-ratio\n       */\n      aspect: [{\n        aspect: ['auto', 'square', isFraction, isArbitraryValue, isArbitraryVariable, themeAspect]\n      }],\n      /**\n       * Container\n       * @see https://tailwindcss.com/docs/container\n       * @deprecated since Tailwind CSS v4.0.0\n       */\n      container: ['container'],\n      /**\n       * Columns\n       * @see https://tailwindcss.com/docs/columns\n       */\n      columns: [{\n        columns: [isNumber, isArbitraryValue, isArbitraryVariable, themeContainer]\n      }],\n      /**\n       * Break After\n       * @see https://tailwindcss.com/docs/break-after\n       */\n      'break-after': [{\n        'break-after': scaleBreak()\n      }],\n      /**\n       * Break Before\n       * @see https://tailwindcss.com/docs/break-before\n       */\n      'break-before': [{\n        'break-before': scaleBreak()\n      }],\n      /**\n       * Break Inside\n       * @see https://tailwindcss.com/docs/break-inside\n       */\n      'break-inside': [{\n        'break-inside': ['auto', 'avoid', 'avoid-page', 'avoid-column']\n      }],\n      /**\n       * Box Decoration Break\n       * @see https://tailwindcss.com/docs/box-decoration-break\n       */\n      'box-decoration': [{\n        'box-decoration': ['slice', 'clone']\n      }],\n      /**\n       * Box Sizing\n       * @see https://tailwindcss.com/docs/box-sizing\n       */\n      box: [{\n        box: ['border', 'content']\n      }],\n      /**\n       * Display\n       * @see https://tailwindcss.com/docs/display\n       */\n      display: ['block', 'inline-block', 'inline', 'flex', 'inline-flex', 'table', 'inline-table', 'table-caption', 'table-cell', 'table-column', 'table-column-group', 'table-footer-group', 'table-header-group', 'table-row-group', 'table-row', 'flow-root', 'grid', 'inline-grid', 'contents', 'list-item', 'hidden'],\n      /**\n       * Screen Reader Only\n       * @see https://tailwindcss.com/docs/display#screen-reader-only\n       */\n      sr: ['sr-only', 'not-sr-only'],\n      /**\n       * Floats\n       * @see https://tailwindcss.com/docs/float\n       */\n      float: [{\n        float: ['right', 'left', 'none', 'start', 'end']\n      }],\n      /**\n       * Clear\n       * @see https://tailwindcss.com/docs/clear\n       */\n      clear: [{\n        clear: ['left', 'right', 'both', 'none', 'start', 'end']\n      }],\n      /**\n       * Isolation\n       * @see https://tailwindcss.com/docs/isolation\n       */\n      isolation: ['isolate', 'isolation-auto'],\n      /**\n       * Object Fit\n       * @see https://tailwindcss.com/docs/object-fit\n       */\n      'object-fit': [{\n        object: ['contain', 'cover', 'fill', 'none', 'scale-down']\n      }],\n      /**\n       * Object Position\n       * @see https://tailwindcss.com/docs/object-position\n       */\n      'object-position': [{\n        object: scalePositionWithArbitrary()\n      }],\n      /**\n       * Overflow\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      overflow: [{\n        overflow: scaleOverflow()\n      }],\n      /**\n       * Overflow X\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      'overflow-x': [{\n        'overflow-x': scaleOverflow()\n      }],\n      /**\n       * Overflow Y\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      'overflow-y': [{\n        'overflow-y': scaleOverflow()\n      }],\n      /**\n       * Overscroll Behavior\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      overscroll: [{\n        overscroll: scaleOverscroll()\n      }],\n      /**\n       * Overscroll Behavior X\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      'overscroll-x': [{\n        'overscroll-x': scaleOverscroll()\n      }],\n      /**\n       * Overscroll Behavior Y\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      'overscroll-y': [{\n        'overscroll-y': scaleOverscroll()\n      }],\n      /**\n       * Position\n       * @see https://tailwindcss.com/docs/position\n       */\n      position: ['static', 'fixed', 'absolute', 'relative', 'sticky'],\n      /**\n       * Top / Right / Bottom / Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      inset: [{\n        inset: scaleInset()\n      }],\n      /**\n       * Right / Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      'inset-x': [{\n        'inset-x': scaleInset()\n      }],\n      /**\n       * Top / Bottom\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      'inset-y': [{\n        'inset-y': scaleInset()\n      }],\n      /**\n       * Start\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      start: [{\n        start: scaleInset()\n      }],\n      /**\n       * End\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      end: [{\n        end: scaleInset()\n      }],\n      /**\n       * Top\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      top: [{\n        top: scaleInset()\n      }],\n      /**\n       * Right\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      right: [{\n        right: scaleInset()\n      }],\n      /**\n       * Bottom\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      bottom: [{\n        bottom: scaleInset()\n      }],\n      /**\n       * Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      left: [{\n        left: scaleInset()\n      }],\n      /**\n       * Visibility\n       * @see https://tailwindcss.com/docs/visibility\n       */\n      visibility: ['visible', 'invisible', 'collapse'],\n      /**\n       * Z-Index\n       * @see https://tailwindcss.com/docs/z-index\n       */\n      z: [{\n        z: [isInteger, 'auto', isArbitraryVariable, isArbitraryValue]\n      }],\n      // ------------------------\n      // --- Flexbox and Grid ---\n      // ------------------------\n      /**\n       * Flex Basis\n       * @see https://tailwindcss.com/docs/flex-basis\n       */\n      basis: [{\n        basis: [isFraction, 'full', 'auto', themeContainer, ...scaleUnambiguousSpacing()]\n      }],\n      /**\n       * Flex Direction\n       * @see https://tailwindcss.com/docs/flex-direction\n       */\n      'flex-direction': [{\n        flex: ['row', 'row-reverse', 'col', 'col-reverse']\n      }],\n      /**\n       * Flex Wrap\n       * @see https://tailwindcss.com/docs/flex-wrap\n       */\n      'flex-wrap': [{\n        flex: ['nowrap', 'wrap', 'wrap-reverse']\n      }],\n      /**\n       * Flex\n       * @see https://tailwindcss.com/docs/flex\n       */\n      flex: [{\n        flex: [isNumber, isFraction, 'auto', 'initial', 'none', isArbitraryValue]\n      }],\n      /**\n       * Flex Grow\n       * @see https://tailwindcss.com/docs/flex-grow\n       */\n      grow: [{\n        grow: ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Flex Shrink\n       * @see https://tailwindcss.com/docs/flex-shrink\n       */\n      shrink: [{\n        shrink: ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Order\n       * @see https://tailwindcss.com/docs/order\n       */\n      order: [{\n        order: [isInteger, 'first', 'last', 'none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Grid Template Columns\n       * @see https://tailwindcss.com/docs/grid-template-columns\n       */\n      'grid-cols': [{\n        'grid-cols': scaleGridTemplateColsRows()\n      }],\n      /**\n       * Grid Column Start / End\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-start-end': [{\n        col: scaleGridColRowStartAndEnd()\n      }],\n      /**\n       * Grid Column Start\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-start': [{\n        'col-start': scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Column End\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-end': [{\n        'col-end': scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Template Rows\n       * @see https://tailwindcss.com/docs/grid-template-rows\n       */\n      'grid-rows': [{\n        'grid-rows': scaleGridTemplateColsRows()\n      }],\n      /**\n       * Grid Row Start / End\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-start-end': [{\n        row: scaleGridColRowStartAndEnd()\n      }],\n      /**\n       * Grid Row Start\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-start': [{\n        'row-start': scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Row End\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-end': [{\n        'row-end': scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Auto Flow\n       * @see https://tailwindcss.com/docs/grid-auto-flow\n       */\n      'grid-flow': [{\n        'grid-flow': ['row', 'col', 'dense', 'row-dense', 'col-dense']\n      }],\n      /**\n       * Grid Auto Columns\n       * @see https://tailwindcss.com/docs/grid-auto-columns\n       */\n      'auto-cols': [{\n        'auto-cols': scaleGridAutoColsRows()\n      }],\n      /**\n       * Grid Auto Rows\n       * @see https://tailwindcss.com/docs/grid-auto-rows\n       */\n      'auto-rows': [{\n        'auto-rows': scaleGridAutoColsRows()\n      }],\n      /**\n       * Gap\n       * @see https://tailwindcss.com/docs/gap\n       */\n      gap: [{\n        gap: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Gap X\n       * @see https://tailwindcss.com/docs/gap\n       */\n      'gap-x': [{\n        'gap-x': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Gap Y\n       * @see https://tailwindcss.com/docs/gap\n       */\n      'gap-y': [{\n        'gap-y': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Justify Content\n       * @see https://tailwindcss.com/docs/justify-content\n       */\n      'justify-content': [{\n        justify: [...scaleAlignPrimaryAxis(), 'normal']\n      }],\n      /**\n       * Justify Items\n       * @see https://tailwindcss.com/docs/justify-items\n       */\n      'justify-items': [{\n        'justify-items': [...scaleAlignSecondaryAxis(), 'normal']\n      }],\n      /**\n       * Justify Self\n       * @see https://tailwindcss.com/docs/justify-self\n       */\n      'justify-self': [{\n        'justify-self': ['auto', ...scaleAlignSecondaryAxis()]\n      }],\n      /**\n       * Align Content\n       * @see https://tailwindcss.com/docs/align-content\n       */\n      'align-content': [{\n        content: ['normal', ...scaleAlignPrimaryAxis()]\n      }],\n      /**\n       * Align Items\n       * @see https://tailwindcss.com/docs/align-items\n       */\n      'align-items': [{\n        items: [...scaleAlignSecondaryAxis(), {\n          baseline: ['', 'last']\n        }]\n      }],\n      /**\n       * Align Self\n       * @see https://tailwindcss.com/docs/align-self\n       */\n      'align-self': [{\n        self: ['auto', ...scaleAlignSecondaryAxis(), {\n          baseline: ['', 'last']\n        }]\n      }],\n      /**\n       * Place Content\n       * @see https://tailwindcss.com/docs/place-content\n       */\n      'place-content': [{\n        'place-content': scaleAlignPrimaryAxis()\n      }],\n      /**\n       * Place Items\n       * @see https://tailwindcss.com/docs/place-items\n       */\n      'place-items': [{\n        'place-items': [...scaleAlignSecondaryAxis(), 'baseline']\n      }],\n      /**\n       * Place Self\n       * @see https://tailwindcss.com/docs/place-self\n       */\n      'place-self': [{\n        'place-self': ['auto', ...scaleAlignSecondaryAxis()]\n      }],\n      // Spacing\n      /**\n       * Padding\n       * @see https://tailwindcss.com/docs/padding\n       */\n      p: [{\n        p: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding X\n       * @see https://tailwindcss.com/docs/padding\n       */\n      px: [{\n        px: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Y\n       * @see https://tailwindcss.com/docs/padding\n       */\n      py: [{\n        py: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Start\n       * @see https://tailwindcss.com/docs/padding\n       */\n      ps: [{\n        ps: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding End\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pe: [{\n        pe: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Top\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pt: [{\n        pt: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Right\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pr: [{\n        pr: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Bottom\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pb: [{\n        pb: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Left\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pl: [{\n        pl: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Margin\n       * @see https://tailwindcss.com/docs/margin\n       */\n      m: [{\n        m: scaleMargin()\n      }],\n      /**\n       * Margin X\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mx: [{\n        mx: scaleMargin()\n      }],\n      /**\n       * Margin Y\n       * @see https://tailwindcss.com/docs/margin\n       */\n      my: [{\n        my: scaleMargin()\n      }],\n      /**\n       * Margin Start\n       * @see https://tailwindcss.com/docs/margin\n       */\n      ms: [{\n        ms: scaleMargin()\n      }],\n      /**\n       * Margin End\n       * @see https://tailwindcss.com/docs/margin\n       */\n      me: [{\n        me: scaleMargin()\n      }],\n      /**\n       * Margin Top\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mt: [{\n        mt: scaleMargin()\n      }],\n      /**\n       * Margin Right\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mr: [{\n        mr: scaleMargin()\n      }],\n      /**\n       * Margin Bottom\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mb: [{\n        mb: scaleMargin()\n      }],\n      /**\n       * Margin Left\n       * @see https://tailwindcss.com/docs/margin\n       */\n      ml: [{\n        ml: scaleMargin()\n      }],\n      /**\n       * Space Between X\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      'space-x': [{\n        'space-x': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Space Between X Reverse\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      'space-x-reverse': ['space-x-reverse'],\n      /**\n       * Space Between Y\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      'space-y': [{\n        'space-y': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Space Between Y Reverse\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      'space-y-reverse': ['space-y-reverse'],\n      // --------------\n      // --- Sizing ---\n      // --------------\n      /**\n       * Size\n       * @see https://tailwindcss.com/docs/width#setting-both-width-and-height\n       */\n      size: [{\n        size: scaleSizing()\n      }],\n      /**\n       * Width\n       * @see https://tailwindcss.com/docs/width\n       */\n      w: [{\n        w: [themeContainer, 'screen', ...scaleSizing()]\n      }],\n      /**\n       * Min-Width\n       * @see https://tailwindcss.com/docs/min-width\n       */\n      'min-w': [{\n        'min-w': [themeContainer, 'screen', /** Deprecated. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n        'none', ...scaleSizing()]\n      }],\n      /**\n       * Max-Width\n       * @see https://tailwindcss.com/docs/max-width\n       */\n      'max-w': [{\n        'max-w': [themeContainer, 'screen', 'none', /** Deprecated since Tailwind CSS v4.0.0. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n        'prose', /** Deprecated since Tailwind CSS v4.0.0. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n        {\n          screen: [themeBreakpoint]\n        }, ...scaleSizing()]\n      }],\n      /**\n       * Height\n       * @see https://tailwindcss.com/docs/height\n       */\n      h: [{\n        h: ['screen', 'lh', ...scaleSizing()]\n      }],\n      /**\n       * Min-Height\n       * @see https://tailwindcss.com/docs/min-height\n       */\n      'min-h': [{\n        'min-h': ['screen', 'lh', 'none', ...scaleSizing()]\n      }],\n      /**\n       * Max-Height\n       * @see https://tailwindcss.com/docs/max-height\n       */\n      'max-h': [{\n        'max-h': ['screen', 'lh', ...scaleSizing()]\n      }],\n      // ------------------\n      // --- Typography ---\n      // ------------------\n      /**\n       * Font Size\n       * @see https://tailwindcss.com/docs/font-size\n       */\n      'font-size': [{\n        text: ['base', themeText, isArbitraryVariableLength, isArbitraryLength]\n      }],\n      /**\n       * Font Smoothing\n       * @see https://tailwindcss.com/docs/font-smoothing\n       */\n      'font-smoothing': ['antialiased', 'subpixel-antialiased'],\n      /**\n       * Font Style\n       * @see https://tailwindcss.com/docs/font-style\n       */\n      'font-style': ['italic', 'not-italic'],\n      /**\n       * Font Weight\n       * @see https://tailwindcss.com/docs/font-weight\n       */\n      'font-weight': [{\n        font: [themeFontWeight, isArbitraryVariable, isArbitraryNumber]\n      }],\n      /**\n       * Font Stretch\n       * @see https://tailwindcss.com/docs/font-stretch\n       */\n      'font-stretch': [{\n        'font-stretch': ['ultra-condensed', 'extra-condensed', 'condensed', 'semi-condensed', 'normal', 'semi-expanded', 'expanded', 'extra-expanded', 'ultra-expanded', isPercent, isArbitraryValue]\n      }],\n      /**\n       * Font Family\n       * @see https://tailwindcss.com/docs/font-family\n       */\n      'font-family': [{\n        font: [isArbitraryVariableFamilyName, isArbitraryValue, themeFont]\n      }],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-normal': ['normal-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-ordinal': ['ordinal'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-slashed-zero': ['slashed-zero'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-figure': ['lining-nums', 'oldstyle-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-spacing': ['proportional-nums', 'tabular-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-fraction': ['diagonal-fractions', 'stacked-fractions'],\n      /**\n       * Letter Spacing\n       * @see https://tailwindcss.com/docs/letter-spacing\n       */\n      tracking: [{\n        tracking: [themeTracking, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Line Clamp\n       * @see https://tailwindcss.com/docs/line-clamp\n       */\n      'line-clamp': [{\n        'line-clamp': [isNumber, 'none', isArbitraryVariable, isArbitraryNumber]\n      }],\n      /**\n       * Line Height\n       * @see https://tailwindcss.com/docs/line-height\n       */\n      leading: [{\n        leading: [/** Deprecated since Tailwind CSS v4.0.0. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n        themeLeading, ...scaleUnambiguousSpacing()]\n      }],\n      /**\n       * List Style Image\n       * @see https://tailwindcss.com/docs/list-style-image\n       */\n      'list-image': [{\n        'list-image': ['none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * List Style Position\n       * @see https://tailwindcss.com/docs/list-style-position\n       */\n      'list-style-position': [{\n        list: ['inside', 'outside']\n      }],\n      /**\n       * List Style Type\n       * @see https://tailwindcss.com/docs/list-style-type\n       */\n      'list-style-type': [{\n        list: ['disc', 'decimal', 'none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Text Alignment\n       * @see https://tailwindcss.com/docs/text-align\n       */\n      'text-alignment': [{\n        text: ['left', 'center', 'right', 'justify', 'start', 'end']\n      }],\n      /**\n       * Placeholder Color\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://v3.tailwindcss.com/docs/placeholder-color\n       */\n      'placeholder-color': [{\n        placeholder: scaleColor()\n      }],\n      /**\n       * Text Color\n       * @see https://tailwindcss.com/docs/text-color\n       */\n      'text-color': [{\n        text: scaleColor()\n      }],\n      /**\n       * Text Decoration\n       * @see https://tailwindcss.com/docs/text-decoration\n       */\n      'text-decoration': ['underline', 'overline', 'line-through', 'no-underline'],\n      /**\n       * Text Decoration Style\n       * @see https://tailwindcss.com/docs/text-decoration-style\n       */\n      'text-decoration-style': [{\n        decoration: [...scaleLineStyle(), 'wavy']\n      }],\n      /**\n       * Text Decoration Thickness\n       * @see https://tailwindcss.com/docs/text-decoration-thickness\n       */\n      'text-decoration-thickness': [{\n        decoration: [isNumber, 'from-font', 'auto', isArbitraryVariable, isArbitraryLength]\n      }],\n      /**\n       * Text Decoration Color\n       * @see https://tailwindcss.com/docs/text-decoration-color\n       */\n      'text-decoration-color': [{\n        decoration: scaleColor()\n      }],\n      /**\n       * Text Underline Offset\n       * @see https://tailwindcss.com/docs/text-underline-offset\n       */\n      'underline-offset': [{\n        'underline-offset': [isNumber, 'auto', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Text Transform\n       * @see https://tailwindcss.com/docs/text-transform\n       */\n      'text-transform': ['uppercase', 'lowercase', 'capitalize', 'normal-case'],\n      /**\n       * Text Overflow\n       * @see https://tailwindcss.com/docs/text-overflow\n       */\n      'text-overflow': ['truncate', 'text-ellipsis', 'text-clip'],\n      /**\n       * Text Wrap\n       * @see https://tailwindcss.com/docs/text-wrap\n       */\n      'text-wrap': [{\n        text: ['wrap', 'nowrap', 'balance', 'pretty']\n      }],\n      /**\n       * Text Indent\n       * @see https://tailwindcss.com/docs/text-indent\n       */\n      indent: [{\n        indent: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Vertical Alignment\n       * @see https://tailwindcss.com/docs/vertical-align\n       */\n      'vertical-align': [{\n        align: ['baseline', 'top', 'middle', 'bottom', 'text-top', 'text-bottom', 'sub', 'super', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Whitespace\n       * @see https://tailwindcss.com/docs/whitespace\n       */\n      whitespace: [{\n        whitespace: ['normal', 'nowrap', 'pre', 'pre-line', 'pre-wrap', 'break-spaces']\n      }],\n      /**\n       * Word Break\n       * @see https://tailwindcss.com/docs/word-break\n       */\n      break: [{\n        break: ['normal', 'words', 'all', 'keep']\n      }],\n      /**\n       * Overflow Wrap\n       * @see https://tailwindcss.com/docs/overflow-wrap\n       */\n      wrap: [{\n        wrap: ['break-word', 'anywhere', 'normal']\n      }],\n      /**\n       * Hyphens\n       * @see https://tailwindcss.com/docs/hyphens\n       */\n      hyphens: [{\n        hyphens: ['none', 'manual', 'auto']\n      }],\n      /**\n       * Content\n       * @see https://tailwindcss.com/docs/content\n       */\n      content: [{\n        content: ['none', isArbitraryVariable, isArbitraryValue]\n      }],\n      // -------------------\n      // --- Backgrounds ---\n      // -------------------\n      /**\n       * Background Attachment\n       * @see https://tailwindcss.com/docs/background-attachment\n       */\n      'bg-attachment': [{\n        bg: ['fixed', 'local', 'scroll']\n      }],\n      /**\n       * Background Clip\n       * @see https://tailwindcss.com/docs/background-clip\n       */\n      'bg-clip': [{\n        'bg-clip': ['border', 'padding', 'content', 'text']\n      }],\n      /**\n       * Background Origin\n       * @see https://tailwindcss.com/docs/background-origin\n       */\n      'bg-origin': [{\n        'bg-origin': ['border', 'padding', 'content']\n      }],\n      /**\n       * Background Position\n       * @see https://tailwindcss.com/docs/background-position\n       */\n      'bg-position': [{\n        bg: scaleBgPosition()\n      }],\n      /**\n       * Background Repeat\n       * @see https://tailwindcss.com/docs/background-repeat\n       */\n      'bg-repeat': [{\n        bg: scaleBgRepeat()\n      }],\n      /**\n       * Background Size\n       * @see https://tailwindcss.com/docs/background-size\n       */\n      'bg-size': [{\n        bg: scaleBgSize()\n      }],\n      /**\n       * Background Image\n       * @see https://tailwindcss.com/docs/background-image\n       */\n      'bg-image': [{\n        bg: ['none', {\n          linear: [{\n            to: ['t', 'tr', 'r', 'br', 'b', 'bl', 'l', 'tl']\n          }, isInteger, isArbitraryVariable, isArbitraryValue],\n          radial: ['', isArbitraryVariable, isArbitraryValue],\n          conic: [isInteger, isArbitraryVariable, isArbitraryValue]\n        }, isArbitraryVariableImage, isArbitraryImage]\n      }],\n      /**\n       * Background Color\n       * @see https://tailwindcss.com/docs/background-color\n       */\n      'bg-color': [{\n        bg: scaleColor()\n      }],\n      /**\n       * Gradient Color Stops From Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-from-pos': [{\n        from: scaleGradientStopPosition()\n      }],\n      /**\n       * Gradient Color Stops Via Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-via-pos': [{\n        via: scaleGradientStopPosition()\n      }],\n      /**\n       * Gradient Color Stops To Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-to-pos': [{\n        to: scaleGradientStopPosition()\n      }],\n      /**\n       * Gradient Color Stops From\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-from': [{\n        from: scaleColor()\n      }],\n      /**\n       * Gradient Color Stops Via\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-via': [{\n        via: scaleColor()\n      }],\n      /**\n       * Gradient Color Stops To\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-to': [{\n        to: scaleColor()\n      }],\n      // ---------------\n      // --- Borders ---\n      // ---------------\n      /**\n       * Border Radius\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      rounded: [{\n        rounded: scaleRadius()\n      }],\n      /**\n       * Border Radius Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-s': [{\n        'rounded-s': scaleRadius()\n      }],\n      /**\n       * Border Radius End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-e': [{\n        'rounded-e': scaleRadius()\n      }],\n      /**\n       * Border Radius Top\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-t': [{\n        'rounded-t': scaleRadius()\n      }],\n      /**\n       * Border Radius Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-r': [{\n        'rounded-r': scaleRadius()\n      }],\n      /**\n       * Border Radius Bottom\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-b': [{\n        'rounded-b': scaleRadius()\n      }],\n      /**\n       * Border Radius Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-l': [{\n        'rounded-l': scaleRadius()\n      }],\n      /**\n       * Border Radius Start Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-ss': [{\n        'rounded-ss': scaleRadius()\n      }],\n      /**\n       * Border Radius Start End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-se': [{\n        'rounded-se': scaleRadius()\n      }],\n      /**\n       * Border Radius End End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-ee': [{\n        'rounded-ee': scaleRadius()\n      }],\n      /**\n       * Border Radius End Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-es': [{\n        'rounded-es': scaleRadius()\n      }],\n      /**\n       * Border Radius Top Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-tl': [{\n        'rounded-tl': scaleRadius()\n      }],\n      /**\n       * Border Radius Top Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-tr': [{\n        'rounded-tr': scaleRadius()\n      }],\n      /**\n       * Border Radius Bottom Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-br': [{\n        'rounded-br': scaleRadius()\n      }],\n      /**\n       * Border Radius Bottom Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-bl': [{\n        'rounded-bl': scaleRadius()\n      }],\n      /**\n       * Border Width\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w': [{\n        border: scaleBorderWidth()\n      }],\n      /**\n       * Border Width X\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-x': [{\n        'border-x': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Y\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-y': [{\n        'border-y': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Start\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-s': [{\n        'border-s': scaleBorderWidth()\n      }],\n      /**\n       * Border Width End\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-e': [{\n        'border-e': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Top\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-t': [{\n        'border-t': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Right\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-r': [{\n        'border-r': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Bottom\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-b': [{\n        'border-b': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Left\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-l': [{\n        'border-l': scaleBorderWidth()\n      }],\n      /**\n       * Divide Width X\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      'divide-x': [{\n        'divide-x': scaleBorderWidth()\n      }],\n      /**\n       * Divide Width X Reverse\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      'divide-x-reverse': ['divide-x-reverse'],\n      /**\n       * Divide Width Y\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      'divide-y': [{\n        'divide-y': scaleBorderWidth()\n      }],\n      /**\n       * Divide Width Y Reverse\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      'divide-y-reverse': ['divide-y-reverse'],\n      /**\n       * Border Style\n       * @see https://tailwindcss.com/docs/border-style\n       */\n      'border-style': [{\n        border: [...scaleLineStyle(), 'hidden', 'none']\n      }],\n      /**\n       * Divide Style\n       * @see https://tailwindcss.com/docs/border-style#setting-the-divider-style\n       */\n      'divide-style': [{\n        divide: [...scaleLineStyle(), 'hidden', 'none']\n      }],\n      /**\n       * Border Color\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color': [{\n        border: scaleColor()\n      }],\n      /**\n       * Border Color X\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-x': [{\n        'border-x': scaleColor()\n      }],\n      /**\n       * Border Color Y\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-y': [{\n        'border-y': scaleColor()\n      }],\n      /**\n       * Border Color S\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-s': [{\n        'border-s': scaleColor()\n      }],\n      /**\n       * Border Color E\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-e': [{\n        'border-e': scaleColor()\n      }],\n      /**\n       * Border Color Top\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-t': [{\n        'border-t': scaleColor()\n      }],\n      /**\n       * Border Color Right\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-r': [{\n        'border-r': scaleColor()\n      }],\n      /**\n       * Border Color Bottom\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-b': [{\n        'border-b': scaleColor()\n      }],\n      /**\n       * Border Color Left\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-l': [{\n        'border-l': scaleColor()\n      }],\n      /**\n       * Divide Color\n       * @see https://tailwindcss.com/docs/divide-color\n       */\n      'divide-color': [{\n        divide: scaleColor()\n      }],\n      /**\n       * Outline Style\n       * @see https://tailwindcss.com/docs/outline-style\n       */\n      'outline-style': [{\n        outline: [...scaleLineStyle(), 'none', 'hidden']\n      }],\n      /**\n       * Outline Offset\n       * @see https://tailwindcss.com/docs/outline-offset\n       */\n      'outline-offset': [{\n        'outline-offset': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Outline Width\n       * @see https://tailwindcss.com/docs/outline-width\n       */\n      'outline-w': [{\n        outline: ['', isNumber, isArbitraryVariableLength, isArbitraryLength]\n      }],\n      /**\n       * Outline Color\n       * @see https://tailwindcss.com/docs/outline-color\n       */\n      'outline-color': [{\n        outline: scaleColor()\n      }],\n      // ---------------\n      // --- Effects ---\n      // ---------------\n      /**\n       * Box Shadow\n       * @see https://tailwindcss.com/docs/box-shadow\n       */\n      shadow: [{\n        shadow: [\n        // Deprecated since Tailwind CSS v4.0.0\n        '', 'none', themeShadow, isArbitraryVariableShadow, isArbitraryShadow]\n      }],\n      /**\n       * Box Shadow Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-shadow-color\n       */\n      'shadow-color': [{\n        shadow: scaleColor()\n      }],\n      /**\n       * Inset Box Shadow\n       * @see https://tailwindcss.com/docs/box-shadow#adding-an-inset-shadow\n       */\n      'inset-shadow': [{\n        'inset-shadow': ['none', themeInsetShadow, isArbitraryVariableShadow, isArbitraryShadow]\n      }],\n      /**\n       * Inset Box Shadow Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-inset-shadow-color\n       */\n      'inset-shadow-color': [{\n        'inset-shadow': scaleColor()\n      }],\n      /**\n       * Ring Width\n       * @see https://tailwindcss.com/docs/box-shadow#adding-a-ring\n       */\n      'ring-w': [{\n        ring: scaleBorderWidth()\n      }],\n      /**\n       * Ring Width Inset\n       * @see https://v3.tailwindcss.com/docs/ring-width#inset-rings\n       * @deprecated since Tailwind CSS v4.0.0\n       * @see https://github.com/tailwindlabs/tailwindcss/blob/v4.0.0/packages/tailwindcss/src/utilities.ts#L4158\n       */\n      'ring-w-inset': ['ring-inset'],\n      /**\n       * Ring Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-ring-color\n       */\n      'ring-color': [{\n        ring: scaleColor()\n      }],\n      /**\n       * Ring Offset Width\n       * @see https://v3.tailwindcss.com/docs/ring-offset-width\n       * @deprecated since Tailwind CSS v4.0.0\n       * @see https://github.com/tailwindlabs/tailwindcss/blob/v4.0.0/packages/tailwindcss/src/utilities.ts#L4158\n       */\n      'ring-offset-w': [{\n        'ring-offset': [isNumber, isArbitraryLength]\n      }],\n      /**\n       * Ring Offset Color\n       * @see https://v3.tailwindcss.com/docs/ring-offset-color\n       * @deprecated since Tailwind CSS v4.0.0\n       * @see https://github.com/tailwindlabs/tailwindcss/blob/v4.0.0/packages/tailwindcss/src/utilities.ts#L4158\n       */\n      'ring-offset-color': [{\n        'ring-offset': scaleColor()\n      }],\n      /**\n       * Inset Ring Width\n       * @see https://tailwindcss.com/docs/box-shadow#adding-an-inset-ring\n       */\n      'inset-ring-w': [{\n        'inset-ring': scaleBorderWidth()\n      }],\n      /**\n       * Inset Ring Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-inset-ring-color\n       */\n      'inset-ring-color': [{\n        'inset-ring': scaleColor()\n      }],\n      /**\n       * Text Shadow\n       * @see https://tailwindcss.com/docs/text-shadow\n       */\n      'text-shadow': [{\n        'text-shadow': ['none', themeTextShadow, isArbitraryVariableShadow, isArbitraryShadow]\n      }],\n      /**\n       * Text Shadow Color\n       * @see https://tailwindcss.com/docs/text-shadow#setting-the-shadow-color\n       */\n      'text-shadow-color': [{\n        'text-shadow': scaleColor()\n      }],\n      /**\n       * Opacity\n       * @see https://tailwindcss.com/docs/opacity\n       */\n      opacity: [{\n        opacity: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Mix Blend Mode\n       * @see https://tailwindcss.com/docs/mix-blend-mode\n       */\n      'mix-blend': [{\n        'mix-blend': [...scaleBlendMode(), 'plus-darker', 'plus-lighter']\n      }],\n      /**\n       * Background Blend Mode\n       * @see https://tailwindcss.com/docs/background-blend-mode\n       */\n      'bg-blend': [{\n        'bg-blend': scaleBlendMode()\n      }],\n      /**\n       * Mask Clip\n       * @see https://tailwindcss.com/docs/mask-clip\n       */\n      'mask-clip': [{\n        'mask-clip': ['border', 'padding', 'content', 'fill', 'stroke', 'view']\n      }, 'mask-no-clip'],\n      /**\n       * Mask Composite\n       * @see https://tailwindcss.com/docs/mask-composite\n       */\n      'mask-composite': [{\n        mask: ['add', 'subtract', 'intersect', 'exclude']\n      }],\n      /**\n       * Mask Image\n       * @see https://tailwindcss.com/docs/mask-image\n       */\n      'mask-image-linear-pos': [{\n        'mask-linear': [isNumber]\n      }],\n      'mask-image-linear-from-pos': [{\n        'mask-linear-from': scaleMaskImagePosition()\n      }],\n      'mask-image-linear-to-pos': [{\n        'mask-linear-to': scaleMaskImagePosition()\n      }],\n      'mask-image-linear-from-color': [{\n        'mask-linear-from': scaleColor()\n      }],\n      'mask-image-linear-to-color': [{\n        'mask-linear-to': scaleColor()\n      }],\n      'mask-image-t-from-pos': [{\n        'mask-t-from': scaleMaskImagePosition()\n      }],\n      'mask-image-t-to-pos': [{\n        'mask-t-to': scaleMaskImagePosition()\n      }],\n      'mask-image-t-from-color': [{\n        'mask-t-from': scaleColor()\n      }],\n      'mask-image-t-to-color': [{\n        'mask-t-to': scaleColor()\n      }],\n      'mask-image-r-from-pos': [{\n        'mask-r-from': scaleMaskImagePosition()\n      }],\n      'mask-image-r-to-pos': [{\n        'mask-r-to': scaleMaskImagePosition()\n      }],\n      'mask-image-r-from-color': [{\n        'mask-r-from': scaleColor()\n      }],\n      'mask-image-r-to-color': [{\n        'mask-r-to': scaleColor()\n      }],\n      'mask-image-b-from-pos': [{\n        'mask-b-from': scaleMaskImagePosition()\n      }],\n      'mask-image-b-to-pos': [{\n        'mask-b-to': scaleMaskImagePosition()\n      }],\n      'mask-image-b-from-color': [{\n        'mask-b-from': scaleColor()\n      }],\n      'mask-image-b-to-color': [{\n        'mask-b-to': scaleColor()\n      }],\n      'mask-image-l-from-pos': [{\n        'mask-l-from': scaleMaskImagePosition()\n      }],\n      'mask-image-l-to-pos': [{\n        'mask-l-to': scaleMaskImagePosition()\n      }],\n      'mask-image-l-from-color': [{\n        'mask-l-from': scaleColor()\n      }],\n      'mask-image-l-to-color': [{\n        'mask-l-to': scaleColor()\n      }],\n      'mask-image-x-from-pos': [{\n        'mask-x-from': scaleMaskImagePosition()\n      }],\n      'mask-image-x-to-pos': [{\n        'mask-x-to': scaleMaskImagePosition()\n      }],\n      'mask-image-x-from-color': [{\n        'mask-x-from': scaleColor()\n      }],\n      'mask-image-x-to-color': [{\n        'mask-x-to': scaleColor()\n      }],\n      'mask-image-y-from-pos': [{\n        'mask-y-from': scaleMaskImagePosition()\n      }],\n      'mask-image-y-to-pos': [{\n        'mask-y-to': scaleMaskImagePosition()\n      }],\n      'mask-image-y-from-color': [{\n        'mask-y-from': scaleColor()\n      }],\n      'mask-image-y-to-color': [{\n        'mask-y-to': scaleColor()\n      }],\n      'mask-image-radial': [{\n        'mask-radial': [isArbitraryVariable, isArbitraryValue]\n      }],\n      'mask-image-radial-from-pos': [{\n        'mask-radial-from': scaleMaskImagePosition()\n      }],\n      'mask-image-radial-to-pos': [{\n        'mask-radial-to': scaleMaskImagePosition()\n      }],\n      'mask-image-radial-from-color': [{\n        'mask-radial-from': scaleColor()\n      }],\n      'mask-image-radial-to-color': [{\n        'mask-radial-to': scaleColor()\n      }],\n      'mask-image-radial-shape': [{\n        'mask-radial': ['circle', 'ellipse']\n      }],\n      'mask-image-radial-size': [{\n        'mask-radial': [{\n          closest: ['side', 'corner'],\n          farthest: ['side', 'corner']\n        }]\n      }],\n      'mask-image-radial-pos': [{\n        'mask-radial-at': scalePosition()\n      }],\n      'mask-image-conic-pos': [{\n        'mask-conic': [isNumber]\n      }],\n      'mask-image-conic-from-pos': [{\n        'mask-conic-from': scaleMaskImagePosition()\n      }],\n      'mask-image-conic-to-pos': [{\n        'mask-conic-to': scaleMaskImagePosition()\n      }],\n      'mask-image-conic-from-color': [{\n        'mask-conic-from': scaleColor()\n      }],\n      'mask-image-conic-to-color': [{\n        'mask-conic-to': scaleColor()\n      }],\n      /**\n       * Mask Mode\n       * @see https://tailwindcss.com/docs/mask-mode\n       */\n      'mask-mode': [{\n        mask: ['alpha', 'luminance', 'match']\n      }],\n      /**\n       * Mask Origin\n       * @see https://tailwindcss.com/docs/mask-origin\n       */\n      'mask-origin': [{\n        'mask-origin': ['border', 'padding', 'content', 'fill', 'stroke', 'view']\n      }],\n      /**\n       * Mask Position\n       * @see https://tailwindcss.com/docs/mask-position\n       */\n      'mask-position': [{\n        mask: scaleBgPosition()\n      }],\n      /**\n       * Mask Repeat\n       * @see https://tailwindcss.com/docs/mask-repeat\n       */\n      'mask-repeat': [{\n        mask: scaleBgRepeat()\n      }],\n      /**\n       * Mask Size\n       * @see https://tailwindcss.com/docs/mask-size\n       */\n      'mask-size': [{\n        mask: scaleBgSize()\n      }],\n      /**\n       * Mask Type\n       * @see https://tailwindcss.com/docs/mask-type\n       */\n      'mask-type': [{\n        'mask-type': ['alpha', 'luminance']\n      }],\n      /**\n       * Mask Image\n       * @see https://tailwindcss.com/docs/mask-image\n       */\n      'mask-image': [{\n        mask: ['none', isArbitraryVariable, isArbitraryValue]\n      }],\n      // ---------------\n      // --- Filters ---\n      // ---------------\n      /**\n       * Filter\n       * @see https://tailwindcss.com/docs/filter\n       */\n      filter: [{\n        filter: [\n        // Deprecated since Tailwind CSS v3.0.0\n        '', 'none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Blur\n       * @see https://tailwindcss.com/docs/blur\n       */\n      blur: [{\n        blur: scaleBlur()\n      }],\n      /**\n       * Brightness\n       * @see https://tailwindcss.com/docs/brightness\n       */\n      brightness: [{\n        brightness: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Contrast\n       * @see https://tailwindcss.com/docs/contrast\n       */\n      contrast: [{\n        contrast: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Drop Shadow\n       * @see https://tailwindcss.com/docs/drop-shadow\n       */\n      'drop-shadow': [{\n        'drop-shadow': [\n        // Deprecated since Tailwind CSS v4.0.0\n        '', 'none', themeDropShadow, isArbitraryVariableShadow, isArbitraryShadow]\n      }],\n      /**\n       * Drop Shadow Color\n       * @see https://tailwindcss.com/docs/filter-drop-shadow#setting-the-shadow-color\n       */\n      'drop-shadow-color': [{\n        'drop-shadow': scaleColor()\n      }],\n      /**\n       * Grayscale\n       * @see https://tailwindcss.com/docs/grayscale\n       */\n      grayscale: [{\n        grayscale: ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Hue Rotate\n       * @see https://tailwindcss.com/docs/hue-rotate\n       */\n      'hue-rotate': [{\n        'hue-rotate': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Invert\n       * @see https://tailwindcss.com/docs/invert\n       */\n      invert: [{\n        invert: ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Saturate\n       * @see https://tailwindcss.com/docs/saturate\n       */\n      saturate: [{\n        saturate: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Sepia\n       * @see https://tailwindcss.com/docs/sepia\n       */\n      sepia: [{\n        sepia: ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Filter\n       * @see https://tailwindcss.com/docs/backdrop-filter\n       */\n      'backdrop-filter': [{\n        'backdrop-filter': [\n        // Deprecated since Tailwind CSS v3.0.0\n        '', 'none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Blur\n       * @see https://tailwindcss.com/docs/backdrop-blur\n       */\n      'backdrop-blur': [{\n        'backdrop-blur': scaleBlur()\n      }],\n      /**\n       * Backdrop Brightness\n       * @see https://tailwindcss.com/docs/backdrop-brightness\n       */\n      'backdrop-brightness': [{\n        'backdrop-brightness': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Contrast\n       * @see https://tailwindcss.com/docs/backdrop-contrast\n       */\n      'backdrop-contrast': [{\n        'backdrop-contrast': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Grayscale\n       * @see https://tailwindcss.com/docs/backdrop-grayscale\n       */\n      'backdrop-grayscale': [{\n        'backdrop-grayscale': ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Hue Rotate\n       * @see https://tailwindcss.com/docs/backdrop-hue-rotate\n       */\n      'backdrop-hue-rotate': [{\n        'backdrop-hue-rotate': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Invert\n       * @see https://tailwindcss.com/docs/backdrop-invert\n       */\n      'backdrop-invert': [{\n        'backdrop-invert': ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Opacity\n       * @see https://tailwindcss.com/docs/backdrop-opacity\n       */\n      'backdrop-opacity': [{\n        'backdrop-opacity': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Saturate\n       * @see https://tailwindcss.com/docs/backdrop-saturate\n       */\n      'backdrop-saturate': [{\n        'backdrop-saturate': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Sepia\n       * @see https://tailwindcss.com/docs/backdrop-sepia\n       */\n      'backdrop-sepia': [{\n        'backdrop-sepia': ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      // --------------\n      // --- Tables ---\n      // --------------\n      /**\n       * Border Collapse\n       * @see https://tailwindcss.com/docs/border-collapse\n       */\n      'border-collapse': [{\n        border: ['collapse', 'separate']\n      }],\n      /**\n       * Border Spacing\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing': [{\n        'border-spacing': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Border Spacing X\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing-x': [{\n        'border-spacing-x': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Border Spacing Y\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing-y': [{\n        'border-spacing-y': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Table Layout\n       * @see https://tailwindcss.com/docs/table-layout\n       */\n      'table-layout': [{\n        table: ['auto', 'fixed']\n      }],\n      /**\n       * Caption Side\n       * @see https://tailwindcss.com/docs/caption-side\n       */\n      caption: [{\n        caption: ['top', 'bottom']\n      }],\n      // ---------------------------------\n      // --- Transitions and Animation ---\n      // ---------------------------------\n      /**\n       * Transition Property\n       * @see https://tailwindcss.com/docs/transition-property\n       */\n      transition: [{\n        transition: ['', 'all', 'colors', 'opacity', 'shadow', 'transform', 'none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Transition Behavior\n       * @see https://tailwindcss.com/docs/transition-behavior\n       */\n      'transition-behavior': [{\n        transition: ['normal', 'discrete']\n      }],\n      /**\n       * Transition Duration\n       * @see https://tailwindcss.com/docs/transition-duration\n       */\n      duration: [{\n        duration: [isNumber, 'initial', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Transition Timing Function\n       * @see https://tailwindcss.com/docs/transition-timing-function\n       */\n      ease: [{\n        ease: ['linear', 'initial', themeEase, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Transition Delay\n       * @see https://tailwindcss.com/docs/transition-delay\n       */\n      delay: [{\n        delay: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Animation\n       * @see https://tailwindcss.com/docs/animation\n       */\n      animate: [{\n        animate: ['none', themeAnimate, isArbitraryVariable, isArbitraryValue]\n      }],\n      // ------------------\n      // --- Transforms ---\n      // ------------------\n      /**\n       * Backface Visibility\n       * @see https://tailwindcss.com/docs/backface-visibility\n       */\n      backface: [{\n        backface: ['hidden', 'visible']\n      }],\n      /**\n       * Perspective\n       * @see https://tailwindcss.com/docs/perspective\n       */\n      perspective: [{\n        perspective: [themePerspective, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Perspective Origin\n       * @see https://tailwindcss.com/docs/perspective-origin\n       */\n      'perspective-origin': [{\n        'perspective-origin': scalePositionWithArbitrary()\n      }],\n      /**\n       * Rotate\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      rotate: [{\n        rotate: scaleRotate()\n      }],\n      /**\n       * Rotate X\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      'rotate-x': [{\n        'rotate-x': scaleRotate()\n      }],\n      /**\n       * Rotate Y\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      'rotate-y': [{\n        'rotate-y': scaleRotate()\n      }],\n      /**\n       * Rotate Z\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      'rotate-z': [{\n        'rotate-z': scaleRotate()\n      }],\n      /**\n       * Scale\n       * @see https://tailwindcss.com/docs/scale\n       */\n      scale: [{\n        scale: scaleScale()\n      }],\n      /**\n       * Scale X\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-x': [{\n        'scale-x': scaleScale()\n      }],\n      /**\n       * Scale Y\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-y': [{\n        'scale-y': scaleScale()\n      }],\n      /**\n       * Scale Z\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-z': [{\n        'scale-z': scaleScale()\n      }],\n      /**\n       * Scale 3D\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-3d': ['scale-3d'],\n      /**\n       * Skew\n       * @see https://tailwindcss.com/docs/skew\n       */\n      skew: [{\n        skew: scaleSkew()\n      }],\n      /**\n       * Skew X\n       * @see https://tailwindcss.com/docs/skew\n       */\n      'skew-x': [{\n        'skew-x': scaleSkew()\n      }],\n      /**\n       * Skew Y\n       * @see https://tailwindcss.com/docs/skew\n       */\n      'skew-y': [{\n        'skew-y': scaleSkew()\n      }],\n      /**\n       * Transform\n       * @see https://tailwindcss.com/docs/transform\n       */\n      transform: [{\n        transform: [isArbitraryVariable, isArbitraryValue, '', 'none', 'gpu', 'cpu']\n      }],\n      /**\n       * Transform Origin\n       * @see https://tailwindcss.com/docs/transform-origin\n       */\n      'transform-origin': [{\n        origin: scalePositionWithArbitrary()\n      }],\n      /**\n       * Transform Style\n       * @see https://tailwindcss.com/docs/transform-style\n       */\n      'transform-style': [{\n        transform: ['3d', 'flat']\n      }],\n      /**\n       * Translate\n       * @see https://tailwindcss.com/docs/translate\n       */\n      translate: [{\n        translate: scaleTranslate()\n      }],\n      /**\n       * Translate X\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-x': [{\n        'translate-x': scaleTranslate()\n      }],\n      /**\n       * Translate Y\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-y': [{\n        'translate-y': scaleTranslate()\n      }],\n      /**\n       * Translate Z\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-z': [{\n        'translate-z': scaleTranslate()\n      }],\n      /**\n       * Translate None\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-none': ['translate-none'],\n      // ---------------------\n      // --- Interactivity ---\n      // ---------------------\n      /**\n       * Accent Color\n       * @see https://tailwindcss.com/docs/accent-color\n       */\n      accent: [{\n        accent: scaleColor()\n      }],\n      /**\n       * Appearance\n       * @see https://tailwindcss.com/docs/appearance\n       */\n      appearance: [{\n        appearance: ['none', 'auto']\n      }],\n      /**\n       * Caret Color\n       * @see https://tailwindcss.com/docs/just-in-time-mode#caret-color-utilities\n       */\n      'caret-color': [{\n        caret: scaleColor()\n      }],\n      /**\n       * Color Scheme\n       * @see https://tailwindcss.com/docs/color-scheme\n       */\n      'color-scheme': [{\n        scheme: ['normal', 'dark', 'light', 'light-dark', 'only-dark', 'only-light']\n      }],\n      /**\n       * Cursor\n       * @see https://tailwindcss.com/docs/cursor\n       */\n      cursor: [{\n        cursor: ['auto', 'default', 'pointer', 'wait', 'text', 'move', 'help', 'not-allowed', 'none', 'context-menu', 'progress', 'cell', 'crosshair', 'vertical-text', 'alias', 'copy', 'no-drop', 'grab', 'grabbing', 'all-scroll', 'col-resize', 'row-resize', 'n-resize', 'e-resize', 's-resize', 'w-resize', 'ne-resize', 'nw-resize', 'se-resize', 'sw-resize', 'ew-resize', 'ns-resize', 'nesw-resize', 'nwse-resize', 'zoom-in', 'zoom-out', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Field Sizing\n       * @see https://tailwindcss.com/docs/field-sizing\n       */\n      'field-sizing': [{\n        'field-sizing': ['fixed', 'content']\n      }],\n      /**\n       * Pointer Events\n       * @see https://tailwindcss.com/docs/pointer-events\n       */\n      'pointer-events': [{\n        'pointer-events': ['auto', 'none']\n      }],\n      /**\n       * Resize\n       * @see https://tailwindcss.com/docs/resize\n       */\n      resize: [{\n        resize: ['none', '', 'y', 'x']\n      }],\n      /**\n       * Scroll Behavior\n       * @see https://tailwindcss.com/docs/scroll-behavior\n       */\n      'scroll-behavior': [{\n        scroll: ['auto', 'smooth']\n      }],\n      /**\n       * Scroll Margin\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-m': [{\n        'scroll-m': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin X\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mx': [{\n        'scroll-mx': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Y\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-my': [{\n        'scroll-my': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Start\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-ms': [{\n        'scroll-ms': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin End\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-me': [{\n        'scroll-me': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Top\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mt': [{\n        'scroll-mt': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Right\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mr': [{\n        'scroll-mr': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Bottom\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mb': [{\n        'scroll-mb': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Left\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-ml': [{\n        'scroll-ml': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-p': [{\n        'scroll-p': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding X\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-px': [{\n        'scroll-px': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Y\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-py': [{\n        'scroll-py': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Start\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-ps': [{\n        'scroll-ps': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding End\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pe': [{\n        'scroll-pe': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Top\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pt': [{\n        'scroll-pt': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Right\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pr': [{\n        'scroll-pr': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Bottom\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pb': [{\n        'scroll-pb': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Left\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pl': [{\n        'scroll-pl': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Snap Align\n       * @see https://tailwindcss.com/docs/scroll-snap-align\n       */\n      'snap-align': [{\n        snap: ['start', 'end', 'center', 'align-none']\n      }],\n      /**\n       * Scroll Snap Stop\n       * @see https://tailwindcss.com/docs/scroll-snap-stop\n       */\n      'snap-stop': [{\n        snap: ['normal', 'always']\n      }],\n      /**\n       * Scroll Snap Type\n       * @see https://tailwindcss.com/docs/scroll-snap-type\n       */\n      'snap-type': [{\n        snap: ['none', 'x', 'y', 'both']\n      }],\n      /**\n       * Scroll Snap Type Strictness\n       * @see https://tailwindcss.com/docs/scroll-snap-type\n       */\n      'snap-strictness': [{\n        snap: ['mandatory', 'proximity']\n      }],\n      /**\n       * Touch Action\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      touch: [{\n        touch: ['auto', 'none', 'manipulation']\n      }],\n      /**\n       * Touch Action X\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-x': [{\n        'touch-pan': ['x', 'left', 'right']\n      }],\n      /**\n       * Touch Action Y\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-y': [{\n        'touch-pan': ['y', 'up', 'down']\n      }],\n      /**\n       * Touch Action Pinch Zoom\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-pz': ['touch-pinch-zoom'],\n      /**\n       * User Select\n       * @see https://tailwindcss.com/docs/user-select\n       */\n      select: [{\n        select: ['none', 'text', 'all', 'auto']\n      }],\n      /**\n       * Will Change\n       * @see https://tailwindcss.com/docs/will-change\n       */\n      'will-change': [{\n        'will-change': ['auto', 'scroll', 'contents', 'transform', isArbitraryVariable, isArbitraryValue]\n      }],\n      // -----------\n      // --- SVG ---\n      // -----------\n      /**\n       * Fill\n       * @see https://tailwindcss.com/docs/fill\n       */\n      fill: [{\n        fill: ['none', ...scaleColor()]\n      }],\n      /**\n       * Stroke Width\n       * @see https://tailwindcss.com/docs/stroke-width\n       */\n      'stroke-w': [{\n        stroke: [isNumber, isArbitraryVariableLength, isArbitraryLength, isArbitraryNumber]\n      }],\n      /**\n       * Stroke\n       * @see https://tailwindcss.com/docs/stroke\n       */\n      stroke: [{\n        stroke: ['none', ...scaleColor()]\n      }],\n      // ---------------------\n      // --- Accessibility ---\n      // ---------------------\n      /**\n       * Forced Color Adjust\n       * @see https://tailwindcss.com/docs/forced-color-adjust\n       */\n      'forced-color-adjust': [{\n        'forced-color-adjust': ['auto', 'none']\n      }]\n    },\n    conflictingClassGroups: {\n      overflow: ['overflow-x', 'overflow-y'],\n      overscroll: ['overscroll-x', 'overscroll-y'],\n      inset: ['inset-x', 'inset-y', 'start', 'end', 'top', 'right', 'bottom', 'left'],\n      'inset-x': ['right', 'left'],\n      'inset-y': ['top', 'bottom'],\n      flex: ['basis', 'grow', 'shrink'],\n      gap: ['gap-x', 'gap-y'],\n      p: ['px', 'py', 'ps', 'pe', 'pt', 'pr', 'pb', 'pl'],\n      px: ['pr', 'pl'],\n      py: ['pt', 'pb'],\n      m: ['mx', 'my', 'ms', 'me', 'mt', 'mr', 'mb', 'ml'],\n      mx: ['mr', 'ml'],\n      my: ['mt', 'mb'],\n      size: ['w', 'h'],\n      'font-size': ['leading'],\n      'fvn-normal': ['fvn-ordinal', 'fvn-slashed-zero', 'fvn-figure', 'fvn-spacing', 'fvn-fraction'],\n      'fvn-ordinal': ['fvn-normal'],\n      'fvn-slashed-zero': ['fvn-normal'],\n      'fvn-figure': ['fvn-normal'],\n      'fvn-spacing': ['fvn-normal'],\n      'fvn-fraction': ['fvn-normal'],\n      'line-clamp': ['display', 'overflow'],\n      rounded: ['rounded-s', 'rounded-e', 'rounded-t', 'rounded-r', 'rounded-b', 'rounded-l', 'rounded-ss', 'rounded-se', 'rounded-ee', 'rounded-es', 'rounded-tl', 'rounded-tr', 'rounded-br', 'rounded-bl'],\n      'rounded-s': ['rounded-ss', 'rounded-es'],\n      'rounded-e': ['rounded-se', 'rounded-ee'],\n      'rounded-t': ['rounded-tl', 'rounded-tr'],\n      'rounded-r': ['rounded-tr', 'rounded-br'],\n      'rounded-b': ['rounded-br', 'rounded-bl'],\n      'rounded-l': ['rounded-tl', 'rounded-bl'],\n      'border-spacing': ['border-spacing-x', 'border-spacing-y'],\n      'border-w': ['border-w-x', 'border-w-y', 'border-w-s', 'border-w-e', 'border-w-t', 'border-w-r', 'border-w-b', 'border-w-l'],\n      'border-w-x': ['border-w-r', 'border-w-l'],\n      'border-w-y': ['border-w-t', 'border-w-b'],\n      'border-color': ['border-color-x', 'border-color-y', 'border-color-s', 'border-color-e', 'border-color-t', 'border-color-r', 'border-color-b', 'border-color-l'],\n      'border-color-x': ['border-color-r', 'border-color-l'],\n      'border-color-y': ['border-color-t', 'border-color-b'],\n      translate: ['translate-x', 'translate-y', 'translate-none'],\n      'translate-none': ['translate', 'translate-x', 'translate-y', 'translate-z'],\n      'scroll-m': ['scroll-mx', 'scroll-my', 'scroll-ms', 'scroll-me', 'scroll-mt', 'scroll-mr', 'scroll-mb', 'scroll-ml'],\n      'scroll-mx': ['scroll-mr', 'scroll-ml'],\n      'scroll-my': ['scroll-mt', 'scroll-mb'],\n      'scroll-p': ['scroll-px', 'scroll-py', 'scroll-ps', 'scroll-pe', 'scroll-pt', 'scroll-pr', 'scroll-pb', 'scroll-pl'],\n      'scroll-px': ['scroll-pr', 'scroll-pl'],\n      'scroll-py': ['scroll-pt', 'scroll-pb'],\n      touch: ['touch-x', 'touch-y', 'touch-pz'],\n      'touch-x': ['touch'],\n      'touch-y': ['touch'],\n      'touch-pz': ['touch']\n    },\n    conflictingClassGroupModifiers: {\n      'font-size': ['leading']\n    },\n    orderSensitiveModifiers: ['*', '**', 'after', 'backdrop', 'before', 'details-content', 'file', 'first-letter', 'first-line', 'marker', 'placeholder', 'selection']\n  };\n};\n\n/**\n * @param baseConfig Config where other config will be merged into. This object will be mutated.\n * @param configExtension Partial config to merge into the `baseConfig`.\n */\nconst mergeConfigs = (baseConfig, {\n  cacheSize,\n  prefix,\n  experimentalParseClassName,\n  extend = {},\n  override = {}\n}) => {\n  overrideProperty(baseConfig, 'cacheSize', cacheSize);\n  overrideProperty(baseConfig, 'prefix', prefix);\n  overrideProperty(baseConfig, 'experimentalParseClassName', experimentalParseClassName);\n  overrideConfigProperties(baseConfig.theme, override.theme);\n  overrideConfigProperties(baseConfig.classGroups, override.classGroups);\n  overrideConfigProperties(baseConfig.conflictingClassGroups, override.conflictingClassGroups);\n  overrideConfigProperties(baseConfig.conflictingClassGroupModifiers, override.conflictingClassGroupModifiers);\n  overrideProperty(baseConfig, 'orderSensitiveModifiers', override.orderSensitiveModifiers);\n  mergeConfigProperties(baseConfig.theme, extend.theme);\n  mergeConfigProperties(baseConfig.classGroups, extend.classGroups);\n  mergeConfigProperties(baseConfig.conflictingClassGroups, extend.conflictingClassGroups);\n  mergeConfigProperties(baseConfig.conflictingClassGroupModifiers, extend.conflictingClassGroupModifiers);\n  mergeArrayProperties(baseConfig, extend, 'orderSensitiveModifiers');\n  return baseConfig;\n};\nconst overrideProperty = (baseObject, overrideKey, overrideValue) => {\n  if (overrideValue !== undefined) {\n    baseObject[overrideKey] = overrideValue;\n  }\n};\nconst overrideConfigProperties = (baseObject, overrideObject) => {\n  if (overrideObject) {\n    for (const key in overrideObject) {\n      overrideProperty(baseObject, key, overrideObject[key]);\n    }\n  }\n};\nconst mergeConfigProperties = (baseObject, mergeObject) => {\n  if (mergeObject) {\n    for (const key in mergeObject) {\n      mergeArrayProperties(baseObject, mergeObject, key);\n    }\n  }\n};\nconst mergeArrayProperties = (baseObject, mergeObject, key) => {\n  const mergeValue = mergeObject[key];\n  if (mergeValue !== undefined) {\n    baseObject[key] = baseObject[key] ? baseObject[key].concat(mergeValue) : mergeValue;\n  }\n};\nconst extendTailwindMerge = (configExtension, ...createConfig) => typeof configExtension === 'function' ? createTailwindMerge(getDefaultConfig, configExtension, ...createConfig) : createTailwindMerge(() => mergeConfigs(getDefaultConfig(), configExtension), ...createConfig);\nconst twMerge = /*#__PURE__*/createTailwindMerge(getDefaultConfig);\nexport { createTailwindMerge, extendTailwindMerge, fromTheme, getDefaultConfig, mergeConfigs, twJoin, twMerge, validators };\n//# sourceMappingURL=bundle-mjs.mjs.map\n","import { clsx } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\nexport function cn(...inputs) {\n\treturn twMerge(clsx(inputs));\n}\n","import React from 'react';\nimport { motion } from 'framer-motion';\nimport { cn } from '@lib/utils';\n\nexport function BentoCard({\n\tchildren,\n\tclassName,\n\tcolSpan,\n\trowSpan,\n\tdelay = 0,\n}) {\n\treturn (\n\t\t<motion.div\n\t\t\tinitial={{ opacity: 0, y: 50 }}\n\t\t\tanimate={{ opacity: 1, y: 0 }}\n\t\t\ttransition={{\n\t\t\t\tduration: 0.5,\n\t\t\t\tdelay: delay,\n\t\t\t\ttype: 'spring',\n\t\t\t\tstiffness: 100,\n\t\t\t\tdamping: 20,\n\t\t\t}}\n\t\t\tclassName={cn(\n\t\t\t\t'group relative flex flex-col overflow-hidden rounded-3xl bg-[#0f0f0f]',\n\t\t\t\t// Thin, dark base edge, bright yellow hover edge\n\t\t\t\t'border border-white/5 transition-colors duration-300 hover:border-primary-500/80',\n\t\t\t\t// Soft yellow shadow on hover\n\t\t\t\t'hover:shadow-[0_0_30px_-10px_rgba(234,179,8,0.15)]',\n\t\t\t\tcolSpan,\n\t\t\t\trowSpan,\n\t\t\t\tclassName\n\t\t\t)}\n\t\t>\n\t\t\t{/* Background noise texture */}\n\t\t\t<div\n\t\t\t\tclassName=\"absolute inset-0 opacity-[0.03] pointer-events-none z-0\"\n\t\t\t\tstyle={{\n\t\t\t\t\tbackgroundImage: `url(\"data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E\")`,\n\t\t\t\t}}\n\t\t\t/>\n\n\t\t\t<div className=\"relative z-10 w-full h-full flex flex-col justify-center\">\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t</motion.div>\n\t);\n}\n","export default __webpack_public_path__ + \"static/avatar_small-2bc13564565e45758eac1c3dda0dde91.mp4\";","import React from 'react';\n\nexport default function Button({\n\tchildren,\n\thref,\n\ticon: Icon,\n\tclassName,\n\tvariant = 'hybrid',\n}) {\n\tconst baseStyles =\n\t\t'relative inline-flex items-center justify-center gap-2 px-5 py-2.5 rounded-xl font-bold text-sm transition-all duration-300 active:scale-95 select-none cursor-pointer overflow-hidden group';\n\n\tconst variants = {\n\t\t// Yellow\n\t\tprimary:\n\t\t\t'bg-primary-500 text-black hover:bg-primary-400 hover:shadow-[0_0_20px_rgba(234,179,8,0.4)] border border-primary-500',\n\n\t\t// Ghost\n\t\tsecondary:\n\t\t\t'bg-white/5 text-white border border-white/10 hover:bg-white/10 hover:border-white/20 backdrop-blur-md',\n\n\t\t// Ghost -> Primary on Hover\n\t\thybrid:\n\t\t\t'bg-white/5 border border-white/10 text-gray-200 backdrop-blur-md hover:bg-primary-500 hover:text-black hover:border-primary-500 hover:shadow-[0_0_25px_rgba(234,179,8,0.3)]',\n\n\t\toutline:\n\t\t\t'bg-transparent text-primary-500 border border-primary-500/50 hover:bg-primary-500/10 hover:border-primary-500',\n\t};\n\n\tconst Component = href ? 'a' : 'button';\n\tconst props = href ? { href, target: '_blank', rel: 'noreferrer' } : {};\n\n\treturn (\n\t\t<Component\n\t\t\tclassName={`${baseStyles} ${variants[variant]} ${className || ''}`}\n\t\t\t{...props}\n\t\t>\n\t\t\t{Icon && (\n\t\t\t\t<Icon\n\t\t\t\t\tclassName=\"transition-transform duration-300 group-hover:scale-110 group-hover:-rotate-6\"\n\t\t\t\t\tsize={16}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<span className=\"relative z-10\">{children}</span>{' '}\n\t\t</Component>\n\t);\n}\n","export const LINKS = {\n\tgithub: 'https://github.com/Coding4rtist',\n\tlinkedin: 'https://it.linkedin.com/in/carloacanfora',\n\tdiscord: 'https://discord.gg/KjG2Yd4ubv',\n\ttwitter: 'https://twitter.com/coding4rtist',\n\tinstagram: 'https://instagram.com/coding4rtist',\n\tbehance: 'https://www.behance.net/coding4rtist',\n\tyoutube: 'https://www.youtube.com/@Coding4rtist',\n\titchio: 'https://coding4rtist.itch.io/',\n\temail: 'mailto:coding4rtist@gmail.com',\n};\n","import React from 'react';\nimport {\n\tFaInstagram,\n\tFaYoutube,\n\tFaXTwitter,\n\tFaEnvelope,\n\tFaLinkedin,\n\tFaDiscord,\n} from 'react-icons/fa6';\nimport {\n\tSiUnity,\n\tSiAdobephotoshop,\n\tSiBlender,\n\tSiReact,\n\tSiGit,\n} from 'react-icons/si';\nimport { TbBrandCSharp } from 'react-icons/tb';\nimport avatarVideo from '@images/avatar_small.mp4';\nimport Button from '@components/ui/Button';\nimport { LINKS } from '@lib/constants';\n\nconst TechIcon = ({ icon: Icon, name }) => (\n\t<div className=\"group/tech flex flex-col items-center justify-center gap-1 p-2 rounded-lg hover:bg-white/5 transition-colors\">\n\t\t<Icon\n\t\t\tsize={18}\n\t\t\tclassName=\"text-gray-500 group-hover/tech:text-primary-400 transition-colors\"\n\t\t/>\n\t\t<span className=\"text-[9px] text-gray-600 group-hover/tech:text-gray-300 uppercase tracking-wider opacity-0 group-hover/tech:opacity-100 transition-opacity absolute -top-4 bg-black/80 px-2 py-0.5 rounded\">\n\t\t\t{name}\n\t\t</span>\n\t</div>\n);\n\nconst SocialLink = ({ href, icon: Icon }) => (\n\t<a\n\t\thref={href}\n\t\ttarget=\"_blank\"\n\t\trel=\"noopener noreferrer\"\n\t\tclassName=\"p-3 rounded-full bg-white/5 border border-white/5 text-gray-400 hover:bg-white/10 hover:text-white hover:border-white/20 hover:scale-110 transition-all duration-300\"\n\t>\n\t\t<Icon size={18} />\n\t</a>\n);\n\nexport default function AboutWidget() {\n\treturn (\n\t\t<div className=\"flex flex-col items-center h-full w-full text-center py-8 px-6 lg:py-10 relative\">\n\t\t\t{/* 1. HERO SECTION: Avatar & Titles */}\n\t\t\t<div className=\"flex flex-col items-center justify-center flex-grow-[2]\">\n\t\t\t\t{/* Avatar Container */}\n\t\t\t\t<div className=\"relative group mb-6\">\n\t\t\t\t\t{/* Rotating Rings Effect */}\n\t\t\t\t\t<div className=\"absolute -inset-4 border border-dashed border-white/10 rounded-full w-[calc(100%+2rem)] h-[calc(100%+2rem)] animate-[spin_10s_linear_infinite] opacity-30 group-hover:opacity-50\"></div>\n\t\t\t\t\t<div className=\"absolute -inset-1 bg-gradient-to-tr from-primary-600 to-transparent rounded-full blur-md opacity-20 group-hover:opacity-60 transition duration-700\"></div>\n\n\t\t\t\t\t{/* <h1 className=\"m-0 font font-bold text-4xl text-primary-500 uppercase text-center\">\n\t\t\t\t\t\tCoding4rtist\n\t\t\t\t\t</h1> */}\n\n\t\t\t\t\t{/* Video */}\n\t\t\t\t\t<div className=\"relative w-52 h-52 lg:w-60 lg:h-60 rounded-full overflow-hidden border-[3px] border-[#1a1a1a] bg-black shadow-2xl z-10\">\n\t\t\t\t\t\t<video\n\t\t\t\t\t\t\tsrc={avatarVideo}\n\t\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\t\tloop\n\t\t\t\t\t\t\tmuted\n\t\t\t\t\t\t\tplaysInline\n\t\t\t\t\t\t\tclassName=\"w-full h-full object-cover transform group-hover:scale-105 transition duration-700\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{/* Text Info */}\n\t\t\t\t<div className=\"space-y-3 max-w-sm\">\n\t\t\t\t\t<h1 className=\"text-4xl lg:text-5xl font-bold tracking-tight text-white\">\n\t\t\t\t\t\tHi, I'm{' '}\n\t\t\t\t\t\t<span className=\"text-transparent bg-clip-text bg-gradient-to-r from-primary-400 to-yellow-200\">\n\t\t\t\t\t\t\tCarlo\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t.\n\t\t\t\t\t</h1>\n\t\t\t\t\t<div className=\"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/5 border border-white/10\">\n\t\t\t\t\t\t<span className=\"w-1.5 h-1.5 rounded-full bg-primary-500\"></span>\n\t\t\t\t\t\t<h2 className=\"text-xs font-mono text-gray-300 uppercase tracking-widest\">\n\t\t\t\t\t\t\tGame Developer & 3D Artist\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p className=\"text-gray-400 text-sm leading-relaxed pt-2\">\n\t\t\t\t\t\tThe nickname \"Coding4rtist\" (pronunced Coding Artist) reflects my\n\t\t\t\t\t\tpassion for game development and art, showcasing my dual nature as\n\t\t\t\t\t\tboth a logical thinker and a creative spirit. Additionally, \"C.A.\"\n\t\t\t\t\t\trepresents my initials, tying everything together.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* 2. ACTIONS: Buttons & Socials */}\n\t\t\t<div className=\"w-full flex flex-col gap-6 flex-grow-[1] justify-center max-w-xs m-4\">\n\t\t\t\t{/* Buttons */}\n\t\t\t\t<div className=\"flex flex-col gap-3 w-full\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\thref={LINKS.email}\n\t\t\t\t\t\taria-label=\"email\"\n\t\t\t\t\t\ticon={FaEnvelope}\n\t\t\t\t\t\tvariant=\"hybrid\"\n\t\t\t\t\t\tclassName=\"w-full\"\n\t\t\t\t\t>\n\t\t\t\t\t\tGet in Touch\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\thref={LINKS.discord}\n\t\t\t\t\t\taria-label=\"discord\"\n\t\t\t\t\t\ticon={FaDiscord}\n\t\t\t\t\t\tvariant=\"hybrid\"\n\t\t\t\t\t\tclassName=\"w-full\"\n\t\t\t\t\t>\n\t\t\t\t\t\tJoin us on Discord\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\n\t\t\t\t{/* Social Icons Row */}\n\t\t\t\t<div className=\"flex justify-center gap-4\">\n\t\t\t\t\t<SocialLink\n\t\t\t\t\t\thref={LINKS.instagram}\n\t\t\t\t\t\taria-label=\"instagram\"\n\t\t\t\t\t\ticon={FaInstagram}\n\t\t\t\t\t/>\n\t\t\t\t\t<SocialLink\n\t\t\t\t\t\thref={LINKS.twitter}\n\t\t\t\t\t\taria-label=\"twitter\"\n\t\t\t\t\t\ticon={FaXTwitter}\n\t\t\t\t\t/>\n\t\t\t\t\t<SocialLink\n\t\t\t\t\t\thref={LINKS.youtube}\n\t\t\t\t\t\taria-label=\"linkedin\"\n\t\t\t\t\t\ticon={FaYoutube}\n\t\t\t\t\t/>\n\t\t\t\t\t<SocialLink\n\t\t\t\t\t\thref={LINKS.linkedin}\n\t\t\t\t\t\taria-label=\"twitter\"\n\t\t\t\t\t\ticon={FaLinkedin}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* 3. FOOTER: Tech Arsenal */}\n\t\t\t<div className=\"mt-auto pt-8 w-full border-t border-white/5\">\n\t\t\t\t<p className=\"text-[10px] text-gray-600 uppercase tracking-widest mb-3 font-bold\">\n\t\t\t\t\tMain Arsenal\n\t\t\t\t</p>\n\t\t\t\t<div className=\"flex justify-center gap-2 flex-wrap px-2\">\n\t\t\t\t\t<TechIcon icon={SiUnity} name=\"Unity\" />\n\t\t\t\t\t<TechIcon icon={TbBrandCSharp} name=\"C#\" />\n\t\t\t\t\t<TechIcon icon={SiBlender} name=\"Blender\" />\n\t\t\t\t\t<TechIcon icon={SiReact} name=\"React\" />\n\t\t\t\t\t<TechIcon icon={SiAdobephotoshop} name=\"Photoshop\" />\n\t\t\t\t\t<TechIcon icon={SiGit} name=\"Git\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","function isObject(subject) {\n  return Object.prototype.toString.call(subject) === '[object Object]';\n}\nfunction isRecord(subject) {\n  return isObject(subject) || Array.isArray(subject);\n}\nfunction canUseDOM() {\n  return !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n}\nfunction areOptionsEqual(optionsA, optionsB) {\n  const optionsAKeys = Object.keys(optionsA);\n  const optionsBKeys = Object.keys(optionsB);\n  if (optionsAKeys.length !== optionsBKeys.length) return false;\n  const breakpointsA = JSON.stringify(Object.keys(optionsA.breakpoints || {}));\n  const breakpointsB = JSON.stringify(Object.keys(optionsB.breakpoints || {}));\n  if (breakpointsA !== breakpointsB) return false;\n  return optionsAKeys.every(key => {\n    const valueA = optionsA[key];\n    const valueB = optionsB[key];\n    if (typeof valueA === 'function') return `${valueA}` === `${valueB}`;\n    if (!isRecord(valueA) || !isRecord(valueB)) return valueA === valueB;\n    return areOptionsEqual(valueA, valueB);\n  });\n}\nfunction sortAndMapPluginToOptions(plugins) {\n  return plugins.concat().sort((a, b) => a.name > b.name ? 1 : -1).map(plugin => plugin.options);\n}\nfunction arePluginsEqual(pluginsA, pluginsB) {\n  if (pluginsA.length !== pluginsB.length) return false;\n  const optionsA = sortAndMapPluginToOptions(pluginsA);\n  const optionsB = sortAndMapPluginToOptions(pluginsB);\n  return optionsA.every((optionA, index) => {\n    const optionB = optionsB[index];\n    return areOptionsEqual(optionA, optionB);\n  });\n}\n\nexport { areOptionsEqual, arePluginsEqual, canUseDOM, sortAndMapPluginToOptions };\n//# sourceMappingURL=embla-carousel-reactive-utils.esm.js.map\n","function isNumber(subject) {\n  return typeof subject === 'number';\n}\nfunction isString(subject) {\n  return typeof subject === 'string';\n}\nfunction isBoolean(subject) {\n  return typeof subject === 'boolean';\n}\nfunction isObject(subject) {\n  return Object.prototype.toString.call(subject) === '[object Object]';\n}\nfunction mathAbs(n) {\n  return Math.abs(n);\n}\nfunction mathSign(n) {\n  return Math.sign(n);\n}\nfunction deltaAbs(valueB, valueA) {\n  return mathAbs(valueB - valueA);\n}\nfunction factorAbs(valueB, valueA) {\n  if (valueB === 0 || valueA === 0) return 0;\n  if (mathAbs(valueB) <= mathAbs(valueA)) return 0;\n  const diff = deltaAbs(mathAbs(valueB), mathAbs(valueA));\n  return mathAbs(diff / valueB);\n}\nfunction roundToTwoDecimals(num) {\n  return Math.round(num * 100) / 100;\n}\nfunction arrayKeys(array) {\n  return objectKeys(array).map(Number);\n}\nfunction arrayLast(array) {\n  return array[arrayLastIndex(array)];\n}\nfunction arrayLastIndex(array) {\n  return Math.max(0, array.length - 1);\n}\nfunction arrayIsLastIndex(array, index) {\n  return index === arrayLastIndex(array);\n}\nfunction arrayFromNumber(n, startAt = 0) {\n  return Array.from(Array(n), (_, i) => startAt + i);\n}\nfunction objectKeys(object) {\n  return Object.keys(object);\n}\nfunction objectsMergeDeep(objectA, objectB) {\n  return [objectA, objectB].reduce((mergedObjects, currentObject) => {\n    objectKeys(currentObject).forEach(key => {\n      const valueA = mergedObjects[key];\n      const valueB = currentObject[key];\n      const areObjects = isObject(valueA) && isObject(valueB);\n      mergedObjects[key] = areObjects ? objectsMergeDeep(valueA, valueB) : valueB;\n    });\n    return mergedObjects;\n  }, {});\n}\nfunction isMouseEvent(evt, ownerWindow) {\n  return typeof ownerWindow.MouseEvent !== 'undefined' && evt instanceof ownerWindow.MouseEvent;\n}\n\nfunction Alignment(align, viewSize) {\n  const predefined = {\n    start,\n    center,\n    end\n  };\n  function start() {\n    return 0;\n  }\n  function center(n) {\n    return end(n) / 2;\n  }\n  function end(n) {\n    return viewSize - n;\n  }\n  function measure(n, index) {\n    if (isString(align)) return predefined[align](n);\n    return align(viewSize, n, index);\n  }\n  const self = {\n    measure\n  };\n  return self;\n}\n\nfunction EventStore() {\n  let listeners = [];\n  function add(node, type, handler, options = {\n    passive: true\n  }) {\n    let removeListener;\n    if ('addEventListener' in node) {\n      node.addEventListener(type, handler, options);\n      removeListener = () => node.removeEventListener(type, handler, options);\n    } else {\n      const legacyMediaQueryList = node;\n      legacyMediaQueryList.addListener(handler);\n      removeListener = () => legacyMediaQueryList.removeListener(handler);\n    }\n    listeners.push(removeListener);\n    return self;\n  }\n  function clear() {\n    listeners = listeners.filter(remove => remove());\n  }\n  const self = {\n    add,\n    clear\n  };\n  return self;\n}\n\nfunction Animations(ownerDocument, ownerWindow, update, render) {\n  const documentVisibleHandler = EventStore();\n  const fixedTimeStep = 1000 / 60;\n  let lastTimeStamp = null;\n  let accumulatedTime = 0;\n  let animationId = 0;\n  function init() {\n    documentVisibleHandler.add(ownerDocument, 'visibilitychange', () => {\n      if (ownerDocument.hidden) reset();\n    });\n  }\n  function destroy() {\n    stop();\n    documentVisibleHandler.clear();\n  }\n  function animate(timeStamp) {\n    if (!animationId) return;\n    if (!lastTimeStamp) {\n      lastTimeStamp = timeStamp;\n      update();\n      update();\n    }\n    const timeElapsed = timeStamp - lastTimeStamp;\n    lastTimeStamp = timeStamp;\n    accumulatedTime += timeElapsed;\n    while (accumulatedTime >= fixedTimeStep) {\n      update();\n      accumulatedTime -= fixedTimeStep;\n    }\n    const alpha = accumulatedTime / fixedTimeStep;\n    render(alpha);\n    if (animationId) {\n      animationId = ownerWindow.requestAnimationFrame(animate);\n    }\n  }\n  function start() {\n    if (animationId) return;\n    animationId = ownerWindow.requestAnimationFrame(animate);\n  }\n  function stop() {\n    ownerWindow.cancelAnimationFrame(animationId);\n    lastTimeStamp = null;\n    accumulatedTime = 0;\n    animationId = 0;\n  }\n  function reset() {\n    lastTimeStamp = null;\n    accumulatedTime = 0;\n  }\n  const self = {\n    init,\n    destroy,\n    start,\n    stop,\n    update,\n    render\n  };\n  return self;\n}\n\nfunction Axis(axis, contentDirection) {\n  const isRightToLeft = contentDirection === 'rtl';\n  const isVertical = axis === 'y';\n  const scroll = isVertical ? 'y' : 'x';\n  const cross = isVertical ? 'x' : 'y';\n  const sign = !isVertical && isRightToLeft ? -1 : 1;\n  const startEdge = getStartEdge();\n  const endEdge = getEndEdge();\n  function measureSize(nodeRect) {\n    const {\n      height,\n      width\n    } = nodeRect;\n    return isVertical ? height : width;\n  }\n  function getStartEdge() {\n    if (isVertical) return 'top';\n    return isRightToLeft ? 'right' : 'left';\n  }\n  function getEndEdge() {\n    if (isVertical) return 'bottom';\n    return isRightToLeft ? 'left' : 'right';\n  }\n  function direction(n) {\n    return n * sign;\n  }\n  const self = {\n    scroll,\n    cross,\n    startEdge,\n    endEdge,\n    measureSize,\n    direction\n  };\n  return self;\n}\n\nfunction Limit(min = 0, max = 0) {\n  const length = mathAbs(min - max);\n  function reachedMin(n) {\n    return n < min;\n  }\n  function reachedMax(n) {\n    return n > max;\n  }\n  function reachedAny(n) {\n    return reachedMin(n) || reachedMax(n);\n  }\n  function constrain(n) {\n    if (!reachedAny(n)) return n;\n    return reachedMin(n) ? min : max;\n  }\n  function removeOffset(n) {\n    if (!length) return n;\n    return n - length * Math.ceil((n - max) / length);\n  }\n  const self = {\n    length,\n    max,\n    min,\n    constrain,\n    reachedAny,\n    reachedMax,\n    reachedMin,\n    removeOffset\n  };\n  return self;\n}\n\nfunction Counter(max, start, loop) {\n  const {\n    constrain\n  } = Limit(0, max);\n  const loopEnd = max + 1;\n  let counter = withinLimit(start);\n  function withinLimit(n) {\n    return !loop ? constrain(n) : mathAbs((loopEnd + n) % loopEnd);\n  }\n  function get() {\n    return counter;\n  }\n  function set(n) {\n    counter = withinLimit(n);\n    return self;\n  }\n  function add(n) {\n    return clone().set(get() + n);\n  }\n  function clone() {\n    return Counter(max, get(), loop);\n  }\n  const self = {\n    get,\n    set,\n    add,\n    clone\n  };\n  return self;\n}\n\nfunction DragHandler(axis, rootNode, ownerDocument, ownerWindow, target, dragTracker, location, animation, scrollTo, scrollBody, scrollTarget, index, eventHandler, percentOfView, dragFree, dragThreshold, skipSnaps, baseFriction, watchDrag) {\n  const {\n    cross: crossAxis,\n    direction\n  } = axis;\n  const focusNodes = ['INPUT', 'SELECT', 'TEXTAREA'];\n  const nonPassiveEvent = {\n    passive: false\n  };\n  const initEvents = EventStore();\n  const dragEvents = EventStore();\n  const goToNextThreshold = Limit(50, 225).constrain(percentOfView.measure(20));\n  const snapForceBoost = {\n    mouse: 300,\n    touch: 400\n  };\n  const freeForceBoost = {\n    mouse: 500,\n    touch: 600\n  };\n  const baseSpeed = dragFree ? 43 : 25;\n  let isMoving = false;\n  let startScroll = 0;\n  let startCross = 0;\n  let pointerIsDown = false;\n  let preventScroll = false;\n  let preventClick = false;\n  let isMouse = false;\n  function init(emblaApi) {\n    if (!watchDrag) return;\n    function downIfAllowed(evt) {\n      if (isBoolean(watchDrag) || watchDrag(emblaApi, evt)) down(evt);\n    }\n    const node = rootNode;\n    initEvents.add(node, 'dragstart', evt => evt.preventDefault(), nonPassiveEvent).add(node, 'touchmove', () => undefined, nonPassiveEvent).add(node, 'touchend', () => undefined).add(node, 'touchstart', downIfAllowed).add(node, 'mousedown', downIfAllowed).add(node, 'touchcancel', up).add(node, 'contextmenu', up).add(node, 'click', click, true);\n  }\n  function destroy() {\n    initEvents.clear();\n    dragEvents.clear();\n  }\n  function addDragEvents() {\n    const node = isMouse ? ownerDocument : rootNode;\n    dragEvents.add(node, 'touchmove', move, nonPassiveEvent).add(node, 'touchend', up).add(node, 'mousemove', move, nonPassiveEvent).add(node, 'mouseup', up);\n  }\n  function isFocusNode(node) {\n    const nodeName = node.nodeName || '';\n    return focusNodes.includes(nodeName);\n  }\n  function forceBoost() {\n    const boost = dragFree ? freeForceBoost : snapForceBoost;\n    const type = isMouse ? 'mouse' : 'touch';\n    return boost[type];\n  }\n  function allowedForce(force, targetChanged) {\n    const next = index.add(mathSign(force) * -1);\n    const baseForce = scrollTarget.byDistance(force, !dragFree).distance;\n    if (dragFree || mathAbs(force) < goToNextThreshold) return baseForce;\n    if (skipSnaps && targetChanged) return baseForce * 0.5;\n    return scrollTarget.byIndex(next.get(), 0).distance;\n  }\n  function down(evt) {\n    const isMouseEvt = isMouseEvent(evt, ownerWindow);\n    isMouse = isMouseEvt;\n    preventClick = dragFree && isMouseEvt && !evt.buttons && isMoving;\n    isMoving = deltaAbs(target.get(), location.get()) >= 2;\n    if (isMouseEvt && evt.button !== 0) return;\n    if (isFocusNode(evt.target)) return;\n    pointerIsDown = true;\n    dragTracker.pointerDown(evt);\n    scrollBody.useFriction(0).useDuration(0);\n    target.set(location);\n    addDragEvents();\n    startScroll = dragTracker.readPoint(evt);\n    startCross = dragTracker.readPoint(evt, crossAxis);\n    eventHandler.emit('pointerDown');\n  }\n  function move(evt) {\n    const isTouchEvt = !isMouseEvent(evt, ownerWindow);\n    if (isTouchEvt && evt.touches.length >= 2) return up(evt);\n    const lastScroll = dragTracker.readPoint(evt);\n    const lastCross = dragTracker.readPoint(evt, crossAxis);\n    const diffScroll = deltaAbs(lastScroll, startScroll);\n    const diffCross = deltaAbs(lastCross, startCross);\n    if (!preventScroll && !isMouse) {\n      if (!evt.cancelable) return up(evt);\n      preventScroll = diffScroll > diffCross;\n      if (!preventScroll) return up(evt);\n    }\n    const diff = dragTracker.pointerMove(evt);\n    if (diffScroll > dragThreshold) preventClick = true;\n    scrollBody.useFriction(0.3).useDuration(0.75);\n    animation.start();\n    target.add(direction(diff));\n    evt.preventDefault();\n  }\n  function up(evt) {\n    const currentLocation = scrollTarget.byDistance(0, false);\n    const targetChanged = currentLocation.index !== index.get();\n    const rawForce = dragTracker.pointerUp(evt) * forceBoost();\n    const force = allowedForce(direction(rawForce), targetChanged);\n    const forceFactor = factorAbs(rawForce, force);\n    const speed = baseSpeed - 10 * forceFactor;\n    const friction = baseFriction + forceFactor / 50;\n    preventScroll = false;\n    pointerIsDown = false;\n    dragEvents.clear();\n    scrollBody.useDuration(speed).useFriction(friction);\n    scrollTo.distance(force, !dragFree);\n    isMouse = false;\n    eventHandler.emit('pointerUp');\n  }\n  function click(evt) {\n    if (preventClick) {\n      evt.stopPropagation();\n      evt.preventDefault();\n      preventClick = false;\n    }\n  }\n  function pointerDown() {\n    return pointerIsDown;\n  }\n  const self = {\n    init,\n    destroy,\n    pointerDown\n  };\n  return self;\n}\n\nfunction DragTracker(axis, ownerWindow) {\n  const logInterval = 170;\n  let startEvent;\n  let lastEvent;\n  function readTime(evt) {\n    return evt.timeStamp;\n  }\n  function readPoint(evt, evtAxis) {\n    const property = evtAxis || axis.scroll;\n    const coord = `client${property === 'x' ? 'X' : 'Y'}`;\n    return (isMouseEvent(evt, ownerWindow) ? evt : evt.touches[0])[coord];\n  }\n  function pointerDown(evt) {\n    startEvent = evt;\n    lastEvent = evt;\n    return readPoint(evt);\n  }\n  function pointerMove(evt) {\n    const diff = readPoint(evt) - readPoint(lastEvent);\n    const expired = readTime(evt) - readTime(startEvent) > logInterval;\n    lastEvent = evt;\n    if (expired) startEvent = evt;\n    return diff;\n  }\n  function pointerUp(evt) {\n    if (!startEvent || !lastEvent) return 0;\n    const diffDrag = readPoint(lastEvent) - readPoint(startEvent);\n    const diffTime = readTime(evt) - readTime(startEvent);\n    const expired = readTime(evt) - readTime(lastEvent) > logInterval;\n    const force = diffDrag / diffTime;\n    const isFlick = diffTime && !expired && mathAbs(force) > 0.1;\n    return isFlick ? force : 0;\n  }\n  const self = {\n    pointerDown,\n    pointerMove,\n    pointerUp,\n    readPoint\n  };\n  return self;\n}\n\nfunction NodeRects() {\n  function measure(node) {\n    const {\n      offsetTop,\n      offsetLeft,\n      offsetWidth,\n      offsetHeight\n    } = node;\n    const offset = {\n      top: offsetTop,\n      right: offsetLeft + offsetWidth,\n      bottom: offsetTop + offsetHeight,\n      left: offsetLeft,\n      width: offsetWidth,\n      height: offsetHeight\n    };\n    return offset;\n  }\n  const self = {\n    measure\n  };\n  return self;\n}\n\nfunction PercentOfView(viewSize) {\n  function measure(n) {\n    return viewSize * (n / 100);\n  }\n  const self = {\n    measure\n  };\n  return self;\n}\n\nfunction ResizeHandler(container, eventHandler, ownerWindow, slides, axis, watchResize, nodeRects) {\n  const observeNodes = [container].concat(slides);\n  let resizeObserver;\n  let containerSize;\n  let slideSizes = [];\n  let destroyed = false;\n  function readSize(node) {\n    return axis.measureSize(nodeRects.measure(node));\n  }\n  function init(emblaApi) {\n    if (!watchResize) return;\n    containerSize = readSize(container);\n    slideSizes = slides.map(readSize);\n    function defaultCallback(entries) {\n      for (const entry of entries) {\n        if (destroyed) return;\n        const isContainer = entry.target === container;\n        const slideIndex = slides.indexOf(entry.target);\n        const lastSize = isContainer ? containerSize : slideSizes[slideIndex];\n        const newSize = readSize(isContainer ? container : slides[slideIndex]);\n        const diffSize = mathAbs(newSize - lastSize);\n        if (diffSize >= 0.5) {\n          emblaApi.reInit();\n          eventHandler.emit('resize');\n          break;\n        }\n      }\n    }\n    resizeObserver = new ResizeObserver(entries => {\n      if (isBoolean(watchResize) || watchResize(emblaApi, entries)) {\n        defaultCallback(entries);\n      }\n    });\n    ownerWindow.requestAnimationFrame(() => {\n      observeNodes.forEach(node => resizeObserver.observe(node));\n    });\n  }\n  function destroy() {\n    destroyed = true;\n    if (resizeObserver) resizeObserver.disconnect();\n  }\n  const self = {\n    init,\n    destroy\n  };\n  return self;\n}\n\nfunction ScrollBody(location, offsetLocation, previousLocation, target, baseDuration, baseFriction) {\n  let scrollVelocity = 0;\n  let scrollDirection = 0;\n  let scrollDuration = baseDuration;\n  let scrollFriction = baseFriction;\n  let rawLocation = location.get();\n  let rawLocationPrevious = 0;\n  function seek() {\n    const displacement = target.get() - location.get();\n    const isInstant = !scrollDuration;\n    let scrollDistance = 0;\n    if (isInstant) {\n      scrollVelocity = 0;\n      previousLocation.set(target);\n      location.set(target);\n      scrollDistance = displacement;\n    } else {\n      previousLocation.set(location);\n      scrollVelocity += displacement / scrollDuration;\n      scrollVelocity *= scrollFriction;\n      rawLocation += scrollVelocity;\n      location.add(scrollVelocity);\n      scrollDistance = rawLocation - rawLocationPrevious;\n    }\n    scrollDirection = mathSign(scrollDistance);\n    rawLocationPrevious = rawLocation;\n    return self;\n  }\n  function settled() {\n    const diff = target.get() - offsetLocation.get();\n    return mathAbs(diff) < 0.001;\n  }\n  function duration() {\n    return scrollDuration;\n  }\n  function direction() {\n    return scrollDirection;\n  }\n  function velocity() {\n    return scrollVelocity;\n  }\n  function useBaseDuration() {\n    return useDuration(baseDuration);\n  }\n  function useBaseFriction() {\n    return useFriction(baseFriction);\n  }\n  function useDuration(n) {\n    scrollDuration = n;\n    return self;\n  }\n  function useFriction(n) {\n    scrollFriction = n;\n    return self;\n  }\n  const self = {\n    direction,\n    duration,\n    velocity,\n    seek,\n    settled,\n    useBaseFriction,\n    useBaseDuration,\n    useFriction,\n    useDuration\n  };\n  return self;\n}\n\nfunction ScrollBounds(limit, location, target, scrollBody, percentOfView) {\n  const pullBackThreshold = percentOfView.measure(10);\n  const edgeOffsetTolerance = percentOfView.measure(50);\n  const frictionLimit = Limit(0.1, 0.99);\n  let disabled = false;\n  function shouldConstrain() {\n    if (disabled) return false;\n    if (!limit.reachedAny(target.get())) return false;\n    if (!limit.reachedAny(location.get())) return false;\n    return true;\n  }\n  function constrain(pointerDown) {\n    if (!shouldConstrain()) return;\n    const edge = limit.reachedMin(location.get()) ? 'min' : 'max';\n    const diffToEdge = mathAbs(limit[edge] - location.get());\n    const diffToTarget = target.get() - location.get();\n    const friction = frictionLimit.constrain(diffToEdge / edgeOffsetTolerance);\n    target.subtract(diffToTarget * friction);\n    if (!pointerDown && mathAbs(diffToTarget) < pullBackThreshold) {\n      target.set(limit.constrain(target.get()));\n      scrollBody.useDuration(25).useBaseFriction();\n    }\n  }\n  function toggleActive(active) {\n    disabled = !active;\n  }\n  const self = {\n    shouldConstrain,\n    constrain,\n    toggleActive\n  };\n  return self;\n}\n\nfunction ScrollContain(viewSize, contentSize, snapsAligned, containScroll, pixelTolerance) {\n  const scrollBounds = Limit(-contentSize + viewSize, 0);\n  const snapsBounded = measureBounded();\n  const scrollContainLimit = findScrollContainLimit();\n  const snapsContained = measureContained();\n  function usePixelTolerance(bound, snap) {\n    return deltaAbs(bound, snap) <= 1;\n  }\n  function findScrollContainLimit() {\n    const startSnap = snapsBounded[0];\n    const endSnap = arrayLast(snapsBounded);\n    const min = snapsBounded.lastIndexOf(startSnap);\n    const max = snapsBounded.indexOf(endSnap) + 1;\n    return Limit(min, max);\n  }\n  function measureBounded() {\n    return snapsAligned.map((snapAligned, index) => {\n      const {\n        min,\n        max\n      } = scrollBounds;\n      const snap = scrollBounds.constrain(snapAligned);\n      const isFirst = !index;\n      const isLast = arrayIsLastIndex(snapsAligned, index);\n      if (isFirst) return max;\n      if (isLast) return min;\n      if (usePixelTolerance(min, snap)) return min;\n      if (usePixelTolerance(max, snap)) return max;\n      return snap;\n    }).map(scrollBound => parseFloat(scrollBound.toFixed(3)));\n  }\n  function measureContained() {\n    if (contentSize <= viewSize + pixelTolerance) return [scrollBounds.max];\n    if (containScroll === 'keepSnaps') return snapsBounded;\n    const {\n      min,\n      max\n    } = scrollContainLimit;\n    return snapsBounded.slice(min, max);\n  }\n  const self = {\n    snapsContained,\n    scrollContainLimit\n  };\n  return self;\n}\n\nfunction ScrollLimit(contentSize, scrollSnaps, loop) {\n  const max = scrollSnaps[0];\n  const min = loop ? max - contentSize : arrayLast(scrollSnaps);\n  const limit = Limit(min, max);\n  const self = {\n    limit\n  };\n  return self;\n}\n\nfunction ScrollLooper(contentSize, limit, location, vectors) {\n  const jointSafety = 0.1;\n  const min = limit.min + jointSafety;\n  const max = limit.max + jointSafety;\n  const {\n    reachedMin,\n    reachedMax\n  } = Limit(min, max);\n  function shouldLoop(direction) {\n    if (direction === 1) return reachedMax(location.get());\n    if (direction === -1) return reachedMin(location.get());\n    return false;\n  }\n  function loop(direction) {\n    if (!shouldLoop(direction)) return;\n    const loopDistance = contentSize * (direction * -1);\n    vectors.forEach(v => v.add(loopDistance));\n  }\n  const self = {\n    loop\n  };\n  return self;\n}\n\nfunction ScrollProgress(limit) {\n  const {\n    max,\n    length\n  } = limit;\n  function get(n) {\n    const currentLocation = n - max;\n    return length ? currentLocation / -length : 0;\n  }\n  const self = {\n    get\n  };\n  return self;\n}\n\nfunction ScrollSnaps(axis, alignment, containerRect, slideRects, slidesToScroll) {\n  const {\n    startEdge,\n    endEdge\n  } = axis;\n  const {\n    groupSlides\n  } = slidesToScroll;\n  const alignments = measureSizes().map(alignment.measure);\n  const snaps = measureUnaligned();\n  const snapsAligned = measureAligned();\n  function measureSizes() {\n    return groupSlides(slideRects).map(rects => arrayLast(rects)[endEdge] - rects[0][startEdge]).map(mathAbs);\n  }\n  function measureUnaligned() {\n    return slideRects.map(rect => containerRect[startEdge] - rect[startEdge]).map(snap => -mathAbs(snap));\n  }\n  function measureAligned() {\n    return groupSlides(snaps).map(g => g[0]).map((snap, index) => snap + alignments[index]);\n  }\n  const self = {\n    snaps,\n    snapsAligned\n  };\n  return self;\n}\n\nfunction SlideRegistry(containSnaps, containScroll, scrollSnaps, scrollContainLimit, slidesToScroll, slideIndexes) {\n  const {\n    groupSlides\n  } = slidesToScroll;\n  const {\n    min,\n    max\n  } = scrollContainLimit;\n  const slideRegistry = createSlideRegistry();\n  function createSlideRegistry() {\n    const groupedSlideIndexes = groupSlides(slideIndexes);\n    const doNotContain = !containSnaps || containScroll === 'keepSnaps';\n    if (scrollSnaps.length === 1) return [slideIndexes];\n    if (doNotContain) return groupedSlideIndexes;\n    return groupedSlideIndexes.slice(min, max).map((group, index, groups) => {\n      const isFirst = !index;\n      const isLast = arrayIsLastIndex(groups, index);\n      if (isFirst) {\n        const range = arrayLast(groups[0]) + 1;\n        return arrayFromNumber(range);\n      }\n      if (isLast) {\n        const range = arrayLastIndex(slideIndexes) - arrayLast(groups)[0] + 1;\n        return arrayFromNumber(range, arrayLast(groups)[0]);\n      }\n      return group;\n    });\n  }\n  const self = {\n    slideRegistry\n  };\n  return self;\n}\n\nfunction ScrollTarget(loop, scrollSnaps, contentSize, limit, targetVector) {\n  const {\n    reachedAny,\n    removeOffset,\n    constrain\n  } = limit;\n  function minDistance(distances) {\n    return distances.concat().sort((a, b) => mathAbs(a) - mathAbs(b))[0];\n  }\n  function findTargetSnap(target) {\n    const distance = loop ? removeOffset(target) : constrain(target);\n    const ascDiffsToSnaps = scrollSnaps.map((snap, index) => ({\n      diff: shortcut(snap - distance, 0),\n      index\n    })).sort((d1, d2) => mathAbs(d1.diff) - mathAbs(d2.diff));\n    const {\n      index\n    } = ascDiffsToSnaps[0];\n    return {\n      index,\n      distance\n    };\n  }\n  function shortcut(target, direction) {\n    const targets = [target, target + contentSize, target - contentSize];\n    if (!loop) return target;\n    if (!direction) return minDistance(targets);\n    const matchingTargets = targets.filter(t => mathSign(t) === direction);\n    if (matchingTargets.length) return minDistance(matchingTargets);\n    return arrayLast(targets) - contentSize;\n  }\n  function byIndex(index, direction) {\n    const diffToSnap = scrollSnaps[index] - targetVector.get();\n    const distance = shortcut(diffToSnap, direction);\n    return {\n      index,\n      distance\n    };\n  }\n  function byDistance(distance, snap) {\n    const target = targetVector.get() + distance;\n    const {\n      index,\n      distance: targetSnapDistance\n    } = findTargetSnap(target);\n    const reachedBound = !loop && reachedAny(target);\n    if (!snap || reachedBound) return {\n      index,\n      distance\n    };\n    const diffToSnap = scrollSnaps[index] - targetSnapDistance;\n    const snapDistance = distance + shortcut(diffToSnap, 0);\n    return {\n      index,\n      distance: snapDistance\n    };\n  }\n  const self = {\n    byDistance,\n    byIndex,\n    shortcut\n  };\n  return self;\n}\n\nfunction ScrollTo(animation, indexCurrent, indexPrevious, scrollBody, scrollTarget, targetVector, eventHandler) {\n  function scrollTo(target) {\n    const distanceDiff = target.distance;\n    const indexDiff = target.index !== indexCurrent.get();\n    targetVector.add(distanceDiff);\n    if (distanceDiff) {\n      if (scrollBody.duration()) {\n        animation.start();\n      } else {\n        animation.update();\n        animation.render(1);\n        animation.update();\n      }\n    }\n    if (indexDiff) {\n      indexPrevious.set(indexCurrent.get());\n      indexCurrent.set(target.index);\n      eventHandler.emit('select');\n    }\n  }\n  function distance(n, snap) {\n    const target = scrollTarget.byDistance(n, snap);\n    scrollTo(target);\n  }\n  function index(n, direction) {\n    const targetIndex = indexCurrent.clone().set(n);\n    const target = scrollTarget.byIndex(targetIndex.get(), direction);\n    scrollTo(target);\n  }\n  const self = {\n    distance,\n    index\n  };\n  return self;\n}\n\nfunction SlideFocus(root, slides, slideRegistry, scrollTo, scrollBody, eventStore, eventHandler, watchFocus) {\n  const focusListenerOptions = {\n    passive: true,\n    capture: true\n  };\n  let lastTabPressTime = 0;\n  function init(emblaApi) {\n    if (!watchFocus) return;\n    function defaultCallback(index) {\n      const nowTime = new Date().getTime();\n      const diffTime = nowTime - lastTabPressTime;\n      if (diffTime > 10) return;\n      eventHandler.emit('slideFocusStart');\n      root.scrollLeft = 0;\n      const group = slideRegistry.findIndex(group => group.includes(index));\n      if (!isNumber(group)) return;\n      scrollBody.useDuration(0);\n      scrollTo.index(group, 0);\n      eventHandler.emit('slideFocus');\n    }\n    eventStore.add(document, 'keydown', registerTabPress, false);\n    slides.forEach((slide, slideIndex) => {\n      eventStore.add(slide, 'focus', evt => {\n        if (isBoolean(watchFocus) || watchFocus(emblaApi, evt)) {\n          defaultCallback(slideIndex);\n        }\n      }, focusListenerOptions);\n    });\n  }\n  function registerTabPress(event) {\n    if (event.code === 'Tab') lastTabPressTime = new Date().getTime();\n  }\n  const self = {\n    init\n  };\n  return self;\n}\n\nfunction Vector1D(initialValue) {\n  let value = initialValue;\n  function get() {\n    return value;\n  }\n  function set(n) {\n    value = normalizeInput(n);\n  }\n  function add(n) {\n    value += normalizeInput(n);\n  }\n  function subtract(n) {\n    value -= normalizeInput(n);\n  }\n  function normalizeInput(n) {\n    return isNumber(n) ? n : n.get();\n  }\n  const self = {\n    get,\n    set,\n    add,\n    subtract\n  };\n  return self;\n}\n\nfunction Translate(axis, container) {\n  const translate = axis.scroll === 'x' ? x : y;\n  const containerStyle = container.style;\n  let previousTarget = null;\n  let disabled = false;\n  function x(n) {\n    return `translate3d(${n}px,0px,0px)`;\n  }\n  function y(n) {\n    return `translate3d(0px,${n}px,0px)`;\n  }\n  function to(target) {\n    if (disabled) return;\n    const newTarget = roundToTwoDecimals(axis.direction(target));\n    if (newTarget === previousTarget) return;\n    containerStyle.transform = translate(newTarget);\n    previousTarget = newTarget;\n  }\n  function toggleActive(active) {\n    disabled = !active;\n  }\n  function clear() {\n    if (disabled) return;\n    containerStyle.transform = '';\n    if (!container.getAttribute('style')) container.removeAttribute('style');\n  }\n  const self = {\n    clear,\n    to,\n    toggleActive\n  };\n  return self;\n}\n\nfunction SlideLooper(axis, viewSize, contentSize, slideSizes, slideSizesWithGaps, snaps, scrollSnaps, location, slides) {\n  const roundingSafety = 0.5;\n  const ascItems = arrayKeys(slideSizesWithGaps);\n  const descItems = arrayKeys(slideSizesWithGaps).reverse();\n  const loopPoints = startPoints().concat(endPoints());\n  function removeSlideSizes(indexes, from) {\n    return indexes.reduce((a, i) => {\n      return a - slideSizesWithGaps[i];\n    }, from);\n  }\n  function slidesInGap(indexes, gap) {\n    return indexes.reduce((a, i) => {\n      const remainingGap = removeSlideSizes(a, gap);\n      return remainingGap > 0 ? a.concat([i]) : a;\n    }, []);\n  }\n  function findSlideBounds(offset) {\n    return snaps.map((snap, index) => ({\n      start: snap - slideSizes[index] + roundingSafety + offset,\n      end: snap + viewSize - roundingSafety + offset\n    }));\n  }\n  function findLoopPoints(indexes, offset, isEndEdge) {\n    const slideBounds = findSlideBounds(offset);\n    return indexes.map(index => {\n      const initial = isEndEdge ? 0 : -contentSize;\n      const altered = isEndEdge ? contentSize : 0;\n      const boundEdge = isEndEdge ? 'end' : 'start';\n      const loopPoint = slideBounds[index][boundEdge];\n      return {\n        index,\n        loopPoint,\n        slideLocation: Vector1D(-1),\n        translate: Translate(axis, slides[index]),\n        target: () => location.get() > loopPoint ? initial : altered\n      };\n    });\n  }\n  function startPoints() {\n    const gap = scrollSnaps[0];\n    const indexes = slidesInGap(descItems, gap);\n    return findLoopPoints(indexes, contentSize, false);\n  }\n  function endPoints() {\n    const gap = viewSize - scrollSnaps[0] - 1;\n    const indexes = slidesInGap(ascItems, gap);\n    return findLoopPoints(indexes, -contentSize, true);\n  }\n  function canLoop() {\n    return loopPoints.every(({\n      index\n    }) => {\n      const otherIndexes = ascItems.filter(i => i !== index);\n      return removeSlideSizes(otherIndexes, viewSize) <= 0.1;\n    });\n  }\n  function loop() {\n    loopPoints.forEach(loopPoint => {\n      const {\n        target,\n        translate,\n        slideLocation\n      } = loopPoint;\n      const shiftLocation = target();\n      if (shiftLocation === slideLocation.get()) return;\n      translate.to(shiftLocation);\n      slideLocation.set(shiftLocation);\n    });\n  }\n  function clear() {\n    loopPoints.forEach(loopPoint => loopPoint.translate.clear());\n  }\n  const self = {\n    canLoop,\n    clear,\n    loop,\n    loopPoints\n  };\n  return self;\n}\n\nfunction SlidesHandler(container, eventHandler, watchSlides) {\n  let mutationObserver;\n  let destroyed = false;\n  function init(emblaApi) {\n    if (!watchSlides) return;\n    function defaultCallback(mutations) {\n      for (const mutation of mutations) {\n        if (mutation.type === 'childList') {\n          emblaApi.reInit();\n          eventHandler.emit('slidesChanged');\n          break;\n        }\n      }\n    }\n    mutationObserver = new MutationObserver(mutations => {\n      if (destroyed) return;\n      if (isBoolean(watchSlides) || watchSlides(emblaApi, mutations)) {\n        defaultCallback(mutations);\n      }\n    });\n    mutationObserver.observe(container, {\n      childList: true\n    });\n  }\n  function destroy() {\n    if (mutationObserver) mutationObserver.disconnect();\n    destroyed = true;\n  }\n  const self = {\n    init,\n    destroy\n  };\n  return self;\n}\n\nfunction SlidesInView(container, slides, eventHandler, threshold) {\n  const intersectionEntryMap = {};\n  let inViewCache = null;\n  let notInViewCache = null;\n  let intersectionObserver;\n  let destroyed = false;\n  function init() {\n    intersectionObserver = new IntersectionObserver(entries => {\n      if (destroyed) return;\n      entries.forEach(entry => {\n        const index = slides.indexOf(entry.target);\n        intersectionEntryMap[index] = entry;\n      });\n      inViewCache = null;\n      notInViewCache = null;\n      eventHandler.emit('slidesInView');\n    }, {\n      root: container.parentElement,\n      threshold\n    });\n    slides.forEach(slide => intersectionObserver.observe(slide));\n  }\n  function destroy() {\n    if (intersectionObserver) intersectionObserver.disconnect();\n    destroyed = true;\n  }\n  function createInViewList(inView) {\n    return objectKeys(intersectionEntryMap).reduce((list, slideIndex) => {\n      const index = parseInt(slideIndex);\n      const {\n        isIntersecting\n      } = intersectionEntryMap[index];\n      const inViewMatch = inView && isIntersecting;\n      const notInViewMatch = !inView && !isIntersecting;\n      if (inViewMatch || notInViewMatch) list.push(index);\n      return list;\n    }, []);\n  }\n  function get(inView = true) {\n    if (inView && inViewCache) return inViewCache;\n    if (!inView && notInViewCache) return notInViewCache;\n    const slideIndexes = createInViewList(inView);\n    if (inView) inViewCache = slideIndexes;\n    if (!inView) notInViewCache = slideIndexes;\n    return slideIndexes;\n  }\n  const self = {\n    init,\n    destroy,\n    get\n  };\n  return self;\n}\n\nfunction SlideSizes(axis, containerRect, slideRects, slides, readEdgeGap, ownerWindow) {\n  const {\n    measureSize,\n    startEdge,\n    endEdge\n  } = axis;\n  const withEdgeGap = slideRects[0] && readEdgeGap;\n  const startGap = measureStartGap();\n  const endGap = measureEndGap();\n  const slideSizes = slideRects.map(measureSize);\n  const slideSizesWithGaps = measureWithGaps();\n  function measureStartGap() {\n    if (!withEdgeGap) return 0;\n    const slideRect = slideRects[0];\n    return mathAbs(containerRect[startEdge] - slideRect[startEdge]);\n  }\n  function measureEndGap() {\n    if (!withEdgeGap) return 0;\n    const style = ownerWindow.getComputedStyle(arrayLast(slides));\n    return parseFloat(style.getPropertyValue(`margin-${endEdge}`));\n  }\n  function measureWithGaps() {\n    return slideRects.map((rect, index, rects) => {\n      const isFirst = !index;\n      const isLast = arrayIsLastIndex(rects, index);\n      if (isFirst) return slideSizes[index] + startGap;\n      if (isLast) return slideSizes[index] + endGap;\n      return rects[index + 1][startEdge] - rect[startEdge];\n    }).map(mathAbs);\n  }\n  const self = {\n    slideSizes,\n    slideSizesWithGaps,\n    startGap,\n    endGap\n  };\n  return self;\n}\n\nfunction SlidesToScroll(axis, viewSize, slidesToScroll, loop, containerRect, slideRects, startGap, endGap, pixelTolerance) {\n  const {\n    startEdge,\n    endEdge,\n    direction\n  } = axis;\n  const groupByNumber = isNumber(slidesToScroll);\n  function byNumber(array, groupSize) {\n    return arrayKeys(array).filter(i => i % groupSize === 0).map(i => array.slice(i, i + groupSize));\n  }\n  function bySize(array) {\n    if (!array.length) return [];\n    return arrayKeys(array).reduce((groups, rectB, index) => {\n      const rectA = arrayLast(groups) || 0;\n      const isFirst = rectA === 0;\n      const isLast = rectB === arrayLastIndex(array);\n      const edgeA = containerRect[startEdge] - slideRects[rectA][startEdge];\n      const edgeB = containerRect[startEdge] - slideRects[rectB][endEdge];\n      const gapA = !loop && isFirst ? direction(startGap) : 0;\n      const gapB = !loop && isLast ? direction(endGap) : 0;\n      const chunkSize = mathAbs(edgeB - gapB - (edgeA + gapA));\n      if (index && chunkSize > viewSize + pixelTolerance) groups.push(rectB);\n      if (isLast) groups.push(array.length);\n      return groups;\n    }, []).map((currentSize, index, groups) => {\n      const previousSize = Math.max(groups[index - 1] || 0);\n      return array.slice(previousSize, currentSize);\n    });\n  }\n  function groupSlides(array) {\n    return groupByNumber ? byNumber(array, slidesToScroll) : bySize(array);\n  }\n  const self = {\n    groupSlides\n  };\n  return self;\n}\n\nfunction Engine(root, container, slides, ownerDocument, ownerWindow, options, eventHandler) {\n  // Options\n  const {\n    align,\n    axis: scrollAxis,\n    direction,\n    startIndex,\n    loop,\n    duration,\n    dragFree,\n    dragThreshold,\n    inViewThreshold,\n    slidesToScroll: groupSlides,\n    skipSnaps,\n    containScroll,\n    watchResize,\n    watchSlides,\n    watchDrag,\n    watchFocus\n  } = options;\n  // Measurements\n  const pixelTolerance = 2;\n  const nodeRects = NodeRects();\n  const containerRect = nodeRects.measure(container);\n  const slideRects = slides.map(nodeRects.measure);\n  const axis = Axis(scrollAxis, direction);\n  const viewSize = axis.measureSize(containerRect);\n  const percentOfView = PercentOfView(viewSize);\n  const alignment = Alignment(align, viewSize);\n  const containSnaps = !loop && !!containScroll;\n  const readEdgeGap = loop || !!containScroll;\n  const {\n    slideSizes,\n    slideSizesWithGaps,\n    startGap,\n    endGap\n  } = SlideSizes(axis, containerRect, slideRects, slides, readEdgeGap, ownerWindow);\n  const slidesToScroll = SlidesToScroll(axis, viewSize, groupSlides, loop, containerRect, slideRects, startGap, endGap, pixelTolerance);\n  const {\n    snaps,\n    snapsAligned\n  } = ScrollSnaps(axis, alignment, containerRect, slideRects, slidesToScroll);\n  const contentSize = -arrayLast(snaps) + arrayLast(slideSizesWithGaps);\n  const {\n    snapsContained,\n    scrollContainLimit\n  } = ScrollContain(viewSize, contentSize, snapsAligned, containScroll, pixelTolerance);\n  const scrollSnaps = containSnaps ? snapsContained : snapsAligned;\n  const {\n    limit\n  } = ScrollLimit(contentSize, scrollSnaps, loop);\n  // Indexes\n  const index = Counter(arrayLastIndex(scrollSnaps), startIndex, loop);\n  const indexPrevious = index.clone();\n  const slideIndexes = arrayKeys(slides);\n  // Animation\n  const update = ({\n    dragHandler,\n    scrollBody,\n    scrollBounds,\n    options: {\n      loop\n    }\n  }) => {\n    if (!loop) scrollBounds.constrain(dragHandler.pointerDown());\n    scrollBody.seek();\n  };\n  const render = ({\n    scrollBody,\n    translate,\n    location,\n    offsetLocation,\n    previousLocation,\n    scrollLooper,\n    slideLooper,\n    dragHandler,\n    animation,\n    eventHandler,\n    scrollBounds,\n    options: {\n      loop\n    }\n  }, alpha) => {\n    const shouldSettle = scrollBody.settled();\n    const withinBounds = !scrollBounds.shouldConstrain();\n    const hasSettled = loop ? shouldSettle : shouldSettle && withinBounds;\n    const hasSettledAndIdle = hasSettled && !dragHandler.pointerDown();\n    if (hasSettledAndIdle) animation.stop();\n    const interpolatedLocation = location.get() * alpha + previousLocation.get() * (1 - alpha);\n    offsetLocation.set(interpolatedLocation);\n    if (loop) {\n      scrollLooper.loop(scrollBody.direction());\n      slideLooper.loop();\n    }\n    translate.to(offsetLocation.get());\n    if (hasSettledAndIdle) eventHandler.emit('settle');\n    if (!hasSettled) eventHandler.emit('scroll');\n  };\n  const animation = Animations(ownerDocument, ownerWindow, () => update(engine), alpha => render(engine, alpha));\n  // Shared\n  const friction = 0.68;\n  const startLocation = scrollSnaps[index.get()];\n  const location = Vector1D(startLocation);\n  const previousLocation = Vector1D(startLocation);\n  const offsetLocation = Vector1D(startLocation);\n  const target = Vector1D(startLocation);\n  const scrollBody = ScrollBody(location, offsetLocation, previousLocation, target, duration, friction);\n  const scrollTarget = ScrollTarget(loop, scrollSnaps, contentSize, limit, target);\n  const scrollTo = ScrollTo(animation, index, indexPrevious, scrollBody, scrollTarget, target, eventHandler);\n  const scrollProgress = ScrollProgress(limit);\n  const eventStore = EventStore();\n  const slidesInView = SlidesInView(container, slides, eventHandler, inViewThreshold);\n  const {\n    slideRegistry\n  } = SlideRegistry(containSnaps, containScroll, scrollSnaps, scrollContainLimit, slidesToScroll, slideIndexes);\n  const slideFocus = SlideFocus(root, slides, slideRegistry, scrollTo, scrollBody, eventStore, eventHandler, watchFocus);\n  // Engine\n  const engine = {\n    ownerDocument,\n    ownerWindow,\n    eventHandler,\n    containerRect,\n    slideRects,\n    animation,\n    axis,\n    dragHandler: DragHandler(axis, root, ownerDocument, ownerWindow, target, DragTracker(axis, ownerWindow), location, animation, scrollTo, scrollBody, scrollTarget, index, eventHandler, percentOfView, dragFree, dragThreshold, skipSnaps, friction, watchDrag),\n    eventStore,\n    percentOfView,\n    index,\n    indexPrevious,\n    limit,\n    location,\n    offsetLocation,\n    previousLocation,\n    options,\n    resizeHandler: ResizeHandler(container, eventHandler, ownerWindow, slides, axis, watchResize, nodeRects),\n    scrollBody,\n    scrollBounds: ScrollBounds(limit, offsetLocation, target, scrollBody, percentOfView),\n    scrollLooper: ScrollLooper(contentSize, limit, offsetLocation, [location, offsetLocation, previousLocation, target]),\n    scrollProgress,\n    scrollSnapList: scrollSnaps.map(scrollProgress.get),\n    scrollSnaps,\n    scrollTarget,\n    scrollTo,\n    slideLooper: SlideLooper(axis, viewSize, contentSize, slideSizes, slideSizesWithGaps, snaps, scrollSnaps, offsetLocation, slides),\n    slideFocus,\n    slidesHandler: SlidesHandler(container, eventHandler, watchSlides),\n    slidesInView,\n    slideIndexes,\n    slideRegistry,\n    slidesToScroll,\n    target,\n    translate: Translate(axis, container)\n  };\n  return engine;\n}\n\nfunction EventHandler() {\n  let listeners = {};\n  let api;\n  function init(emblaApi) {\n    api = emblaApi;\n  }\n  function getListeners(evt) {\n    return listeners[evt] || [];\n  }\n  function emit(evt) {\n    getListeners(evt).forEach(e => e(api, evt));\n    return self;\n  }\n  function on(evt, cb) {\n    listeners[evt] = getListeners(evt).concat([cb]);\n    return self;\n  }\n  function off(evt, cb) {\n    listeners[evt] = getListeners(evt).filter(e => e !== cb);\n    return self;\n  }\n  function clear() {\n    listeners = {};\n  }\n  const self = {\n    init,\n    emit,\n    off,\n    on,\n    clear\n  };\n  return self;\n}\n\nconst defaultOptions = {\n  align: 'center',\n  axis: 'x',\n  container: null,\n  slides: null,\n  containScroll: 'trimSnaps',\n  direction: 'ltr',\n  slidesToScroll: 1,\n  inViewThreshold: 0,\n  breakpoints: {},\n  dragFree: false,\n  dragThreshold: 10,\n  loop: false,\n  skipSnaps: false,\n  duration: 25,\n  startIndex: 0,\n  active: true,\n  watchDrag: true,\n  watchResize: true,\n  watchSlides: true,\n  watchFocus: true\n};\n\nfunction OptionsHandler(ownerWindow) {\n  function mergeOptions(optionsA, optionsB) {\n    return objectsMergeDeep(optionsA, optionsB || {});\n  }\n  function optionsAtMedia(options) {\n    const optionsAtMedia = options.breakpoints || {};\n    const matchedMediaOptions = objectKeys(optionsAtMedia).filter(media => ownerWindow.matchMedia(media).matches).map(media => optionsAtMedia[media]).reduce((a, mediaOption) => mergeOptions(a, mediaOption), {});\n    return mergeOptions(options, matchedMediaOptions);\n  }\n  function optionsMediaQueries(optionsList) {\n    return optionsList.map(options => objectKeys(options.breakpoints || {})).reduce((acc, mediaQueries) => acc.concat(mediaQueries), []).map(ownerWindow.matchMedia);\n  }\n  const self = {\n    mergeOptions,\n    optionsAtMedia,\n    optionsMediaQueries\n  };\n  return self;\n}\n\nfunction PluginsHandler(optionsHandler) {\n  let activePlugins = [];\n  function init(emblaApi, plugins) {\n    activePlugins = plugins.filter(({\n      options\n    }) => optionsHandler.optionsAtMedia(options).active !== false);\n    activePlugins.forEach(plugin => plugin.init(emblaApi, optionsHandler));\n    return plugins.reduce((map, plugin) => Object.assign(map, {\n      [plugin.name]: plugin\n    }), {});\n  }\n  function destroy() {\n    activePlugins = activePlugins.filter(plugin => plugin.destroy());\n  }\n  const self = {\n    init,\n    destroy\n  };\n  return self;\n}\n\nfunction EmblaCarousel(root, userOptions, userPlugins) {\n  const ownerDocument = root.ownerDocument;\n  const ownerWindow = ownerDocument.defaultView;\n  const optionsHandler = OptionsHandler(ownerWindow);\n  const pluginsHandler = PluginsHandler(optionsHandler);\n  const mediaHandlers = EventStore();\n  const eventHandler = EventHandler();\n  const {\n    mergeOptions,\n    optionsAtMedia,\n    optionsMediaQueries\n  } = optionsHandler;\n  const {\n    on,\n    off,\n    emit\n  } = eventHandler;\n  const reInit = reActivate;\n  let destroyed = false;\n  let engine;\n  let optionsBase = mergeOptions(defaultOptions, EmblaCarousel.globalOptions);\n  let options = mergeOptions(optionsBase);\n  let pluginList = [];\n  let pluginApis;\n  let container;\n  let slides;\n  function storeElements() {\n    const {\n      container: userContainer,\n      slides: userSlides\n    } = options;\n    const customContainer = isString(userContainer) ? root.querySelector(userContainer) : userContainer;\n    container = customContainer || root.children[0];\n    const customSlides = isString(userSlides) ? container.querySelectorAll(userSlides) : userSlides;\n    slides = [].slice.call(customSlides || container.children);\n  }\n  function createEngine(options) {\n    const engine = Engine(root, container, slides, ownerDocument, ownerWindow, options, eventHandler);\n    if (options.loop && !engine.slideLooper.canLoop()) {\n      const optionsWithoutLoop = Object.assign({}, options, {\n        loop: false\n      });\n      return createEngine(optionsWithoutLoop);\n    }\n    return engine;\n  }\n  function activate(withOptions, withPlugins) {\n    if (destroyed) return;\n    optionsBase = mergeOptions(optionsBase, withOptions);\n    options = optionsAtMedia(optionsBase);\n    pluginList = withPlugins || pluginList;\n    storeElements();\n    engine = createEngine(options);\n    optionsMediaQueries([optionsBase, ...pluginList.map(({\n      options\n    }) => options)]).forEach(query => mediaHandlers.add(query, 'change', reActivate));\n    if (!options.active) return;\n    engine.translate.to(engine.location.get());\n    engine.animation.init();\n    engine.slidesInView.init();\n    engine.slideFocus.init(self);\n    engine.eventHandler.init(self);\n    engine.resizeHandler.init(self);\n    engine.slidesHandler.init(self);\n    if (engine.options.loop) engine.slideLooper.loop();\n    if (container.offsetParent && slides.length) engine.dragHandler.init(self);\n    pluginApis = pluginsHandler.init(self, pluginList);\n  }\n  function reActivate(withOptions, withPlugins) {\n    const startIndex = selectedScrollSnap();\n    deActivate();\n    activate(mergeOptions({\n      startIndex\n    }, withOptions), withPlugins);\n    eventHandler.emit('reInit');\n  }\n  function deActivate() {\n    engine.dragHandler.destroy();\n    engine.eventStore.clear();\n    engine.translate.clear();\n    engine.slideLooper.clear();\n    engine.resizeHandler.destroy();\n    engine.slidesHandler.destroy();\n    engine.slidesInView.destroy();\n    engine.animation.destroy();\n    pluginsHandler.destroy();\n    mediaHandlers.clear();\n  }\n  function destroy() {\n    if (destroyed) return;\n    destroyed = true;\n    mediaHandlers.clear();\n    deActivate();\n    eventHandler.emit('destroy');\n    eventHandler.clear();\n  }\n  function scrollTo(index, jump, direction) {\n    if (!options.active || destroyed) return;\n    engine.scrollBody.useBaseFriction().useDuration(jump === true ? 0 : options.duration);\n    engine.scrollTo.index(index, direction || 0);\n  }\n  function scrollNext(jump) {\n    const next = engine.index.add(1).get();\n    scrollTo(next, jump, -1);\n  }\n  function scrollPrev(jump) {\n    const prev = engine.index.add(-1).get();\n    scrollTo(prev, jump, 1);\n  }\n  function canScrollNext() {\n    const next = engine.index.add(1).get();\n    return next !== selectedScrollSnap();\n  }\n  function canScrollPrev() {\n    const prev = engine.index.add(-1).get();\n    return prev !== selectedScrollSnap();\n  }\n  function scrollSnapList() {\n    return engine.scrollSnapList;\n  }\n  function scrollProgress() {\n    return engine.scrollProgress.get(engine.offsetLocation.get());\n  }\n  function selectedScrollSnap() {\n    return engine.index.get();\n  }\n  function previousScrollSnap() {\n    return engine.indexPrevious.get();\n  }\n  function slidesInView() {\n    return engine.slidesInView.get();\n  }\n  function slidesNotInView() {\n    return engine.slidesInView.get(false);\n  }\n  function plugins() {\n    return pluginApis;\n  }\n  function internalEngine() {\n    return engine;\n  }\n  function rootNode() {\n    return root;\n  }\n  function containerNode() {\n    return container;\n  }\n  function slideNodes() {\n    return slides;\n  }\n  const self = {\n    canScrollNext,\n    canScrollPrev,\n    containerNode,\n    internalEngine,\n    destroy,\n    off,\n    on,\n    emit,\n    plugins,\n    previousScrollSnap,\n    reInit,\n    rootNode,\n    scrollNext,\n    scrollPrev,\n    scrollProgress,\n    scrollSnapList,\n    scrollTo,\n    selectedScrollSnap,\n    slideNodes,\n    slidesInView,\n    slidesNotInView\n  };\n  activate(userOptions, userPlugins);\n  setTimeout(() => eventHandler.emit('init'), 0);\n  return self;\n}\nEmblaCarousel.globalOptions = undefined;\n\nexport { EmblaCarousel as default };\n//# sourceMappingURL=embla-carousel.esm.js.map\n","import { useRef, useState, useCallback, useEffect } from 'react';\nimport { areOptionsEqual, arePluginsEqual, canUseDOM } from 'embla-carousel-reactive-utils';\nimport EmblaCarousel from 'embla-carousel';\n\nfunction useEmblaCarousel(options = {}, plugins = []) {\n  const storedOptions = useRef(options);\n  const storedPlugins = useRef(plugins);\n  const [emblaApi, setEmblaApi] = useState();\n  const [viewport, setViewport] = useState();\n  const reInit = useCallback(() => {\n    if (emblaApi) emblaApi.reInit(storedOptions.current, storedPlugins.current);\n  }, [emblaApi]);\n  useEffect(() => {\n    if (areOptionsEqual(storedOptions.current, options)) return;\n    storedOptions.current = options;\n    reInit();\n  }, [options, reInit]);\n  useEffect(() => {\n    if (arePluginsEqual(storedPlugins.current, plugins)) return;\n    storedPlugins.current = plugins;\n    reInit();\n  }, [plugins, reInit]);\n  useEffect(() => {\n    if (canUseDOM() && viewport) {\n      EmblaCarousel.globalOptions = useEmblaCarousel.globalOptions;\n      const newEmblaApi = EmblaCarousel(viewport, storedOptions.current, storedPlugins.current);\n      setEmblaApi(newEmblaApi);\n      return () => newEmblaApi.destroy();\n    } else {\n      setEmblaApi(undefined);\n    }\n  }, [viewport, setEmblaApi]);\n  return [setViewport, emblaApi];\n}\nuseEmblaCarousel.globalOptions = undefined;\n\nexport { useEmblaCarousel as default };\n//# sourceMappingURL=embla-carousel-react.esm.js.map\n","const defaultOptions = {\n  active: true,\n  breakpoints: {},\n  delay: 4000,\n  jump: false,\n  playOnInit: true,\n  stopOnFocusIn: true,\n  stopOnInteraction: true,\n  stopOnMouseEnter: false,\n  stopOnLastSnap: false,\n  rootNode: null\n};\n\nfunction normalizeDelay(emblaApi, delay) {\n  const scrollSnaps = emblaApi.scrollSnapList();\n  if (typeof delay === 'number') {\n    return scrollSnaps.map(() => delay);\n  }\n  return delay(scrollSnaps, emblaApi);\n}\nfunction getAutoplayRootNode(emblaApi, rootNode) {\n  const emblaRootNode = emblaApi.rootNode();\n  return rootNode && rootNode(emblaRootNode) || emblaRootNode;\n}\n\nfunction Autoplay(userOptions = {}) {\n  let options;\n  let emblaApi;\n  let destroyed;\n  let delay;\n  let timerStartTime = null;\n  let timerId = 0;\n  let autoplayActive = false;\n  let mouseIsOver = false;\n  let playOnDocumentVisible = false;\n  let jump = false;\n  function init(emblaApiInstance, optionsHandler) {\n    emblaApi = emblaApiInstance;\n    const {\n      mergeOptions,\n      optionsAtMedia\n    } = optionsHandler;\n    const optionsBase = mergeOptions(defaultOptions, Autoplay.globalOptions);\n    const allOptions = mergeOptions(optionsBase, userOptions);\n    options = optionsAtMedia(allOptions);\n    if (emblaApi.scrollSnapList().length <= 1) return;\n    jump = options.jump;\n    destroyed = false;\n    delay = normalizeDelay(emblaApi, options.delay);\n    const {\n      eventStore,\n      ownerDocument\n    } = emblaApi.internalEngine();\n    const isDraggable = !!emblaApi.internalEngine().options.watchDrag;\n    const root = getAutoplayRootNode(emblaApi, options.rootNode);\n    eventStore.add(ownerDocument, 'visibilitychange', visibilityChange);\n    if (isDraggable) {\n      emblaApi.on('pointerDown', pointerDown);\n    }\n    if (isDraggable && !options.stopOnInteraction) {\n      emblaApi.on('pointerUp', pointerUp);\n    }\n    if (options.stopOnMouseEnter) {\n      eventStore.add(root, 'mouseenter', mouseEnter);\n    }\n    if (options.stopOnMouseEnter && !options.stopOnInteraction) {\n      eventStore.add(root, 'mouseleave', mouseLeave);\n    }\n    if (options.stopOnFocusIn) {\n      emblaApi.on('slideFocusStart', stopAutoplay);\n    }\n    if (options.stopOnFocusIn && !options.stopOnInteraction) {\n      eventStore.add(emblaApi.containerNode(), 'focusout', startAutoplay);\n    }\n    if (options.playOnInit) startAutoplay();\n  }\n  function destroy() {\n    emblaApi.off('pointerDown', pointerDown).off('pointerUp', pointerUp).off('slideFocusStart', stopAutoplay);\n    stopAutoplay();\n    destroyed = true;\n    autoplayActive = false;\n  }\n  function setTimer() {\n    const {\n      ownerWindow\n    } = emblaApi.internalEngine();\n    ownerWindow.clearTimeout(timerId);\n    timerId = ownerWindow.setTimeout(next, delay[emblaApi.selectedScrollSnap()]);\n    timerStartTime = new Date().getTime();\n    emblaApi.emit('autoplay:timerset');\n  }\n  function clearTimer() {\n    const {\n      ownerWindow\n    } = emblaApi.internalEngine();\n    ownerWindow.clearTimeout(timerId);\n    timerId = 0;\n    timerStartTime = null;\n    emblaApi.emit('autoplay:timerstopped');\n  }\n  function startAutoplay() {\n    if (destroyed) return;\n    if (documentIsHidden()) {\n      playOnDocumentVisible = true;\n      return;\n    }\n    if (!autoplayActive) emblaApi.emit('autoplay:play');\n    setTimer();\n    autoplayActive = true;\n  }\n  function stopAutoplay() {\n    if (destroyed) return;\n    if (autoplayActive) emblaApi.emit('autoplay:stop');\n    clearTimer();\n    autoplayActive = false;\n  }\n  function visibilityChange() {\n    if (documentIsHidden()) {\n      playOnDocumentVisible = autoplayActive;\n      return stopAutoplay();\n    }\n    if (playOnDocumentVisible) startAutoplay();\n  }\n  function documentIsHidden() {\n    const {\n      ownerDocument\n    } = emblaApi.internalEngine();\n    return ownerDocument.visibilityState === 'hidden';\n  }\n  function pointerDown() {\n    if (!mouseIsOver) stopAutoplay();\n  }\n  function pointerUp() {\n    if (!mouseIsOver) startAutoplay();\n  }\n  function mouseEnter() {\n    mouseIsOver = true;\n    stopAutoplay();\n  }\n  function mouseLeave() {\n    mouseIsOver = false;\n    startAutoplay();\n  }\n  function play(jumpOverride) {\n    if (typeof jumpOverride !== 'undefined') jump = jumpOverride;\n    startAutoplay();\n  }\n  function stop() {\n    if (autoplayActive) stopAutoplay();\n  }\n  function reset() {\n    if (autoplayActive) startAutoplay();\n  }\n  function isPlaying() {\n    return autoplayActive;\n  }\n  function next() {\n    const {\n      index\n    } = emblaApi.internalEngine();\n    const nextIndex = index.clone().add(1).get();\n    const lastIndex = emblaApi.scrollSnapList().length - 1;\n    const kill = options.stopOnLastSnap && nextIndex === lastIndex;\n    if (emblaApi.canScrollNext()) {\n      emblaApi.scrollNext(jump);\n    } else {\n      emblaApi.scrollTo(0, jump);\n    }\n    emblaApi.emit('autoplay:select');\n    if (kill) return stopAutoplay();\n    startAutoplay();\n  }\n  function timeUntilNext() {\n    if (!timerStartTime) return null;\n    const currentDelay = delay[emblaApi.selectedScrollSnap()];\n    const timePastSinceStart = new Date().getTime() - timerStartTime;\n    return currentDelay - timePastSinceStart;\n  }\n  const self = {\n    name: 'autoplay',\n    options: userOptions,\n    init,\n    destroy,\n    play,\n    stop,\n    reset,\n    isPlaying,\n    timeUntilNext\n  };\n  return self;\n}\nAutoplay.globalOptions = undefined;\n\nexport { Autoplay as default };\n//# sourceMappingURL=embla-carousel-autoplay.esm.js.map\n","import React, { useState, useCallback, useEffect } from 'react';\nimport useEmblaCarousel from 'embla-carousel-react';\nimport Autoplay from 'embla-carousel-autoplay';\nimport { GatsbyImage, getImage } from 'gatsby-plugin-image';\nimport { FaChevronLeft, FaChevronRight, FaGamepad } from 'react-icons/fa';\nimport Button from '@components/ui/Button';\n\nexport default function ProjectCarousel({ items, isArt = false, title }) {\n\tconst [emblaRef, emblaApi] = useEmblaCarousel({ loop: true, duration: 25 }, [\n\t\tAutoplay({ delay: 6000, stopOnInteraction: false }),\n\t]);\n\tconst [selectedIndex, setSelectedIndex] = useState(0);\n\n\tconst onSelect = useCallback(() => {\n\t\tif (!emblaApi) return;\n\t\tsetSelectedIndex(emblaApi.selectedScrollSnap());\n\t}, [emblaApi]);\n\n\tuseEffect(() => {\n\t\tif (!emblaApi) return;\n\t\temblaApi.on('select', onSelect);\n\t}, [emblaApi, onSelect]);\n\n\tconst scrollPrev = useCallback(\n\t\t() => emblaApi && emblaApi.scrollPrev(),\n\t\t[emblaApi]\n\t);\n\tconst scrollNext = useCallback(\n\t\t() => emblaApi && emblaApi.scrollNext(),\n\t\t[emblaApi]\n\t);\n\n\tconst formatDate = dateString => {\n\t\tif (!dateString) return '';\n\t\tconst date = new Date(dateString);\n\t\treturn new Intl.DateTimeFormat('en-US', {\n\t\t\tmonth: 'short',\n\t\t\tyear: 'numeric',\n\t\t}).format(date);\n\t};\n\n\tif (!items?.length) return null;\n\n\treturn (\n\t\t<div className=\"relative w-full h-full group select-none\">\n\t\t\t<div className=\"overflow-hidden w-full h-full\" ref={emblaRef}>\n\t\t\t\t<div className=\"flex w-full h-full touch-pan-y\">\n\t\t\t\t\t{items.map(item => {\n\t\t\t\t\t\t// const image = getImage(item.thumbnail);\n\t\t\t\t\t\tconst isGif = item.thumbnail?.file?.contentType === 'image/gif';\n\t\t\t\t\t\tconst image = !isGif\n\t\t\t\t\t\t\t? getImage(item.thumbnail?.gatsbyImageData)\n\t\t\t\t\t\t\t: null;\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"relative flex-[0_0_100%] min-w-0 w-full h-full\"\n\t\t\t\t\t\t\t\tkey={item.id}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{/* 1. Full Cover Image */}\n\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 w-full h-full pointer-events-none\">\n\t\t\t\t\t\t\t\t\t{isGif ? (\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\tsrc={item.thumbnail.file.url}\n\t\t\t\t\t\t\t\t\t\t\talt={item.title || 'Project GIF'}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full h-full object-cover\"\n\t\t\t\t\t\t\t\t\t\t\tloading=\"lazy\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : image ? (\n\t\t\t\t\t\t\t\t\t\t<GatsbyImage\n\t\t\t\t\t\t\t\t\t\t\timage={image}\n\t\t\t\t\t\t\t\t\t\t\talt={item.title || 'Project Image'}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full h-full\"\n\t\t\t\t\t\t\t\t\t\t\timgStyle={{ objectFit: 'cover' }}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<div className=\"w-full h-full bg-[#1a1a1a] flex items-center justify-center\">\n\t\t\t\t\t\t\t\t\t\t\t<FaGamepad size={64} className=\"opacity-10\" />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{/* 2. Gradient Overlay */}\n\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 bg-gradient-to-t from-[#0f0f0f] via-[#0f0f0f]/60 to-transparent opacity-95\" />\n\n\t\t\t\t\t\t\t\t{/* 3. Text Content */}\n\t\t\t\t\t\t\t\t<div className=\"absolute bottom-0 left-0 w-full p-6 md:p-8 flex flex-col items-start z-10\">\n\t\t\t\t\t\t\t\t\t{/* Date Badge */}\n\t\t\t\t\t\t\t\t\t<div className=\"mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-[10px] font-bold text-black bg-primary-500 px-2 py-0.5 rounded uppercase tracking-wider\">\n\t\t\t\t\t\t\t\t\t\t\t{isArt ? 'Art' : 'Game'}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs font-mono text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t{formatDate(item.date)}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<h3 className=\"text-3xl lg:text-4xl font-bold text-white leading-none mb-4 drop-shadow-lg\">\n\t\t\t\t\t\t\t\t\t\t{item.title}\n\t\t\t\t\t\t\t\t\t</h3>\n\n\t\t\t\t\t\t\t\t\t{/* Buttons List */}\n\t\t\t\t\t\t\t\t\t<div className=\"flex flex-wrap gap-3 mt-2\">\n\t\t\t\t\t\t\t\t\t\t{item.buttons &&\n\t\t\t\t\t\t\t\t\t\t\titem.buttons.map(btn => (\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={btn.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\thref={btn.url}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant={'hybrid'}\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon={!isArt && FaGamepad}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{btn.title}\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t{(!item.buttons || item.buttons.length === 0) && (\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs text-gray-500 italic\">\n\t\t\t\t\t\t\t\t\t\t\t\tNo links available\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Title Overlay (Top Left) */}\n\t\t\t<div className=\"absolute top-6 left-6 z-20 pointer-events-none\">\n\t\t\t\t<h4 className=\"text-white/50 text-xs font-bold uppercase tracking-[0.2em]\">\n\t\t\t\t\t{title}\n\t\t\t\t</h4>\n\t\t\t</div>\n\n\t\t\t{/* Navigation Controls */}\n\t\t\t<div className=\"absolute top-6 right-6 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity z-30 duration-300\">\n\t\t\t\t<button\n\t\t\t\t\tonClick={scrollPrev}\n\t\t\t\t\tclassName=\"bg-black/40 hover:bg-white hover:text-black border border-white/10 text-white p-3 rounded-full backdrop-blur-md transition-all\"\n\t\t\t\t>\n\t\t\t\t\t<FaChevronLeft size={14} />\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={scrollNext}\n\t\t\t\t\tclassName=\"bg-black/40 hover:bg-white hover:text-black border border-white/10 text-white p-3 rounded-full backdrop-blur-md transition-all\"\n\t\t\t\t>\n\t\t\t\t\t<FaChevronRight size={14} />\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t{/* Dots */}\n\t\t\t<div className=\"absolute bottom-8 right-8 flex gap-1.5 z-20\">\n\t\t\t\t{items.map((_, i) => (\n\t\t\t\t\t<div\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\tclassName={`h-1.5 rounded-full transition-all duration-500 ${\n\t\t\t\t\t\t\ti === selectedIndex ? 'w-6 bg-primary-500' : 'w-1.5 bg-white/20'\n\t\t\t\t\t\t}`}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we dont ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isnt worried about live collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// dont; wed rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and were done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {pointer, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nconst {abs, max, min} = Math;\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name __brush rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection, event) {\n    if (group.tween) {\n      group\n          .on(\"start.brush\", function(event) { emitter(this, arguments).beforestart().start(event); })\n          .on(\"interrupt.brush end.brush\", function(event) { emitter(this, arguments).end(event); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start(event).brush(event).end(event);\n          });\n    }\n  };\n\n  brush.clear = function(group, event) {\n    brush.move(group, null, event);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    var emit = that.__brush.emitter;\n    return emit && (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);\n  }\n\n  function Emitter(that, args, clean) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n    this.clean = clean;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function(event, mode) {\n      if (this.starting) this.starting = false, this.emit(\"start\", event, mode);\n      else this.emit(\"brush\", event);\n      return this;\n    },\n    brush: function(event, mode) {\n      this.emit(\"brush\", event, mode);\n      return this;\n    },\n    end: function(event, mode) {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\", event, mode);\n      return this;\n    },\n    emit: function(type, event, mode) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new BrushEvent(type, {\n          sourceEvent: event,\n          target: brush,\n          selection: dim.output(this.state.selection),\n          mode,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function started(event) {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        points = Array.from(event.touches || [event], t => {\n          const i = t.identifier;\n          t = pointer(t, that);\n          t.point0 = t.slice();\n          t.identifier = i;\n          return t;\n        });\n\n    interrupt(that);\n    var emit = emitter(that, arguments, true).beforestart();\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      const pts = [points[0], points[1] || points[0]];\n      state.selection = selection = [[\n          w0 = dim === Y ? W : min(pts[0][0], pts[1][0]),\n          n0 = dim === X ? N : min(pts[0][1], pts[1][1])\n        ], [\n          e0 = dim === Y ? E : max(pts[0][0], pts[1][0]),\n          s0 = dim === X ? S : max(pts[0][1], pts[1][1])\n        ]];\n      if (points.length > 1) move(event);\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    redraw.call(that);\n    emit.start(event, mode.name);\n\n    function moved(event) {\n      for (const p of event.changedTouches || [event]) {\n        for (const d of points)\n          if (d.identifier === p.identifier) d.cur = pointer(p, that);\n      }\n      if (shifting && !lockX && !lockY && points.length === 1) {\n        const point = points[0];\n        if (abs(point.cur[0] - point[0]) > abs(point.cur[1] - point[1]))\n          lockY = true;\n        else\n          lockX = true;\n      }\n      for (const point of points)\n        if (point.cur) point[0] = point.cur[0], point[1] = point.cur[1];\n      moving = true;\n      noevent(event);\n      move(event);\n    }\n\n    function move(event) {\n      const point = points[0], point0 = point.point0;\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = max(W - w0, min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = max(N - n0, min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (points[1]) {\n            if (signX) w1 = max(W, min(E, points[0][0])), e1 = max(W, min(E, points[1][0])), signX = 1;\n            if (signY) n1 = max(N, min(S, points[0][1])), s1 = max(N, min(S, points[1][1])), signY = 1;\n          } else {\n            if (signX < 0) dx = max(W - w0, min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n            else if (signX > 0) dx = max(W - e0, min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n            if (signY < 0) dy = max(N - n0, min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n            else if (signY > 0) dy = max(N - s0, min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          }\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = max(W, min(E, w0 - dx * signX)), e1 = max(W, min(E, e0 + dx * signX));\n          if (signY) n1 = max(N, min(S, n0 - dy * signY)), s1 = max(N, min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush(event, mode.name);\n      }\n    }\n\n    function ended(event) {\n      nopropagation(event);\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end(event, mode.name);\n    }\n\n    function keydowned(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n\n    function keyupped(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move(event);\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n  }\n\n  function touchmoved(event) {\n    emitter(this, arguments).moved(event);\n  }\n\n  function touchended(event) {\n    emitter(this, arguments).ended(event);\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n","export default x => x;\n","function streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nexport default function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n}\n","// https://github.com/python/cpython/blob/a74eea238f5baba15797e2e8b570d153bc8690a7/Modules/mathmodule.c#L1423\nexport class Adder {\n  constructor() {\n    this._partials = new Float64Array(32);\n    this._n = 0;\n  }\n  add(x) {\n    const p = this._partials;\n    let i = 0;\n    for (let j = 0; j < this._n && j < 32; j++) {\n      const y = p[j],\n        hi = x + y,\n        lo = Math.abs(x) < Math.abs(y) ? x - (hi - y) : y - (hi - x);\n      if (lo) p[i++] = lo;\n      x = hi;\n    }\n    p[i] = x;\n    this._n = i + 1;\n    return this;\n  }\n  valueOf() {\n    const p = this._partials;\n    let n = this._n, x, y, lo, hi = 0;\n    if (n > 0) {\n      hi = p[--n];\n      while (n > 0) {\n        x = hi;\n        y = p[--n];\n        hi = x + y;\n        lo = y - (hi - x);\n        if (lo) break;\n      }\n      if (n > 0 && ((lo < 0 && p[n - 1] < 0) || (lo > 0 && p[n - 1] > 0))) {\n        y = lo * 2;\n        x = hi + y;\n        if (y == x - hi) hi = x;\n      }\n    }\n    return hi;\n  }\n}\n\nexport function fsum(values, valueof) {\n  const adder = new Adder();\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        adder.add(value);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        adder.add(value);\n      }\n    }\n  }\n  return +adder;\n}\n\nexport function fcumsum(values, valueof) {\n  const adder = new Adder();\n  let index = -1;\n  return Float64Array.from(values, valueof === undefined\n      ? v => adder.add(+v || 0)\n      : v => adder.add(+valueof(v, ++index, values) || 0)\n  );\n}\n","export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var hypot = Math.hypot;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n","export default function noop() {}\n","import {Adder} from \"d3-array\";\nimport {abs} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar areaSum = new Adder(),\n    areaRingSum = new Adder(),\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop;\n    areaSum.add(abs(areaRingSum));\n    areaRingSum = new Adder();\n  },\n  result: function() {\n    var area = areaSum / 2;\n    areaSum = new Adder();\n    return area;\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaPointFirst(x, y) {\n  areaStream.point = areaPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction areaPoint(x, y) {\n  areaRingSum.add(y0 * x - x0 * y);\n  x0 = x, y0 = y;\n}\n\nfunction areaRingEnd() {\n  areaPoint(x00, y00);\n}\n\nexport default areaStream;\n","import noop from \"../noop.js\";\n\nvar x0 = Infinity,\n    y0 = x0,\n    x1 = -x0,\n    y1 = x1;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop,\n  result: function() {\n    var bounds = [[x0, y0], [x1, y1]];\n    x1 = y1 = -(y0 = x0 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint(x, y) {\n  if (x < x0) x0 = x;\n  if (x > x1) x1 = x;\n  if (y < y0) y0 = y;\n  if (y > y1) y1 = y;\n}\n\nexport default boundsStream;\n","import {sqrt} from \"../math.js\";\n\n// TODO Enforce positive area for exterior, negative area for interior?\n\nvar X0 = 0,\n    Y0 = 0,\n    Z0 = 0,\n    X1 = 0,\n    Y1 = 0,\n    Z1 = 0,\n    X2 = 0,\n    Y2 = 0,\n    Z2 = 0,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar centroidStream = {\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.point = centroidPoint;\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  },\n  result: function() {\n    var centroid = Z2 ? [X2 / Z2, Y2 / Z2]\n        : Z1 ? [X1 / Z1, Y1 / Z1]\n        : Z0 ? [X0 / Z0, Y0 / Z0]\n        : [NaN, NaN];\n    X0 = Y0 = Z0 =\n    X1 = Y1 = Z1 =\n    X2 = Y2 = Z2 = 0;\n    return centroid;\n  }\n};\n\nfunction centroidPoint(x, y) {\n  X0 += x;\n  Y0 += y;\n  ++Z0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidPointFirstLine;\n}\n\nfunction centroidPointFirstLine(x, y) {\n  centroidStream.point = centroidPointLine;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidPointLine(x, y) {\n  var dx = x - x0, dy = y - y0, z = sqrt(dx * dx + dy * dy);\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingStart() {\n  centroidStream.point = centroidPointFirstRing;\n}\n\nfunction centroidRingEnd() {\n  centroidPointRing(x00, y00);\n}\n\nfunction centroidPointFirstRing(x, y) {\n  centroidStream.point = centroidPointRing;\n  centroidPoint(x00 = x0 = x, y00 = y0 = y);\n}\n\nfunction centroidPointRing(x, y) {\n  var dx = x - x0,\n      dy = y - y0,\n      z = sqrt(dx * dx + dy * dy);\n\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n\n  z = y0 * x - x0 * y;\n  X2 += z * (x0 + x);\n  Y2 += z * (y0 + y);\n  Z2 += z * 3;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nexport default centroidStream;\n","import {tau} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nexport default function PathContext(context) {\n  this._context = context;\n}\n\nPathContext.prototype = {\n  _radius: 4.5,\n  pointRadius: function(_) {\n    return this._radius = _, this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._context.closePath();\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._context.moveTo(x, y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._context.lineTo(x, y);\n        break;\n      }\n      default: {\n        this._context.moveTo(x + this._radius, y);\n        this._context.arc(x, y, this._radius, 0, tau);\n        break;\n      }\n    }\n  },\n  result: noop\n};\n","import {Adder} from \"d3-array\";\nimport {sqrt} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar lengthSum = new Adder(),\n    lengthRing,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar lengthStream = {\n  point: noop,\n  lineStart: function() {\n    lengthStream.point = lengthPointFirst;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint(x00, y00);\n    lengthStream.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum;\n    lengthSum = new Adder();\n    return length;\n  }\n};\n\nfunction lengthPointFirst(x, y) {\n  lengthStream.point = lengthPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction lengthPoint(x, y) {\n  x0 -= x, y0 -= y;\n  lengthSum.add(sqrt(x0 * x0 + y0 * y0));\n  x0 = x, y0 = y;\n}\n\nexport default lengthStream;\n","// Simple caching for constant-radius points.\nlet cacheDigits, cacheAppend, cacheRadius, cacheCircle;\n\nexport default class PathString {\n  constructor(digits) {\n    this._append = digits == null ? append : appendRound(digits);\n    this._radius = 4.5;\n    this._ = \"\";\n  }\n  pointRadius(_) {\n    this._radius = +_;\n    return this;\n  }\n  polygonStart() {\n    this._line = 0;\n  }\n  polygonEnd() {\n    this._line = NaN;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {\n    if (this._line === 0) this._ += \"Z\";\n    this._point = NaN;\n  }\n  point(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._append`M${x},${y}`;\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._append`L${x},${y}`;\n        break;\n      }\n      default: {\n        this._append`M${x},${y}`;\n        if (this._radius !== cacheRadius || this._append !== cacheAppend) {\n          const r = this._radius;\n          const s = this._;\n          this._ = \"\"; // stash the old string so we can cache the circle path fragment\n          this._append`m0,${r}a${r},${r} 0 1,1 0,${-2 * r}a${r},${r} 0 1,1 0,${2 * r}z`;\n          cacheRadius = r;\n          cacheAppend = this._append;\n          cacheCircle = this._;\n          this._ = s;\n        }\n        this._ += cacheCircle;\n        break;\n      }\n    }\n  }\n  result() {\n    const result = this._;\n    this._ = \"\";\n    return result.length ? result : null;\n  }\n}\n\nfunction append(strings) {\n  let i = 1;\n  this._ += strings[0];\n  for (const j = strings.length; i < j; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  const d = Math.floor(digits);\n  if (!(d >= 0)) throw new RangeError(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  if (d !== cacheDigits) {\n    const k = 10 ** d;\n    cacheDigits = d;\n    cacheAppend = function append(strings) {\n      let i = 1;\n      this._ += strings[0];\n      for (const j = strings.length; i < j; ++i) {\n        this._ += Math.round(arguments[i] * k) / k + strings[i];\n      }\n    };\n  }\n  return cacheAppend;\n}\n","import noop from \"../noop.js\";\n\nexport default function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y, m) {\n      line.push([x, y, m]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n}\n","import {abs, epsilon} from \"./math.js\";\n\nexport default function(a, b) {\n  return abs(a[0] - b[0]) < epsilon && abs(a[1] - b[1]) < epsilon;\n}\n","import pointEqual from \"../pointEqual.js\";\nimport {epsilon} from \"../math.js\";\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nexport default function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    if (pointEqual(p0, p1)) {\n      if (!p0[2] && !p1[2]) {\n        stream.lineStart();\n        for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n        stream.lineEnd();\n        return;\n      }\n      // handle degenerate cases by moving the point\n      p1[0] += 2 * epsilon;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n}\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n","import {asin, atan2, cos, sin, sqrt} from \"./math.js\";\n\nexport function spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nexport function cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nexport function cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nexport function cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nexport function cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nexport function cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n","import {Adder} from \"d3-array\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, epsilon2, halfPi, pi, quarterPi, sign, sin, tau} from \"./math.js\";\n\nfunction longitude(point) {\n  return abs(point[0]) <= pi ? point[0] : sign(point[0]) * ((abs(point[0]) + pi) % tau - pi);\n}\n\nexport default function(polygon, point) {\n  var lambda = longitude(point),\n      phi = point[1],\n      sinPhi = sin(phi),\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  var sum = new Adder();\n\n  if (sinPhi === 1) phi = halfPi + epsilon;\n  else if (sinPhi === -1) phi = -halfPi - epsilon;\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = longitude(point0),\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = longitude(point1),\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the points meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon2) ^ (winding & 1);\n}\n","function* flatten(arrays) {\n  for (const array of arrays) {\n    yield* array;\n  }\n}\n\nexport default function merge(arrays) {\n  return Array.from(flatten(arrays));\n}\n","import clipBuffer from \"./buffer.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {epsilon, halfPi} from \"../math.js\";\nimport polygonContains from \"../polygonContains.js\";\nimport {merge} from \"d3-array\";\n\nexport default function(pointVisible, clipLine, interpolate, start) {\n  return function(sink) {\n    var line = clipLine(sink),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = merge(segments);\n        var startInside = polygonContains(polygon, start);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipRejoin(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      if (pointVisible(lambda, phi)) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      line.point(lambda, phi);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      ringSink.point(lambda, phi);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n}\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi - epsilon : halfPi - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi - epsilon : halfPi - b[1]);\n}\n","import clip from \"./index.js\";\nimport {abs, atan, cos, epsilon, halfPi, pi, sin} from \"../math.js\";\n\nexport default clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi, -halfPi]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi : -pi,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi) < epsilon) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi : -halfPi);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon) lambda0 -= sign0 * epsilon; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon) lambda1 -= sign1 * epsilon;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon\n      ? atan((sin(phi0) * (cosPhi1 = cos(phi1)) * sin(lambda1)\n          - sin(phi1) * (cosPhi0 = cos(phi0)) * sin(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi;\n    stream.point(-pi, phi);\n    stream.point(0, phi);\n    stream.point(pi, phi);\n    stream.point(pi, 0);\n    stream.point(pi, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi, -phi);\n    stream.point(-pi, 0);\n    stream.point(-pi, phi);\n  } else if (abs(from[0] - to[0]) > epsilon) {\n    var lambda = from[0] < to[0] ? pi : -pi;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n","import {cartesian, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport constant from \"./constant.js\";\nimport {acos, cos, degrees, epsilon, radians, sin, tau} from \"./math.js\";\nimport {rotateRadians} from \"./rotation.js\";\n\n// Generates a circle centered at [0, 0], with a given radius and precision.\nexport function circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos(radius),\n      sinRadius = sin(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos(t), -sinRadius * sin(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau - epsilon) % tau;\n}\n\nexport default function() {\n  var center = constant([0, 0]),\n      radius = constant(90),\n      precision = constant(2),\n      ring,\n      rotate,\n      stream = {point: point};\n\n  function point(x, y) {\n    ring.push(x = rotate(x, y));\n    x[0] *= degrees, x[1] *= degrees;\n  }\n\n  function circle() {\n    var c = center.apply(this, arguments),\n        r = radius.apply(this, arguments) * radians,\n        p = precision.apply(this, arguments) * radians;\n    ring = [];\n    rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n    circleStream(stream, r, p, 1);\n    c = {type: \"Polygon\", coordinates: [ring]};\n    ring = rotate = null;\n    return c;\n  }\n\n  circle.center = function(_) {\n    return arguments.length ? (center = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), circle) : center;\n  };\n\n  circle.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), circle) : radius;\n  };\n\n  circle.precision = function(_) {\n    return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant(+_), circle) : precision;\n  };\n\n  return circle;\n}\n","import {abs, epsilon} from \"../math.js\";\nimport clipBuffer from \"./buffer.js\";\nimport clipLine from \"./line.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {merge} from \"d3-array\";\n\nvar clipMax = 1e9, clipMin = -clipMax;\n\n// TODO Use d3-polygons polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nexport default function clipRectangle(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = merge(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipRejoin(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n","export default function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n}\n","export default function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n}\n","import compose from \"./compose.js\";\nimport {abs, asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math.js\";\n\nfunction rotationIdentity(lambda, phi) {\n  if (abs(lambda) > pi) lambda -= Math.round(lambda / tau) * tau;\n  return [lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    lambda += deltaLambda;\n    if (abs(lambda) > pi) lambda -= Math.round(lambda / tau) * tau;\n    return [lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n","export default function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n}\n\nexport function transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n","import {default as geoStream} from \"../stream.js\";\nimport boundsStream from \"../path/bounds.js\";\n\nfunction fit(projection, fitBounds, object) {\n  var clip = projection.clipExtent && projection.clipExtent();\n  projection.scale(150).translate([0, 0]);\n  if (clip != null) projection.clipExtent(null);\n  geoStream(object, projection.stream(boundsStream));\n  fitBounds(boundsStream.result());\n  if (clip != null) projection.clipExtent(clip);\n  return projection;\n}\n\nexport function fitExtent(projection, extent, object) {\n  return fit(projection, function(b) {\n    var w = extent[1][0] - extent[0][0],\n        h = extent[1][1] - extent[0][1],\n        k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n        x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n        y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n\nexport function fitWidth(projection, width, object) {\n  return fit(projection, function(b) {\n    var w = +width,\n        k = w / (b[1][0] - b[0][0]),\n        x = (w - k * (b[1][0] + b[0][0])) / 2,\n        y = -k * b[0][1];\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitHeight(projection, height, object) {\n  return fit(projection, function(b) {\n    var h = +height,\n        k = h / (b[1][1] - b[0][1]),\n        x = -k * b[0][0],\n        y = (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n","import {cartesian} from \"../cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, radians, sqrt} from \"../math.js\";\nimport {transformer} from \"../transform.js\";\n\nvar maxDepth = 16, // maximum depth of subdivision\n    cosMinDistance = cos(30 * radians); // cos(minimum angular distance)\n\nexport default function(project, delta2) {\n  return +delta2 ? resample(project, delta2) : resampleNone(project);\n}\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon || abs(lambda0 - lambda1) < epsilon ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n","import clipAntimeridian from \"../clip/antimeridian.js\";\nimport clipCircle from \"../clip/circle.js\";\nimport clipRectangle from \"../clip/rectangle.js\";\nimport compose from \"../compose.js\";\nimport identity from \"../identity.js\";\nimport {cos, degrees, radians, sin, sqrt} from \"../math.js\";\nimport {rotateRadians} from \"../rotation.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport resample from \"./resample.js\";\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nfunction transformRotate(rotate) {\n  return transformer({\n    point: function(x, y) {\n      var r = rotate(x, y);\n      return this.stream.point(r[0], r[1]);\n    }\n  });\n}\n\nfunction scaleTranslate(k, dx, dy, sx, sy) {\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [dx + k * x, dy - k * y];\n  }\n  transform.invert = function(x, y) {\n    return [(x - dx) / k * sx, (dy - y) / k * sy];\n  };\n  return transform;\n}\n\nfunction scaleTranslateRotate(k, dx, dy, sx, sy, alpha) {\n  if (!alpha) return scaleTranslate(k, dx, dy, sx, sy);\n  var cosAlpha = cos(alpha),\n      sinAlpha = sin(alpha),\n      a = cosAlpha * k,\n      b = sinAlpha * k,\n      ai = cosAlpha / k,\n      bi = sinAlpha / k,\n      ci = (sinAlpha * dy - cosAlpha * dx) / k,\n      fi = (sinAlpha * dx + cosAlpha * dy) / k;\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [a * x - b * y + dx, dy - b * x - a * y];\n  }\n  transform.invert = function(x, y) {\n    return [sx * (ai * x - bi * y + ci), sy * (fi - bi * x - ai * y)];\n  };\n  return transform;\n}\n\nexport default function projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nexport function projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, // pre-rotate\n      alpha = 0, // post-rotate angle\n      sx = 1, // reflectX\n      sy = 1, // reflectX\n      theta = null, preclip = clipAntimeridian, // pre-clip angle\n      x0 = null, y0, x1, y1, postclip = identity, // post-clip extent\n      delta2 = 0.5, // precision\n      projectResample,\n      projectTransform,\n      projectRotateTransform,\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    return projectRotateTransform(point[0] * radians, point[1] * radians);\n  }\n\n  function invert(point) {\n    point = projectRotateTransform.invert(point[0], point[1]);\n    return point && [point[0] * degrees, point[1] * degrees];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(transformRotate(rotate)(preclip(projectResample(postclip(cacheStream = stream)))));\n  };\n\n  projection.preclip = function(_) {\n    return arguments.length ? (preclip = _, theta = undefined, reset()) : preclip;\n  };\n\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees, phi * degrees];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];\n  };\n\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, recenter()) : alpha * degrees;\n  };\n\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, recenter()) : sx < 0;\n  };\n\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, recenter()) : sy < 0;\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  function recenter() {\n    var center = scaleTranslateRotate(k, 0, 0, sx, sy, alpha).apply(null, project(lambda, phi)),\n        transform = scaleTranslateRotate(k, x - center[0], y - center[1], sx, sy, alpha);\n    rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma);\n    projectTransform = compose(project, transform);\n    projectRotateTransform = compose(rotate, projectTransform);\n    projectResample = resample(projectTransform, delta2);\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n","import {asin, atan2, cos, sin, sqrt} from \"../math.js\";\n\nexport function azimuthalRaw(scale) {\n  return function(x, y) {\n    var cx = cos(x),\n        cy = cos(y),\n        k = scale(cx * cy);\n        if (k === Infinity) return [2, 0];\n    return [\n      k * cy * sin(x),\n      k * sin(y)\n    ];\n  }\n}\n\nexport function azimuthalInvert(angle) {\n  return function(x, y) {\n    var z = sqrt(x * x + y * y),\n        c = angle(z),\n        sc = sin(c),\n        cc = cos(c);\n    return [\n      atan2(x * sc, z * cc),\n      asin(z && y * sc / z)\n    ];\n  }\n}\n","import {cartesian, cartesianAddInPlace, cartesianCross, cartesianDot, cartesianScale, spherical} from \"../cartesian.js\";\nimport {circleStream} from \"../circle.js\";\nimport {abs, cos, epsilon, pi, radians, sqrt} from \"../math.js\";\nimport pointEqual from \"../pointEqual.js\";\nimport clip from \"./index.js\";\n\nexport default function(radius) {\n  var cr = cos(radius),\n      delta = 2 * radians,\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos(lambda) * cos(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi : -pi), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2))\n            point1[2] = 1;\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1], 2);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1], 3);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1  n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi) < epsilon,\n        meridian = polar || delta < epsilon;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi, radius - pi]);\n}\n","import {asin, cos, epsilon, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function orthographicRaw(x, y) {\n  return [cos(y) * sin(x), sin(y)];\n}\n\northographicRaw.invert = azimuthalInvert(asin);\n\nexport default function() {\n  return projection(orthographicRaw)\n      .scale(249.5)\n      .clipAngle(90 + epsilon);\n}\n","import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","import React, { useEffect, useRef } from 'react';\nimport * as d3 from 'd3';\nimport worldData from '@lib/world.json';\n\nconst visitedCountries = [\n\t'Italy',\n\t'Vatican City',\n\t'Hungary',\n\t'Monaco',\n\t'Spain',\n\t'Czech Republic',\n\t'Turkey',\n\t'France',\n\t'Austria',\n\t'Romania',\n\t'Germany',\n\t'United Arab Emirates',\n\t'Japan',\n\t'Greece',\n\t'Poland',\n\t'Denmark',\n\t'Netherlands',\n];\n\nconst GlobeWidget = () => {\n\tconst containerRef = useRef(null);\n\n\tuseEffect(() => {\n\t\tif (!containerRef.current || !worldData) return;\n\n\t\tconst container = containerRef.current;\n\n\t\tconst draw = () => {\n\t\t\t// Clear\n\t\t\td3.select(container).selectAll('*').remove();\n\n\t\t\tconst width = container.clientWidth;\n\t\t\tconst height = container.clientHeight;\n\n\t\t\t// Calculate radius to fill well (about 80% of the smallest dimension)\n\t\t\tconst minDim = Math.min(width, height);\n\t\t\tconst scale = minDim / 2.2;\n\n\t\t\tconst projection = d3\n\t\t\t\t.geoOrthographic()\n\t\t\t\t.scale(scale)\n\t\t\t\t.center([0, 0])\n\t\t\t\t.rotate([0, -30])\n\t\t\t\t.translate([width / 2, height / 2]);\n\n\t\t\tconst pathGenerator = d3.geoPath().projection(projection);\n\n\t\t\tconst svg = d3\n\t\t\t\t.select(container)\n\t\t\t\t.append('svg')\n\t\t\t\t.attr('width', width)\n\t\t\t\t.attr('height', height)\n\t\t\t\t.style('display', 'block'); // Remove spaces below svg\n\n\t\t\t// Globe (ocean) background\n\t\t\tsvg\n\t\t\t\t.append('circle')\n\t\t\t\t.attr('fill', '#0a0a0a')\n\t\t\t\t.attr('stroke', '#333')\n\t\t\t\t.attr('stroke-width', 1)\n\t\t\t\t.attr('cx', width / 2)\n\t\t\t\t.attr('cy', height / 2)\n\t\t\t\t.attr('r', scale);\n\n\t\t\tconst map = svg.append('g');\n\n\t\t\t// Countries\n\t\t\tmap\n\t\t\t\t.selectAll('path')\n\t\t\t\t.data(worldData.features)\n\t\t\t\t.enter()\n\t\t\t\t.append('path')\n\t\t\t\t.attr('d', pathGenerator)\n\t\t\t\t.attr('fill', d =>\n\t\t\t\t\tvisitedCountries.includes(d.properties.name) ? '#eab308' : '#262626'\n\t\t\t\t)\n\t\t\t\t.attr('stroke', '#0a0a0a')\n\t\t\t\t.attr('stroke-width', 0.5);\n\n\t\t\t// Auto-rotation\n\t\t\tconst rotate = d3.timer(elapsed => {\n\t\t\t\tconst rotate = projection.rotate();\n\t\t\t\tprojection.rotate([rotate[0] + 0.15, rotate[1]]);\n\t\t\t\tsvg.selectAll('path').attr('d', pathGenerator);\n\t\t\t});\n\n\t\t\treturn () => rotate.stop();\n\t\t};\n\n\t\t// Render\n\t\tconst cleanup = draw();\n\n\t\t// Handle Resize\n\t\tconst resizeObserver = new ResizeObserver(() => {\n\t\t\tdraw();\n\t\t});\n\t\tresizeObserver.observe(container);\n\n\t\treturn () => {\n\t\t\tif (cleanup) cleanup();\n\t\t\tresizeObserver.disconnect();\n\t\t};\n\t}, []);\n\n\treturn <div ref={containerRef} className=\"w-full h-full min-h-[200px]\" />;\n};\n\nexport default GlobeWidget;\n","import identity from \"../identity.js\";\nimport stream from \"../stream.js\";\nimport pathArea from \"./area.js\";\nimport pathBounds from \"./bounds.js\";\nimport pathCentroid from \"./centroid.js\";\nimport PathContext from \"./context.js\";\nimport pathMeasure from \"./measure.js\";\nimport PathString from \"./string.js\";\n\nexport default function(projection, context) {\n  let digits = 3,\n      pointRadius = 4.5,\n      projectionStream,\n      contextStream;\n\n  function path(object) {\n    if (object) {\n      if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n      stream(object, projectionStream(contextStream));\n    }\n    return contextStream.result();\n  }\n\n  path.area = function(object) {\n    stream(object, projectionStream(pathArea));\n    return pathArea.result();\n  };\n\n  path.measure = function(object) {\n    stream(object, projectionStream(pathMeasure));\n    return pathMeasure.result();\n  };\n\n  path.bounds = function(object) {\n    stream(object, projectionStream(pathBounds));\n    return pathBounds.result();\n  };\n\n  path.centroid = function(object) {\n    stream(object, projectionStream(pathCentroid));\n    return pathCentroid.result();\n  };\n\n  path.projection = function(_) {\n    if (!arguments.length) return projection;\n    projectionStream = _ == null ? (projection = null, identity) : (projection = _).stream;\n    return path;\n  };\n\n  path.context = function(_) {\n    if (!arguments.length) return context;\n    contextStream = _ == null ? (context = null, new PathString(digits)) : new PathContext(context = _);\n    if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n    return path;\n  };\n\n  path.pointRadius = function(_) {\n    if (!arguments.length) return pointRadius;\n    pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n    return path;\n  };\n\n  path.digits = function(_) {\n    if (!arguments.length) return digits;\n    if (_ == null) digits = null;\n    else {\n      const d = Math.floor(_);\n      if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n      digits = d;\n    }\n    if (context === null) contextStream = new PathString(digits);\n    return path;\n  };\n\n  return path.projection(projection).digits(digits).context(context);\n}\n","import React from 'react';\nimport { FaRoute } from 'react-icons/fa6';\n\nconst events = [\n\t{\n\t\tyear: 'Mar 2022 - Now',\n\t\ttitle: 'Game Developer',\n\t\tcompany: 'App Ideas Games',\n\t\tactive: true,\n\t},\n\t{\n\t\tyear: 'Jan 2022',\n\t\ttitle: \"Bachelor's Degree in Computer Engineering\",\n\t\tcompany: 'University of Naples Federico II',\n\t\tactive: false,\n\t},\n\t{\n\t\tyear: 'May 2018 - Now',\n\t\ttitle: 'Game Developer & 3D Artist',\n\t\tcompany: 'Coding4rtist (Self Employed)',\n\t\tactive: true,\n\t},\n];\n\nexport default function TimelineWidget() {\n\treturn (\n\t\t<div className=\"p-6 h-full flex flex-col\">\n\t\t\t{/* Header Nuovo */}\n\t\t\t<div className=\"flex items-center gap-2 mb-6 opacity-80\">\n\t\t\t\t<FaRoute className=\"text-primary-500\" size={16} />\n\t\t\t\t<h3 className=\"text-white font-bold text-sm uppercase tracking-widest\">\n\t\t\t\t\tJourney\n\t\t\t\t</h3>\n\t\t\t</div>\n\n\t\t\t<div className=\"relative flex-1\">\n\t\t\t\t{/* \n            Vertical Line\n            Alignment Axis: 20px from left\n            Line Width: 4px -> Center is 2px.\n            Left Position: 20px - 2px = 18px.\n          */}\n\t\t\t\t<div className=\"absolute left-[18px] top-2 bottom-2 w-[4px] bg-white/10 rounded-full\" />\n\n\t\t\t\t<div className=\"space-y-8\">\n\t\t\t\t\t{events.map((e, i) => (\n\t\t\t\t\t\t<div key={i} className=\"relative pl-12 group\">\n\t\t\t\t\t\t\t{/* \n                  Dot\n                  Alignment Axis: 20px from left\n                  Dot Width: 16px (w-4) -> Center is 8px.\n                  Left Position: 20px - 8px = 12px.\n                */}\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={`absolute left-[12px] top-1 h-4 w-4 rounded-full border-[3px] border-[#0f0f0f] z-10 transition-all duration-300 ${\n\t\t\t\t\t\t\t\t\te.active\n\t\t\t\t\t\t\t\t\t\t? 'bg-primary-500 shadow-[0_0_12px_rgba(234,179,8,0.6)] scale-110'\n\t\t\t\t\t\t\t\t\t\t: 'bg-gray-700 group-hover:bg-primary-400 group-hover:scale-110'\n\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t{/* Content */}\n\t\t\t\t\t\t\t<div className=\"flex flex-col\">\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName={`text-xs font-mono font-bold mb-0.5 ${\n\t\t\t\t\t\t\t\t\t\te.active ? 'text-primary-400' : 'text-gray-500'\n\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{e.year}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<h4 className=\"text-lg font-bold text-gray-100 group-hover:text-primary-500 transition-colors\">\n\t\t\t\t\t\t\t\t\t{e.title}\n\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t<p className=\"text-xs text-gray-400 font-medium\">{e.company}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React from 'react';\nimport { FaBolt } from 'react-icons/fa6';\n\nexport default function TimelineWidget() {\n\treturn (\n\t\t<div className=\"flex flex-col justify-between h-full p-5\">\n\t\t\t<div className=\"flex items-center justify-between mb-2\">\n\t\t\t\t<h3 className=\"text-white font-bold text-lg drop-shadow-md flex items-center gap-2\">\n\t\t\t\t\t<FaBolt className=\"text-primary-500 text-sm\" /> Now\n\t\t\t\t</h3>\n\t\t\t\t<span className=\"relative flex h-2.5 w-2.5\">\n\t\t\t\t\t<span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75\"></span>\n\t\t\t\t\t<span className=\"relative inline-flex rounded-full h-2.5 w-2.5 bg-green-500\"></span>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t{/* <p className=\"text-md\">\n\t\t\t\t\tI'm working at AppIdeas on <i>MiniMonsters: Card Collector</i>.\n\t\t\t\t</p> */}\n\t\t\t\t<p className=\"text-md\">\n\t\t\t\t\tIn my free time I'm working on an update for{' '}\n\t\t\t\t\t<i>Who wants to be a murderer?</i>&nbsp; and on a brand new\n\t\t\t\t\tpsycological horror game!\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import * as React from 'react';\nimport { graphql } from 'gatsby';\nimport Layout from '@layouts/Layout';\nimport Seo from '@components/Seo';\nimport { BentoCard } from '@components/ui/BentoCard';\nimport AboutWidget from '@components/widgets/AboutWidget';\nimport ProjectCarousel from '@components/widgets/ProjectCarousel';\nimport GlobeWidget from '@components/widgets/GlobeWidget';\nimport TimelineWidget from '@components/widgets/TimelineWidget';\nimport NowWidget from '@components/widgets/NowWidget';\nimport { FaPlane } from 'react-icons/fa6';\n\nconst IndexPage = ({ data }) => {\n\tconst projects = data.allContentfulProject.edges.map(el => el.node);\n\tconst artworks = data.allContentfulArt.edges.map(el => el.node);\n\n\treturn (\n\t\t<Layout>\n\t\t\t{/* \n        GRID SYSTEM:\n        - Mobile (< 768px): Flex Column (Scrollable), altezza minima garantita per card.\n        - Tablet/Laptop (768px - 1280px): Grid 2 Colonne. Layout ottimizzato per evitare \"squeeze\".\n        - Desktop (> 1280px): Grid 4 Colonne (Dashboard fissa).\n      */}\n\t\t\t<div className=\"w-full min-h-screen xl:h-screen xl:max-h-screen p-4 md:p-8 xl:p-10 flex flex-col items-center justify-center overflow-x-hidden xl:overflow-hidden\">\n\t\t\t\t<div className=\"w-full max-w-[1920px] h-full grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 xl:grid-rows-6 gap-4 md:gap-6 auto-rows-min xl:auto-rows-fr\">\n\t\t\t\t\t{/* 1. ABOUT WIDGET */}\n\t\t\t\t\t<BentoCard\n\t\t\t\t\t\tcolSpan=\"md:col-span-1 xl:col-span-1\"\n\t\t\t\t\t\trowSpan=\"md:row-span-2 xl:row-span-6\"\n\t\t\t\t\t\tdelay={0.1}\n\t\t\t\t\t\tclassName=\"order-1 min-h-[500px] md:min-h-[auto]\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<AboutWidget />\n\t\t\t\t\t</BentoCard>\n\n\t\t\t\t\t{/* 2. NOW  */}\n\t\t\t\t\t<BentoCard\n\t\t\t\t\t\tcolSpan=\"md:col-span-1 xl:col-span-1\"\n\t\t\t\t\t\trowSpan=\"md:row-span-1 xl:row-span-1\"\n\t\t\t\t\t\tdelay={0.2}\n\t\t\t\t\t\tclassName=\"order-2 min-h-[160px]\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<NowWidget />\n\t\t\t\t\t</BentoCard>\n\n\t\t\t\t\t{/* 4. ARTWORKS */}\n\t\t\t\t\t<BentoCard\n\t\t\t\t\t\tcolSpan=\"md:col-span-1 xl:col-span-1\"\n\t\t\t\t\t\trowSpan=\"md:row-span-2 xl:row-span-4\"\n\t\t\t\t\t\tdelay={0.4}\n\t\t\t\t\t\tclassName=\"order-4 md:order-3 xl:order-4 p-0 min-h-[400px] md:min-h-[500px] xl:min-h-0\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<ProjectCarousel\n\t\t\t\t\t\t\titems={artworks}\n\t\t\t\t\t\t\tisArt={true}\n\t\t\t\t\t\t\ttitle=\"3D Artworks\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</BentoCard>\n\n\t\t\t\t\t{/* 3. PROJECTS */}\n\t\t\t\t\t<BentoCard\n\t\t\t\t\t\tcolSpan=\"md:col-span-1 xl:col-span-2\"\n\t\t\t\t\t\trowSpan=\"md:row-span-1 xl:row-span-3\"\n\t\t\t\t\t\tdelay={0.3}\n\t\t\t\t\t\tclassName=\"order-3 md:order-4 xl:order-3 p-0 min-h-[350px] md:min-h-[400px] xl:min-h-0\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<ProjectCarousel items={projects} title=\"Latest Games\" />\n\t\t\t\t\t</BentoCard>\n\n\t\t\t\t\t{/* 5. TIMELINE */}\n\t\t\t\t\t<BentoCard\n\t\t\t\t\t\tcolSpan=\"md:col-span-1 xl:col-span-1\"\n\t\t\t\t\t\trowSpan=\"md:row-span-2 xl:row-span-3\"\n\t\t\t\t\t\tdelay={0.5}\n\t\t\t\t\t\tclassName=\"order-5 overflow-y-auto no-scrollbar min-h-[350px] xl:min-h-0\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<TimelineWidget />\n\t\t\t\t\t</BentoCard>\n\n\t\t\t\t\t{/* 6. COUNTRIES VISITED */}\n\t\t\t\t\t<BentoCard\n\t\t\t\t\t\tcolSpan=\"md:col-span-1 xl:col-span-1\"\n\t\t\t\t\t\trowSpan=\"md:row-span-2 xl:row-span-2\"\n\t\t\t\t\t\tdelay={0.6}\n\t\t\t\t\t\tclassName=\"order-6 p-0 min-h-[350px] xl:min-h-0\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"absolute inset-0 w-full h-full \">\n\t\t\t\t\t\t\t<GlobeWidget />\n\t\t\t\t\t\t\t<div className=\"absolute top-5 left-5 pointer-events-none z-10\">\n\t\t\t\t\t\t\t\t<h3 className=\"text-white font-bold text-lg drop-shadow-md flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t<FaPlane className=\"text-primary-500 text-sm transform -rotate-45\" />{' '}\n\t\t\t\t\t\t\t\t\tVisited Countries\n\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</BentoCard>\n\n\t\t\t\t\t{/* 7. ALWAYS LEARNING */}\n\t\t\t\t\t<BentoCard\n\t\t\t\t\t\tcolSpan=\"md:col-span-1 xl:col-span-1\"\n\t\t\t\t\t\trowSpan=\"md:row-span-1 xl:row-span-1\"\n\t\t\t\t\t\tdelay={0.7}\n\t\t\t\t\t\tclassName=\"order-7 flex items-center justify-center min-h-[180px] md:min-h-[200px] xl:min-h-0\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<p className=\"text-2xl text-center underline underline-offset-8 decoration-3 decoration-primary-500\">\n\t\t\t\t\t\t\tAlways learning. Always improving.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</BentoCard>\n\n\t\t\t\t\t{/* 8. FOOTER / CRAFTED WITH */}\n\t\t\t\t\t<BentoCard\n\t\t\t\t\t\tcolSpan=\"md:col-span-1 xl:col-span-1\"\n\t\t\t\t\t\trowSpan=\"md:row-span-1 xl:row-span-1\"\n\t\t\t\t\t\tdelay={0.8}\n\t\t\t\t\t\tclassName=\"order-8 flex flex-col justify-center items-center text-center group cursor-default min-h-[180px] md:min-h-[200px] xl:min-h-0\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<p className=\"text-xl text-center\">\n\t\t\t\t\t\t\t 2026  Crafted with{' '}\n\t\t\t\t\t\t\t<span className=\"inline-block transition-transform group-hover:animate-heartbeat text-primary-500\">\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</span>{' '}\n\t\t\t\t\t\t\tby Coding4rtist.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</BentoCard>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Layout>\n\t);\n};\n\nexport default IndexPage;\n\nexport const query = graphql`\n\tquery {\n\t\tallContentfulProject(\n\t\t\tlimit: 5\n\t\t\tsort: { fields: [date], order: DESC }\n\t\t\tfilter: { featured: { eq: true } }\n\t\t) {\n\t\t\tedges {\n\t\t\t\tnode {\n\t\t\t\t\tid\n\t\t\t\t\ttitle\n\t\t\t\t\tdate\n\t\t\t\t\tthumbnail {\n\t\t\t\t\t\tgatsbyImageData(\n\t\t\t\t\t\t\twidth: 1200\n\t\t\t\t\t\t\tlayout: CONSTRAINED\n\t\t\t\t\t\t\tplaceholder: BLURRED\n\t\t\t\t\t\t\tformats: [AUTO, WEBP]\n\t\t\t\t\t\t)\n\t\t\t\t\t\tfile {\n\t\t\t\t\t\t\turl\n\t\t\t\t\t\t\tcontentType\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbuttons {\n\t\t\t\t\t\tid\n\t\t\t\t\t\ttitle\n\t\t\t\t\t\turl\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tallContentfulArt(\n\t\t\tlimit: 5\n\t\t\tsort: { fields: [date], order: DESC }\n\t\t\tfilter: { featured: { eq: true } }\n\t\t) {\n\t\t\tedges {\n\t\t\t\tnode {\n\t\t\t\t\tid\n\t\t\t\t\ttitle\n\t\t\t\t\tdate\n\t\t\t\t\tthumbnail {\n\t\t\t\t\t\tgatsbyImageData(\n\t\t\t\t\t\t\twidth: 800\n\t\t\t\t\t\t\tlayout: CONSTRAINED\n\t\t\t\t\t\t\tplaceholder: BLURRED\n\t\t\t\t\t\t\tformats: [AUTO, WEBP]\n\t\t\t\t\t\t\taspectRatio: 0.8\n\t\t\t\t\t\t)\n\t\t\t\t\t\tfile {\n\t\t\t\t\t\t\turl\n\t\t\t\t\t\t\tcontentType\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbuttons {\n\t\t\t\t\t\tid\n\t\t\t\t\t\ttitle\n\t\t\t\t\t\turl\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`;\n\nexport const Head = () => <Seo />;\n","import * as React from 'react';\n\nconst Layout = ({ children }) => {\n\treturn (\n\t\t<div className=\"relative min-h-screen w-full bg-dark-bg text-white selection:bg-primary-500 selection:text-black\">\n\t\t\t<main className=\"relative z-10 w-full h-full\">{children}</main>\n\t\t</div>\n\t);\n};\n\nexport default Layout;\n","import * as React from 'react';\nimport { useStaticQuery, graphql } from 'gatsby';\n\nfunction Seo({ description, title, children }) {\n\tconst { site } = useStaticQuery(\n\t\tgraphql`\n\t\t\tquery {\n\t\t\t\tsite {\n\t\t\t\t\tsiteMetadata {\n\t\t\t\t\t\ttitle\n\t\t\t\t\t\tdescription\n\t\t\t\t\t\tauthor\n\t\t\t\t\t\tsiteUrl\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t`\n\t);\n\n\tconst metaDescription = description || site.siteMetadata.description;\n\tconst defaultTitle = site.siteMetadata?.title;\n\n\treturn (\n\t\t<>\n\t\t\t<title>{title ? `${title} | ${defaultTitle}` : defaultTitle}</title>\n\t\t\t<meta name=\"description\" content={metaDescription} />\n\t\t\t<meta property=\"og:title\" content={title} />\n\t\t\t<meta property=\"og:description\" content={metaDescription} />\n\t\t\t<meta property=\"og:type\" content=\"website\" />\n\t\t\t<meta name=\"twitter:card\" content=\"summary_large_image\" />\n\t\t\t<meta name=\"twitter:creator\" content={site.siteMetadata?.author || ``} />\n\t\t\t<meta name=\"twitter:title\" content={title} />\n\t\t\t<meta name=\"twitter:description\" content={metaDescription} />\n\t\t\t{children}\n\t\t</>\n\t);\n}\n\nexport default Seo;\n"],"names":["DefaultContext","color","undefined","size","className","style","attr","IconContext","_excluded","_objectWithoutProperties","source","excluded","key","i","target","Object","prototype","hasOwnProperty","call","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","length","propertyIsEnumerable","_extends","assign","bind","arguments","apply","this","ownKeys","e","r","t","keys","o","filter","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","Symbol","toPrimitive","TypeError","String","Number","_toPrimitive","configurable","writable","Tree2Element","tree","map","node","tag","child","GenIcon","data","props","IconBase","elem","conf","title","svgProps","computedSize","stroke","fill","strokeWidth","height","width","xmlns","children","Consumer","hasNativeLazyLoadSupport","HTMLImageElement","Boolean","images","_node$images$fallback","fallback","src","gatsbyImageData","gatsbyImage","_node$childImageSharp","childImageSharp","srcSet","layout","wrapperStyle","getMainProps","isLoading","isLoaded","loading","shouldLoad","opacity","getPlaceholderProps","placeholder","backgroundColor","objectFit","objectPosition","position","top","left","bottom","right","result","transition","Sizer","React","createElement","paddingTop","maxWidth","display","alt","role","LayoutWrapper","_ref","Fragment","Image","decoding","Picture","_ref2","sources","sizes","media","type","fallbackImage","propTypes","PropTypes","isRequired","displayName","Placeholder","_Picture$propTypes","propName","componentName","Error","MainImage","removeNewLines","str","replace","altValidator","rest","string","image","Set","renderImageToStringPromise","renderImage","GatsbyImageHydrator","as","class","preactClass","onStartLoad","onLoad","onError","getWrapperProps","wStyle","wClass","wrapperProps","root","useRef","useMemo","JSON","stringify","sizer","useEffect","import","then","renderImageToString","swapPlaceholderImage","ssrImage","current","querySelector","complete","wasCached","setTimeout","removeAttribute","addEventListener","removeEventListener","onLoadListener","imageCache","add","cacheKey","has","animationFrame","cleanupCallback","innerHTML","requestAnimationFrame","cancelAnimationFrame","useLayoutEffect","ref","dangerouslySetInnerHTML","__html","suppressHydrationWarning","GatsbyImage","memo","_getStaticImage","StaticImage","__imageData","imageData","__error","console","warn","imgClassName","imgStyle","placeholderBackgroundColor","cleanedImages","checkDimensionProps","number","validLayouts","GatsbyImageBrowser","UPPERCASE","LOWERCASE","LEADING_CAPITAL","IDENTIFIER","SEPARATORS","LEADING_SEPARATORS","RegExp","SEPARATORS_AND_IDENTIFIER","NUMBERS_AND_IDENTIFIER","camelCase","input","options","Array","isArray","pascalCase","preserveConsecutiveUppercase","x","trim","join","toLowerCase","locale","toLocaleLowerCase","toUpperCase","toLocaleUpperCase","isLastCharLower","isLastCharUpper","isLastLastCharUpper","character","test","slice","preserveCamelCase","lastIndex","m1","charAt","_","identifier","m","postProcess","module","exports","transformPropOrder","transformProps","radToDeg","rad","Math","PI","rotate","v","angle","atan2","rebaseAngle","matrix2dParsers","y","translateX","translateY","scaleX","scaleY","scale","abs","rotateZ","skewX","atan","skewY","skew","sqrt","matrix3dParsers","z","translateZ","rotateX","rotateY","defaultTransformValue","name","includes","parseValueFromTransform","transform","matrix3dMatch","match","parsers","matrix2dMatch","valueParser","values","split","convertTransformToNumber","parseFloat","checkStringStartsWith","token","startsWith","startsAsVariableToken","isCSSVariableToken","singleCssVariableRegex","containsCSSVariable","convertBoundingBoxToBox","min","max","mixNumber","from","to","progress","isIdentityScale","hasScale","hasTransform","has2DTranslate","is2DTranslate","scalePoint","point","originPoint","applyPointDelta","translate","boxScale","applyAxisDelta","axis","applyBoxDelta","box","TREE_SCALE_SNAP_MIN","TREE_SCALE_SNAP_MAX","translateAxis","distance","transformAxis","axisTranslate","axisScale","axisOrigin","transformBox","originX","originY","measureViewportBox","instance","transformPoint","topLeft","bottomRight","transformBoxPoints","getBoundingClientRect","positionalKeys","clamp","parse","alpha","default","createUnitType","unit","endsWith","percent","px","vh","vw","progressPercentage","testValueType","dimensionValueTypes","findDimensionValueType","find","isNumericalString","splitCSSVariableRegex","getVariableValue","element","depth","exec","token1","token2","parseCSSVariable","resolved","window","getComputedStyle","getPropertyValue","trimmed","isNumOrPxType","transformKeys","nonTranslationalTransformKeys","positionalValues","paddingLeft","paddingRight","paddingBottom","_bbox","noop","any","MotionGlobalConfig","stepsOrder","statsBuffer","addProjectionMetrics","createRenderBatcher","scheduleNextBatch","allowKeepAlive","runNextFrame","useDefaultElapsed","state","delta","timestamp","isProcessing","flagRunNextFrame","steps","reduce","acc","stepName","thisFrame","nextFrame","flushNextFrame","toKeepAlive","WeakSet","latestFrameData","numCalls","triggerCallback","callback","step","schedule","keepAlive","immediate","queue","cancel","delete","process","frameData","frameloop","clear","createRenderStep","setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender","processBatch","useManualTiming","performance","now","cancelFrame","frameSteps","toResolve","isScheduled","anyNeedsMeasurement","isForced","measureAllKeyframes","resolversToMeasure","resolver","needsMeasurement","elementsToMeasure","transformsToRestore","Map","removedTransforms","visualElement","getValue","get","set","removeNonTranslationalTransform","measureInitialState","restore","measureEndState","suspendedScrollY","scrollTo","readAllKeyframes","readKeyframes","KeyframeResolver","constructor","unresolvedKeyframes","onComplete","motionValue","isAsync","scheduleResolve","currentValue","finalKeyframe","valueAsRead","readValue","keyframes","fillWildcards","setFinalKeyframe","renderEndStyles","isForcedComplete","resume","isZeroValueString","isNone","sanitize","round","floatRegex","singleColorRegex","isColorString","testProp","isNullish","splitColor","aName","bName","cName","a","b","c","rgbUnit","clampRgbUnit","rgba","red","green","blue","alpha$1","hex","g","substring","parseInt","hsla","hue","saturation","lightness","getAnimatableNone","parsed","colorRegex","NUMBER_TOKEN","COLOR_TOKEN","complexRegex","analyseComplexValue","originalValue","toString","indexes","var","types","parsedValue","parseComplexValue","createTransformer","numSections","output","convertNumbersToZero","complex","isNaN","transformer","maxDefaults","applyDefaultFilter","defaultValue","functionRegex","functions","numberValueTypes","borderWidth","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderRadius","radius","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","maxHeight","inset","insetBlock","insetBlockStart","insetBlockEnd","insetInline","insetInlineStart","insetInlineEnd","padding","paddingBlock","paddingBlockStart","paddingBlockEnd","paddingInline","paddingInlineStart","paddingInlineEnd","margin","marginTop","marginRight","marginBottom","marginLeft","marginBlock","marginBlockStart","marginBlockEnd","marginInline","marginInlineStart","marginInlineEnd","backgroundPositionX","backgroundPositionY","scaleZ","perspective","transformPerspective","originZ","zIndex","fillOpacity","strokeOpacity","numOctaves","defaultValueTypes","outlineColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","WebkitFilter","getDefaultValueType","defaultValueType","invalidTemplates","DOMKeyframesResolver","super","keyframe","resolveNoneKeyframes","origin","originType","targetType","noneKeyframeIndexes","animatableTemplate","noneIndex","makeNoneKeyframesAnimatable","pageYOffset","measuredOrigin","measureKeyframe","jump","finalKeyframeIndex","unsetTransformName","unsetTransformValue","isMotionValue","getVelocity","clearTime","time","newTime","queueMicrotask","addUniqueItem","arr","item","removeItem","index","splice","SubscriptionManager","subscriptions","handler","notify","numSubscriptions","getSize","velocityPerSecond","velocity","frameDuration","collectMotionValues","MotionValue","init","canTrackVelocity","events","updateAndNotify","currentTime","updatedAt","setPrevFrameValue","prev","setCurrent","change","dependents","dependent","dirty","hasAnimated","owner","prevFrameValue","prevUpdatedAt","onChange","subscription","on","eventName","unsubscribe","stop","clearListeners","eventManagers","attach","passiveEffect","stopPassiveEffect","setWithVelocity","endAnimation","addDependent","removeDependent","getPrevious","start","startAnimation","Promise","resolve","animation","animationStart","animationComplete","clearAnimation","animationCancel","isAnimating","destroy","valueTypes","microtask","cancelMicrotask","featureProps","exit","drag","focus","hover","tap","pan","inView","featureDefinitions","isEnabled","some","createBox","isBrowser","prefersReducedMotion","hasReducedMotionListener","visualElementStore","WeakMap","isAnimationControls","isVariantLabel","variantPriorityOrder","variantProps","isControllingVariants","animate","isVariantNode","variants","getValueState","resolveVariantFromProps","definition","custom","propEventHandlers","VisualElement","scrapeMotionValuesFromProps","_props","_prevProps","_visualElement","parent","presenceContext","reducedMotionConfig","blockInitialAnimation","visualState","shouldReduceMotion","features","valueSubscriptions","prevMotionValues","propEventSubscriptions","notifyUpdate","latestValues","triggerBuild","renderInstance","renderState","projection","renderScheduledAt","scheduleRender","baseTarget","initialValues","initial","variantChildren","manuallyAnimateOnMount","willChange","initialMotionValues","mount","removeFromVariantTree","addVariantChild","bindToMotionValue","matchMedia","motionMediaQuery","setReducedMotionPreferences","matches","initPrefersReducedMotion","addChild","unmount","remove","removeChild","feature","isMounted","enteringChildren","valueIsTransform","onBindTransform","removeOnChange","latestValue","onUpdate","isTransformDirty","removeSyncCheck","MotionCheckAppearSync","sortNodePosition","other","sortInstanceNodePosition","updateFeatures","featureDefinition","Feature","FeatureConstructor","build","measureInstanceViewportBox","getStaticValue","setStaticValue","transformTemplate","prevProps","prevPresenceContext","listener","next","nextValue","prevValue","addValue","hasValue","existingValue","liveStyle","removeValue","updateMotionValuesFromProps","handleChildMotionValue","getProps","getVariant","getDefaultTransition","getTransformPagePoint","transformPagePoint","getClosestVariantNode","closestVariantNode","removeValueFromRenderState","getBaseTargetFromProps","readValueFromInstance","setBaseTarget","getBaseTarget","valueFromInitial","variant","args","scheduleRenderMicrotask","DOMVisualElement","compareDocumentPosition","vars","childSubscription","latest","textContent","getValueAsType","translateAlias","numTransforms","buildHTMLStyles","transformOrigin","hasTransformOrigin","valueAsType","transformString","transformIsDefault","valueIsDefault","buildTransform","renderHTML","styleProp","elementStyle","applyProjectionStyles","setProperty","pixelsToPercent","pixels","correctBorderRadius","correct","correctBoxShadow","treeScale","projectionDelta","original","shadow","template","offset","xScale","yScale","averageScale","scaleCorrectors","applyTo","boxShadow","isForcedMotionValue","layoutId","newValues","HTMLVisualElement","isProjecting","readTransformValue","computedStyle","camelToDash","dashKeys","array","camelKeys","cssMotionPathProperties","buildSVGAttrs","attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset","isSVGTag","viewBox","attrs","spacing","useDashCase","buildSVGPath","camelCaseAttributes","SVGVisualElement","defaultType","getAttribute","_styleProp","setAttribute","renderSVG","tagName","lowercaseSVGElements","isSVGComponent","Component","createDomVisualElement","isSVG","allowProjection","LayoutGroupContext","createContext","LazyContext","strict","MotionConfigContext","p","isStatic","reducedMotion","MotionContext","useCreateMotionContext","context","inherit","getCurrentTreeVariants","useContext","variantLabelsAsDependency","prop","createHtmlRenderState","copyRawValuesOnly","useStyle","useInitialMotionValues","useHTMLProps","htmlProps","dragListener","draggable","userSelect","WebkitUserSelect","WebkitTouchCallout","touchAction","tabIndex","onTap","onTapStart","whileTap","createSvgRenderState","useSVGProps","_isStatic","visualProps","rawStyles","validMotionProps","isValidMotionProp","shouldForward","isValidProp","require","useRender","forwardMotionProps","filteredProps","isDom","filterProps","elementProps","renderedChildren","resolveMotionValue","makeLatestValues","scrapeMotionValues","motionValues","isControllingVariants$1","isVariantNode$1","isInitialAnimationBlocked","variantToSet","list","transitionEnd","valueTarget","makeUseVisualState","config","make","createRenderState","makeState","useConstant","useHTMLVisualState","useSVGVisualState","motionComponentSymbol","for","useMotionRef","externalRef","externalRefContainer","useInsertionEffect","refCleanup","useCallback","onMount","cleanup","optimizedAppearDataAttribute","SwitchLayoutGroupContext","isRefObject","useIsomorphicLayoutEffect","useVisualElement","createVisualElement","ProjectionNodeConstructor","lazyContext","visualElementRef","renderer","initialLayoutGroupConfig","initialPromotionConfig","dragConstraints","layoutScroll","layoutRoot","layoutCrossfade","getClosestProjectingNode","setOptions","alwaysMeasureLayout","animationType","crossfade","createProjectionNode","optimisedAppearId","wantsHandoff","MotionHandoffIsComplete","MotionHasOptimisedAnimation","MotionIsMounted","animationState","animateChanges","MotionHandoffMarkAsComplete","createMotionComponent","preloadedFeatures","loadFeatures","useVisualState","MotionDOMComponent","MeasureLayout","configAndProps","useLayoutId","useStrictMode","layoutProjection","combined","ProjectionNode","getProjectionFunctionality","jsxs","Provider","jsx","ForwardRefMotionComponent","forwardRef","layoutGroupId","id","createMotionProxy","Proxy","componentCache","factory","_target","resolveVariant","getValueTransition","isKeyframesTarget","setMotionValue","resolveFinalValueInKeyframes","addValueToWillChange","WillChange","newWillChange","getOptimisedAppearId","makeAnimationInstant","duration","combineFunctions","pipe","transformers","seconds","millisecondsToSeconds","milliseconds","activeAnimations","mainThread","waapi","hueToRgb","q","mixImmediate","mixLinearColor","fromExpo","expo","colorTypes","asRGBA","model","hslaToRgba","mixColor","fromRGBA","toRGBA","blended","invisibleValues","getMixer","mixComplex","mixArray","mixObject","numValues","blendValue","originStats","targetStats","mixVisibility","orderedOrigin","pointers","originIndex","originValue","matchOrder","mix","mixer","frameloopDriver","passTimestamp","generateLinearEasing","easing","resolution","points","numPoints","maxGeneratorDuration","calcGeneratorDuration","generator","done","Infinity","calcGeneratorVelocity","resolveValue","prevT","springDefaults","granular","safeMin","findSpring","bounce","mass","envelope","derivative","dampingRatio","undampedFreq","exponentialDecay","calcAngularFreq","exp","d","pow","f","initialGuess","rootIterations","approximateRoot","stiffness","damping","durationKeys","physicsKeys","isSpringType","spring","optionsOrVisualDuration","visualDuration","restSpeed","restDelta","isResolvedFromDuration","springOptions","derived","getSpringOptions","initialVelocity","initialDelta","undampedAngularFreq","isGranularScale","resolveSpring","angularFreq","sin","cos","dampedAngularFreq","freqForT","sinh","cosh","calculatedDuration","currentVelocity","isBelowVelocityThreshold","isBelowDisplacementThreshold","toTransition","inertia","power","timeConstant","bounceDamping","bounceStiffness","modifyTarget","nearestBoundary","amplitude","ideal","calcDelta","calcLatest","applyFriction","timeReachedBoundary","spring$1","checkCatchBoundary","hasUpdatedFrame","applyToOptions","generatorOptions","createGenerator","ease","createGeneratorEasing","calcBezier","a1","a2","cubicBezier","mX1","mY1","mX2","mY2","getTForX","aX","lowerBound","upperBound","currentX","currentT","binarySubdivide","easeIn","easeOut","easeInOut","mirrorEasing","reverseEasing","backOut","backIn","backInOut","anticipate","circIn","acos","circOut","circInOut","isBezierDefinition","easingLookup","linear","easingDefinitionToFunction","x1","y1","x2","y2","toFromDifference","isClamp","inputLength","isZeroDeltaRange","reverse","mixers","customMixer","mixerFactory","numMixers","easingFunction","createMixers","interpolator","progressInRange","defaultOffset","remaining","offsetProgress","fillOffset","keyframeValues","times","easingFunctions","isEasingArray","absoluteTimes","convertOffsetToTimes","mapTimeToKeyframe","isNotNull","getFinalKeyframe","repeat","repeatType","speed","resolvedKeyframes","transitionTypeMap","decay","tween","replaceTransitionType","WithPromise","updateFinished","finished","_finished","notifyFinished","onResolve","onReject","percentToProgress","JSAnimation","startTime","isStopped","holdTime","playbackSpeed","tick","teardown","onStop","initAnimation","play","autoplay","pause","repeatDelay","keyframes$1","generatorFactory","mixKeyframes","mirroredGenerator","resolvedDuration","totalDuration","updateTime","animationTime","sample","delay","timeWithoutDelay","isInDelayPhase","elapsed","frameGenerator","currentIteration","floor","iterationProgress","isAnimationFinished","finish","reject","iterationDuration","driver","newSpeed","hasChanged","onPlay","onCancel","stopDriver","sampleTime","attachTimeline","timeline","allowFlatten","observe","supportsScrollTimeline","ScrollTimeline","supportsFlags","memoSupports","supportsFlag","memoized","supportsLinearEasing","document","cubicBezierAsString","supportedWaapiEasing","mapEasingToNativeEasing","segmentEasing","startWaapiAnimation","valueName","pseudoElement","keyframeOptions","iterations","direction","finally","isGenerator","NativeAnimation","finishedTime","manualStartTime","isPseudoElement","applyGeneratorOptions","onfinish","updateMotionValue","isCSSVar","setStyle","commitStyles","effect","getComputedTiming","playbackRate","playState","newStartTime","updateTiming","unsupportedEasingFunctions","replaceStringEasing","NativeAnimationExtended","sampleAnimation","isAnimatable","acceleratedValues","supportsWaapi","Element","AsyncMotionValueAnimation","_animation","stopTimeline","keyframeResolver","createdAt","optionsWithDefaults","KeyframeResolver$1","forced","onKeyframesResolved","sync","isHandoff","resolvedAt","originKeyframe","targetKeyframe","isOriginAnimatable","isTargetAnimatable","hasKeyframesChanged","canAnimate","instantAnimations","resolvedOptions","subject","HTMLElement","supportsBrowserAnimation","catch","pendingTimeline","_onReject","underDampedSpring","keyframesTransition","valueKey","animateMotionValue","valueTransition","when","_delay","delayChildren","staggerChildren","staggerDirection","isTransitionDefined","shouldSkip","skipAnimations","isSync","shouldBlockAnimation","protectedKeys","needsAnimating","shouldBlock","animateTarget","targetAndTransition","transitionOverride","animations","animationTypeState","getState","MotionHandoffAnimation","appearId","all","setTarget","calcChildStagger","sort","numChildren","maxStaggerDuration","animateVariant","getAnimation","getChildAnimations","forwardDelay","animateChildren","first","last","shallowCompare","prevLength","numVariantProps","getVariantContext","reversePriorityOrder","numAnimationTypes","animateList","resolvedDefinition","animateVisualElement","createAnimationState","createState","isInitialRender","buildResolvedTypeValues","changedActiveType","removedKeys","encounteredKeys","removedVariantIndex","typeState","propIsVariant","activeDelta","isActive","isInherited","prevProp","variantDidChange","checkVariantsDidChange","shouldAnimateType","handledRemovedValues","definitionList","resolvedValues","prevResolvedValues","allKeys","markToAnimate","valueHasChanged","willAnimateViaParent","parentVariant","fallbackAnimation","initialTransition","fallbackTarget","shouldAnimate","setActive","setAnimateFunction","makeAnimator","reset","createTypeState","whileInView","whileHover","whileDrag","whileFocus","updateAnimationControlsSubscription","unmountControls","subscribe","prevAnimate","isPresent","onExitComplete","prevIsPresent","exitAnimation","register","isDragging","isDragActive","interactiveElements","isElementKeyboardAccessible","isContentEditable","addDomEvent","passive","isPrimaryPointer","event","pointerType","button","isPrimary","extractEventInfo","pageX","pageY","addPointerEvent","addPointerInfo","calcLength","calcAxisDelta","calcBoxDelta","calcRelativeAxis","relative","calcRelativeAxisPosition","calcRelativePosition","eachAxis","getContextWindow","ownerDocument","defaultView","overflowStyles","PanSession","handlers","contextWindow","dragSnapToOrigin","distanceThreshold","startEvent","lastMoveEvent","lastMoveEventInfo","scrollPositions","removeScrollListeners","onElementScroll","handleScroll","onWindowScroll","updatePoint","info","getPanInfo","history","isPanStarted","isDistancePastThreshold","xDelta","yDelta","distance2D","onStart","onMove","handlePointerMove","handlePointerUp","end","onEnd","onSessionEnd","resumeAnimation","panInfo","initialInfo","onSessionStart","removeListeners","startScrollTracking","parentElement","overflowX","overflowY","scrollLeft","scrollTop","scrollX","scrollY","capture","isWindow","updateHandlers","subtractPoint","lastDevicePoint","startDevicePoint","timeDelta","timestampedPoint","lastPoint","calcRelativeAxisConstraints","calcViewportAxisConstraints","layoutAxis","constraintsAxis","defaultElastic","resolveAxisElastic","dragElastic","minLabel","maxLabel","resolvePointElastic","label","elementDragControls","VisualElementDragControls","openDragLock","currentDirection","constraints","hasMutatedConstraints","elastic","latestPointerEvent","latestPanInfo","originEvent","snapToCursor","panSession","stopAnimation","pauseAnimation","dragPropagation","onDragStart","resolveConstraints","isAnimationBlocked","getAxisMotionValue","measuredAxis","layoutBox","dragDirectionLock","onDirectionLock","onDrag","lockThreshold","getCurrentDirection","updateAxis","getAnimationState","finalEvent","finalPanInfo","onDragEnd","_point","shouldDrag","axisValue","applyConstraints","measure","prevConstraints","resolveRefConstraints","calcRelativeConstraints","resolveDragElastic","relativeConstraints","rebaseAxisConstraints","onMeasureDragConstraints","constraintsElement","constraintsBox","rootProjectionNode","viewportBox","scroll","measurePageBox","measuredConstraints","calcViewportConstraints","userConstraints","convertBoxToBoundingBox","dragMomentum","dragTransition","onDragTransitionEnd","momentumAnimations","startAxisValueAnimation","dragKey","externalMotionValue","scalePositionWithinConstraints","boxProgress","sourceLength","targetLength","calcOrigin","updateScroll","updateLayout","addListeners","stopPointerListener","measureDragConstraints","stopMeasureLayoutListener","stopResizeListener","stopLayoutUpdateListener","hasLayoutChanged","asyncHandler","globalProjectionState","hasAnimatedSinceResize","hasEverUpdated","hasTakenAnySnapshot","MeasureLayoutWithContext","componentDidMount","layoutGroup","switchLayoutGroup","group","didUpdate","safeToRemove","getSnapshotBeforeUpdate","layoutDependency","willUpdate","promote","relegate","stack","getStack","members","componentDidUpdate","currentAnimation","isLead","componentWillUnmount","promoteContext","scheduleCheckAfterUnmount","deregister","useId","usePresence","isObject","isSVGElement","compareByDepth","FlatTree","isDirty","timeout","checkElapsed","borders","numBorders","asNumber","isPx","getRadius","radiusName","easeCrossfadeIn","compress","easeCrossfadeOut","copyAxisInto","originAxis","copyBoxInto","originBox","copyAxisDeltaInto","originDelta","removePointDelta","removeAxisTransforms","transforms","scaleKey","originKey","sourceAxis","removeAxisDelta","xKeys","yKeys","removeBoxTransforms","sourceBox","isAxisDeltaZero","isDeltaZero","axisEquals","axisEqualsRounded","boxEqualsRounded","aspectRatio","axisDeltaEquals","NodeStack","prevLead","lead","indexOfNode","findIndex","member","preserveFollowOpacity","show","resumeFrom","preserveOpacity","snapshot","animationValues","isUpdating","isLayoutDirty","hide","exitAnimationComplete","resumingFrom","removeLeadSnapshot","metrics","nodes","calculatedTargetDeltas","calculatedProjections","transformAxes","resetDistortingTransform","sharedAnimationValues","cancelTreeOptimisedTransformAnimations","projectionNode","hasCheckedOptimisedAppear","MotionCancelOptimisedAnimation","attachResizeListener","defaultParent","measureScroll","checkIsScrollRoot","resetTransform","animationId","animationCommitId","isTreeAnimating","isProjectionDirty","isSharedProjectionDirty","updateManuallyBlocked","updateBlockedByResize","needsReset","shouldResetTransform","eventHandlers","hasTreeAnimated","layoutVersion","updateScheduled","scheduleUpdate","projectionUpdateScheduled","checkUpdateFailed","clearAllSnapshots","updateProjection","propagateDirtyNodes","resolveTargetDelta","calcProjection","cleanDirtyNodes","resolvedRelativeTargetAt","linkedParentVersion","hasProjected","isVisible","animationProgress","sharedNodes","path","notifyListeners","subscriptionManager","hasListeners","cancelDelay","innerWidth","resizeUnblockUpdate","newInnerWidth","finishAnimation","registerSharedNode","hasRelativeLayoutChanged","newLayout","isTreeAnimationBlocked","relativeTarget","layoutTransition","defaultLayoutTransition","onLayoutAnimationStart","onLayoutAnimationComplete","hasTargetChanged","targetLayout","hasOnlyRelativeTargetChanged","animationOptions","setAnimationOrigin","blockUpdate","unblockUpdate","isUpdateBlocked","startUpdate","resetSkewAndRotation","getTransformTemplate","shouldNotifyListeners","prevTransformTemplateValue","updateSnapshot","clearMeasurements","clearIsLayoutDirty","resetTransformStyle","notifyLayoutUpdate","clearSnapshot","removeLeadSnapshots","scheduleUpdateProjection","measuredBox","prevLayout","layoutCorrected","phase","isRoot","wasRoot","isResetRequested","hasProjection","transformTemplateValue","transformTemplateHasChanged","removeTransform","pageBox","removeElementScroll","roundAxis","checkNodeWasScrollRoot","boxWithoutScroll","applyTransform","transformOnly","withTransforms","boxWithoutTransform","setTargetDelta","targetDelta","forceRelativeParentToResolveTarget","relativeParent","forceRecalculation","getLead","isShared","attemptToResolveRelativeTarget","getClosestProjectingParent","removeRelativeTarget","createRelativeTarget","targetWithTransforms","relativeTargetOrigin","parentLayout","canSkip","pendingAnimation","prevTreeScaleX","prevTreeScaleY","treePath","isSharedTransition","treeLength","applyTreeDeltas","prevProjectionDelta","createProjectionDeltas","notifyAll","projectionDeltaWithTransform","snapshotLatestValues","mixedValues","relativeLayout","isSharedLayoutAnimation","isOnlyMember","shouldCrossfadeOpacity","hasOpacityCrossfade","prevRelativeTarget","mixTargetDelta","mixAxisDelta","mixAxis","follow","opacityExit","borderLabel","followRadius","leadRadius","mixValues","motionValue$1","animateSingleValue","completeAnimation","applyTransformsToTarget","shouldAnimatePositionOnly","xLength","yLength","shouldPreserveFollowOpacity","getPrevLead","hasDistortingTransform","resetValues","targetStyle","visibility","pointerEvents","valuesToRender","latestTransform","xTranslate","yTranslate","zTranslate","elementScaleX","elementScaleY","buildProjectionTransform","isCSSVariable","corrected","num","resetTree","measuredLayout","axisSnapshot","layoutDelta","visualDelta","parentSnapshot","relativeSnapshot","onBeforeLayoutMeasure","userAgentContains","navigator","userAgent","roundPoint","maxDistance","DocumentProjectionNode","documentElement","body","HTMLProjectionNode","documentNode","removePointerDownListener","onPointerDown","pointerDownEvent","session","createPanHandlers","onPanSessionStart","onPanStart","onPan","onPanEnd","removeGroupControls","controls","dragControls","prevDragControls","setupGesture","elementOrSelector","elements","scope","selectorCache","EventTarget","querySelectorAll","resolveElements","gestureAbortController","AbortController","signal","abort","isValidHover","handleHoverEvent","lifecycle","isNodeOrChild","isPressing","filterEvents","firePointerEvent","dispatchEvent","PointerEvent","bubbles","isValidPressEvent","press","targetOrSelector","onPressStart","targets","eventOptions","cancelEvents","startPress","currentTarget","onPressEnd","onPointerEnd","endEvent","success","onPointerUp","onPointerCancel","upEvent","useGlobalTarget","cancelEvent","focusEvent","handleKeydown","handleKeyup","enableKeyboardPress","hasAttribute","handlePressEvent","HTMLButtonElement","disabled","observerCallbacks","observers","fireObserverCallback","entry","fireAllObserverCallbacks","entries","observeIntersection","rootInteresectionObserver","lookupRoot","rootObservers","IntersectionObserver","initIntersectionObserver","unobserve","thresholdNames","gestureAnimations","hasEnteredView","isInView","startObserver","viewport","rootMargin","amount","once","threshold","isIntersecting","onViewportEnter","onViewportLeave","prevViewport","hasViewportOptionChanged","_element","globalTapTarget","onFocus","isFocusVisible","onBlur","onHoverStart","onPointerEnter","enterEvent","onHoverEnd","onPointerLeave","leaveEvent","motion","n","clsx","createClassPartObject","nextPart","validators","classGroupId","CLASS_PART_SEPARATOR","EMPTY_CONFLICTS","createClassGroupUtils","classMap","createClassMap","conflictingClassGroups","conflictingClassGroupModifiers","getClassGroupId","getGroupIdForArbitraryProperty","classParts","startIndex","getGroupRecursive","getConflictingClassGroupIds","hasPostfixModifier","modifierConflicts","baseConflicts","array1","array2","combinedArray","concatArrays","classPartObject","currentClassPart","nextClassPartObject","classRest","validatorsLength","validatorObj","validator","content","colonIndex","property","theme","classGroups","processClassGroups","processClassesRecursively","classGroup","len","classDefinition","processClassDefinition","processObjectDefinition","processFunctionDefinition","processStringDefinition","getPart","isThemeGetter","createClassValidatorObject","parts","part","func","createLruCache","maxCacheSize","cacheSize","cache","create","previousCache","EMPTY_MODIFIERS","createResultObject","modifiers","hasImportantModifier","baseClassName","maybePostfixModifierPosition","isExternal","createParseClassName","prefix","experimentalParseClassName","parseClassName","postfixModifierPosition","bracketDepth","parenDepth","modifierStart","currentCharacter","baseClassNameWithImportantModifier","fullPrefix","parseClassNameOriginal","createSortModifiers","modifierWeights","orderSensitiveModifiers","mod","currentSegment","modifier","isArbitrary","isOrderSensitive","SPLIT_CLASSES_REGEX","toValue","resolvedValue","k","createTailwindMerge","createConfigFirst","createConfigRest","configUtils","cacheGet","cacheSet","functionToCall","tailwindMerge","classList","cachedResult","sortModifiers","classGroupsInConflict","classNames","originalClassName","variantModifier","modifierId","classId","conflictGroups","mergeClassList","previousConfig","createConfigCurrent","createConfigUtils","classLists","argument","twJoin","fallbackThemeArr","fromTheme","themeGetter","arbitraryValueRegex","arbitraryVariableRegex","fractionRegex","tshirtUnitRegex","lengthUnitRegex","colorFunctionRegex","shadowRegex","imageRegex","isFraction","isNumber","isInteger","isPercent","isTshirtSize","isAny","isLengthOnly","isNever","isShadow","isImage","isAnyNonArbitrary","isArbitraryValue","isArbitraryVariable","isArbitrarySize","getIsArbitraryValue","isLabelSize","isArbitraryLength","isLabelLength","isArbitraryNumber","isLabelNumber","isArbitraryPosition","isLabelPosition","isArbitraryImage","isLabelImage","isArbitraryShadow","isLabelShadow","isArbitraryVariableLength","getIsArbitraryVariable","isArbitraryVariableFamilyName","isLabelFamilyName","isArbitraryVariablePosition","isArbitraryVariableSize","isArbitraryVariableImage","isArbitraryVariableShadow","testLabel","testValue","shouldMatchNoLabel","getDefaultConfig","toStringTag","themeColor","themeFont","themeText","themeFontWeight","themeTracking","themeLeading","themeBreakpoint","themeContainer","themeSpacing","themeRadius","themeShadow","themeInsetShadow","themeTextShadow","themeDropShadow","themeBlur","themePerspective","themeAspect","themeEase","themeAnimate","scalePositionWithArbitrary","scaleUnambiguousSpacing","scaleInset","scaleGridTemplateColsRows","scaleGridColRowStartAndEnd","span","scaleGridColRowStartOrEnd","scaleGridAutoColsRows","scaleMargin","scaleSizing","scaleColor","scaleBgPosition","scaleBgSize","scaleGradientStopPosition","scaleRadius","scaleBorderWidth","scaleMaskImagePosition","scaleBlur","scaleRotate","scaleScale","scaleSkew","scaleTranslate","aspect","blur","breakpoint","container","font","leading","text","tracking","columns","sr","float","isolation","object","overflow","overscroll","basis","flex","grow","shrink","order","col","row","gap","justify","items","baseline","self","py","ps","pe","pt","pr","pb","pl","mx","my","ms","me","mt","mr","mb","ml","w","screen","h","decoration","indent","align","whitespace","break","wrap","hyphens","bg","radial","conic","via","rounded","border","divide","outline","ring","mask","closest","farthest","brightness","contrast","grayscale","invert","saturate","sepia","table","caption","backface","accent","appearance","caret","scheme","cursor","resize","snap","touch","select","twMerge","cn","inputs","BentoCard","colSpan","rowSpan","div","backgroundImage","Button","href","icon","Icon","rel","primary","secondary","hybrid","LINKS","TechIcon","SocialLink","AboutWidget","avatarVideo","autoPlay","loop","muted","playsInline","FaEnvelope","FaDiscord","FaInstagram","FaXTwitter","FaYoutube","FaLinkedin","SiUnity","TbBrandCSharp","SiBlender","SiReact","SiAdobephotoshop","SiGit","isRecord","areOptionsEqual","optionsA","optionsB","optionsAKeys","optionsBKeys","breakpoints","every","valueA","valueB","sortAndMapPluginToOptions","plugins","concat","plugin","isString","isBoolean","mathAbs","mathSign","sign","deltaAbs","arrayKeys","objectKeys","arrayLast","arrayLastIndex","arrayIsLastIndex","arrayFromNumber","startAt","objectsMergeDeep","objectA","objectB","mergedObjects","currentObject","areObjects","isMouseEvent","evt","ownerWindow","MouseEvent","EventStore","listeners","removeListener","legacyMediaQueryList","addListener","Animations","documentVisibleHandler","fixedTimeStep","lastTimeStamp","accumulatedTime","timeStamp","timeElapsed","hidden","Limit","reachedMin","reachedMax","reachedAny","constrain","removeOffset","ceil","Counter","loopEnd","counter","withinLimit","clone","DragHandler","rootNode","dragTracker","location","scrollBody","scrollTarget","eventHandler","percentOfView","dragFree","dragThreshold","skipSnaps","baseFriction","watchDrag","cross","crossAxis","focusNodes","nonPassiveEvent","initEvents","dragEvents","goToNextThreshold","snapForceBoost","mouse","freeForceBoost","baseSpeed","isMoving","startScroll","startCross","pointerIsDown","preventScroll","preventClick","isMouse","move","touches","up","lastScroll","readPoint","lastCross","diffScroll","diffCross","cancelable","diff","pointerMove","useFriction","useDuration","preventDefault","targetChanged","byDistance","rawForce","pointerUp","force","baseForce","byIndex","allowedForce","forceFactor","factorAbs","friction","emit","click","stopPropagation","emblaApi","downIfAllowed","isMouseEvt","buttons","nodeName","isFocusNode","pointerDown","addDragEvents","down","DragTracker","lastEvent","readTime","evtAxis","coord","expired","diffDrag","diffTime","ResizeHandler","slides","watchResize","nodeRects","observeNodes","resizeObserver","containerSize","slideSizes","destroyed","readSize","measureSize","ResizeObserver","isContainer","slideIndex","lastSize","reInit","defaultCallback","disconnect","ScrollBounds","limit","pullBackThreshold","edgeOffsetTolerance","frictionLimit","shouldConstrain","edge","diffToEdge","diffToTarget","subtract","useBaseFriction","toggleActive","active","ScrollLooper","contentSize","vectors","shouldLoop","loopDistance","ScrollTarget","scrollSnaps","targetVector","minDistance","distances","shortcut","matchingTargets","targetSnapDistance","ascDiffsToSnaps","d1","d2","findTargetSnap","reachedBound","SlideFocus","slideRegistry","eventStore","watchFocus","focusListenerOptions","lastTabPressTime","registerTabPress","code","Date","getTime","slide","Vector1D","initialValue","normalizeInput","Translate","containerStyle","previousTarget","newTarget","SlideLooper","viewSize","slideSizesWithGaps","snaps","ascItems","descItems","loopPoints","findLoopPoints","slidesInGap","startPoints","endPoints","removeSlideSizes","isEndEdge","slideBounds","findSlideBounds","altered","boundEdge","loopPoint","slideLocation","canLoop","shiftLocation","SlidesHandler","watchSlides","mutationObserver","MutationObserver","mutations","mutation","childList","SlidesInView","intersectionEntryMap","intersectionObserver","inViewCache","notInViewCache","slideIndexes","createInViewList","SlidesToScroll","slidesToScroll","containerRect","slideRects","startGap","endGap","pixelTolerance","startEdge","endEdge","groupByNumber","groupSlides","groupSize","byNumber","groups","rectB","rectA","isFirst","isLast","edgeA","edgeB","gapA","chunkSize","currentSize","previousSize","bySize","Engine","scrollAxis","inViewThreshold","containScroll","offsetTop","offsetLeft","offsetWidth","offsetHeight","NodeRects","contentDirection","isRightToLeft","isVertical","nodeRect","Axis","PercentOfView","alignment","predefined","center","Alignment","containSnaps","readEdgeGap","withEdgeGap","slideRect","measureStartGap","measureEndGap","rect","rects","SlideSizes","snapsAligned","alignments","ScrollSnaps","snapsContained","scrollContainLimit","scrollBounds","snapsBounded","snapAligned","usePixelTolerance","scrollBound","toFixed","startSnap","endSnap","lastIndexOf","findScrollContainLimit","measureContained","bound","ScrollContain","ScrollLimit","indexPrevious","dragHandler","seek","engine","offsetLocation","previousLocation","scrollLooper","slideLooper","shouldSettle","settled","withinBounds","hasSettled","hasSettledAndIdle","interpolatedLocation","startLocation","baseDuration","scrollVelocity","scrollDirection","scrollDuration","scrollFriction","rawLocation","rawLocationPrevious","displacement","scrollDistance","useBaseDuration","ScrollBody","indexCurrent","distanceDiff","indexDiff","targetIndex","ScrollTo","scrollProgress","ScrollProgress","slidesInView","groupedSlideIndexes","doNotContain","createSlideRegistry","SlideRegistry","slideFocus","resizeHandler","scrollSnapList","slidesHandler","defaultOptions","OptionsHandler","mergeOptions","optionsAtMedia","matchedMediaOptions","mediaOption","optionsMediaQueries","optionsList","mediaQueries","EmblaCarousel","userOptions","userPlugins","optionsHandler","pluginsHandler","activePlugins","PluginsHandler","mediaHandlers","api","getListeners","off","cb","EventHandler","reActivate","pluginApis","optionsBase","globalOptions","pluginList","createEngine","activate","withOptions","withPlugins","userContainer","userSlides","customContainer","customSlides","storeElements","query","offsetParent","selectedScrollSnap","deActivate","canScrollNext","canScrollPrev","containerNode","internalEngine","previousScrollSnap","scrollNext","scrollPrev","slideNodes","slidesNotInView","useEmblaCarousel","storedOptions","storedPlugins","setEmblaApi","useState","setViewport","pluginsA","pluginsB","optionA","arePluginsEqual","newEmblaApi","playOnInit","stopOnFocusIn","stopOnInteraction","stopOnMouseEnter","stopOnLastSnap","Autoplay","timerStartTime","timerId","autoplayActive","mouseIsOver","playOnDocumentVisible","startAutoplay","documentIsHidden","clearTimeout","setTimer","stopAutoplay","clearTimer","visibilityChange","visibilityState","mouseEnter","mouseLeave","nextIndex","kill","emblaApiInstance","allOptions","normalizeDelay","isDraggable","emblaRootNode","getAutoplayRootNode","jumpOverride","isPlaying","timeUntilNext","ProjectCarousel","isArt","emblaRef","selectedIndex","setSelectedIndex","onSelect","isGif","thumbnail","file","contentType","getImage","url","G","dateString","date","Intl","DateTimeFormat","month","year","format","formatDate","btn","FaGamepad","onClick","none","selector","empty","arrayAll","childMatcher","childFirst","firstElementChild","EnterNode","datum","namespaceURI","_next","_parent","__data__","bindIndex","enter","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","arraylike","ascending","NaN","appendChild","insertBefore","xhtml","svg","xlink","xml","namespaces","space","local","attrRemove","attrRemoveNS","fullname","removeAttributeNS","attrConstant","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","styleRemove","removeProperty","styleConstant","priority","styleFunction","styleValue","propertyRemove","propertyConstant","propertyFunction","classArray","ClassList","_node","_names","classedAdd","names","classedRemove","classedTrue","classedFalse","classedFunction","textRemove","textConstant","textFunction","htmlRemove","htmlConstant","htmlFunction","raise","nextSibling","parentNode","lower","previousSibling","firstChild","creatorInherit","uri","createElementNS","creatorFixed","namespace","constantNull","selection_cloneShallow","cloneNode","selection_cloneDeep","onRemove","typename","__on","j","onAdd","contextListener","params","CustomEvent","createEvent","initEvent","detail","dispatchConstant","dispatchFunction","contains","Selection","parents","_groups","_parents","selection","subgroups","subnode","subgroup","selectAll","selectorAll","selectChild","childFind","selectChildren","childrenFilter","matcher","enterGroup","updateGroup","previous","i0","i1","_enter","_exit","sparse","onenter","onupdate","onexit","append","merge","groups0","groups1","m0","merges","group0","group1","compare","compareNode","sortgroups","sortgroup","each","getAttributeNS","classed","html","creator","insert","before","deep","typenames","parseTypenames","dispatch","iterator","Dispatch","T","copy","that","taskHead","taskTail","interval","clockLast","clockNow","clockSkew","clock","setFrame","clearNow","Timer","_call","_time","timer","restart","wake","timerFlush","t0","t2","t1","sleep","nap","poke","clearInterval","setInterval","emptyOn","emptyTween","timing","schedules","__transition","svgNode","interpolateTransform","pxComma","pxParen","degParen","pop","s","xa","ya","xb","yb","interpolateTransformCss","DOMMatrix","WebKitCSSMatrix","isIdentity","decompose","interpolateTransformSvg","baseVal","consolidate","matrix","tweenRemove","tween0","tween1","tweenFunction","tweenValue","_id","extend","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","l","rgbn","Rgb","rgb_formatHex","rgb_formatRgb","clampa","clampi","Hsl","hslConvert","clamph","clampt","hsl2rgb","m2","v0","v1","v2","v3","t3","channels","displayable","formatHex8","formatHsl","gamma","nogamma","exponential","rgbGamma","rgbSpline","spline","colors","reA","reB","am","bm","bs","bi","one","zero","interpolate","value1","string00","interpolate0","string1","string0","string10","attrTweenNS","attrInterpolateNS","_value","attrTween","attrInterpolate","delayFunction","delayConstant","durationFunction","durationConstant","Transition","_name","newId","selection_prototype","id0","id1","on0","on1","sit","onFunction","styleTween","styleNull","listener0","styleMaybeRemove","styleInterpolate","textTween","textInterpolate","removeFunction","easeConstant","easeVarying","interrupt","defaultTiming","number1","number2","streamGeometry","geometry","stream","streamGeometryType","streamObjectType","FeatureCollection","Sphere","sphere","Point","coordinates","MultiPoint","LineString","streamLine","MultiLineString","Polygon","streamPolygon","MultiPolygon","GeometryCollection","geometries","closed","coordinate","lineStart","lineEnd","polygonStart","polygonEnd","Adder","_partials","Float64Array","_n","hi","lo","valueOf","epsilon","pi","halfPi","quarterPi","tau","hypot","log","asin","x00","y00","x0","y0","areaSum","areaRingSum","areaStream","areaRingStart","areaRingEnd","area","areaPointFirst","areaPoint","boundsStream","bounds","X0","Y0","Z0","X1","Y1","Z1","X2","Y2","Z2","centroidStream","centroidPoint","centroidLineStart","centroidLineEnd","centroidRingStart","centroidRingEnd","centroid","centroidPointFirstLine","centroidPointLine","dx","dy","centroidPointFirstRing","centroidPointRing","PathContext","_context","_radius","pointRadius","_line","closePath","moveTo","lineTo","arc","lengthRing","lengthSum","lengthStream","lengthPointFirst","lengthPoint","cacheDigits","cacheAppend","cacheRadius","cacheCircle","PathString","digits","_append","RangeError","strings","appendRound","line","lines","rejoin","shift","Intersection","segments","compareIntersection","startInside","clip","segment","p0","p1","pointEqual","isSubject","spherical","cartesian","lambda","phi","cosPhi","cartesianDot","cartesianCross","cartesianAddInPlace","cartesianScale","vector","cartesianNormalizeInPlace","longitude","arrays","flatten","pointVisible","clipLine","sink","polygon","ringBuffer","ringSink","polygonStarted","pointRing","ringStart","ringEnd","sinPhi","normal","winding","sum","point0","lambda0","phi0","sinPhi0","cosPhi0","lambda1","sinPhi1","cosPhi1","point1","phi1","absDelta","antimeridian","intersection","phiArc","polygonContains","pointLine","clean","ringSegments","validSegment","sign0","sign1","sinLambda0Lambda1","clipAntimeridianIntersect","circleStream","cosRadius","sinRadius","circleRadius","clipMax","clipMin","clipRectangle","visible","corner","comparePoint","ca","x__","y__","v__","x_","y_","v_","activeStream","bufferStream","clipStream","linePoint","a0","b0","b1","polygonInside","cleanInside","ax","ay","compose","rotationIdentity","deltaLambda","deltaPhi","deltaGamma","rotationLambda","rotationPhiGamma","forwardRotationLambda","rotation","cosDeltaPhi","sinDeltaPhi","cosDeltaGamma","sinDeltaGamma","methods","TransformStream","fit","fitBounds","clipExtent","fitExtent","extent","cosMinDistance","project","delta2","resampleLineTo","c0","c1","phi2","lambda2","dx2","dy2","dz","lambda00","a00","b00","c00","resampleStream","ringPoint","resampleNone","transformRadians","scaleTranslateRotate","sx","sy","cosAlpha","sinAlpha","ai","ci","fi","projectAt","projectResample","projectTransform","projectRotateTransform","cacheStream","theta","preclip","postclip","recenter","resample","transformRotate","clipAngle","cr","smallRadius","notHemisphere","intersect","two","n1","n2","n2n2","n1n2","determinant","c2","n1xn2","A","u","uu","polar","q1","v00","point2","reflectX","reflectY","precision","fitSize","fitWidth","fitHeight","projectionMutator","orthographicRaw","sc","cc","applyX","applyY","invertX","invertY","rescaleX","domain","range","rescaleY","visitedCountries","containerRef","worldData","draw","d3","clientWidth","clientHeight","pathGenerator","projectionStream","contextStream","properties","company","TimelineWidget","projects","allContentfulProject","edges","el","artworks","allContentfulArt","Layout","Head","Seo","description","site","useStaticQuery","metaDescription","siteMetadata","defaultTitle","author"],"sourceRoot":""}